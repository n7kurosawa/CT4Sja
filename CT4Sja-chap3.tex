
%%%%%%%% Chapter %%%%%%%%

\chapter{様々な圏と函手を, 圏論を使わずに}\label{chap:categories and functors without admitting it}

%In this chapter we begin to use our understanding of sets to build more interesting mathematical devices, each of which organizes our understanding of a certain kind of domain. For example, monoids organize our thoughts about agents acting on objects; groups are monoids except restricted to only allow agents to act reversibly. We will then study graphs, which are systems of nodes and arrows that can capture ideas like information flow through a network or model connections between building blocks in a material. We will discuss orders, which can be used to study taxonomies or hierarchies. Finally we take a mathematical look at databases, which actually subsume everything else in the chapter. Databases are connection patterns for structuring information.

この章で我々は, それぞれがある種の領域における我々の理解を構成しているところの, より興味深い数学的装置を構築するために, 集合に対する理解を用い始めることになる. 例えば, モノイド(monoid)は対象に作用するエージェント(agent)に関する思考を構成する. 群(group)はエージェントが可逆的に作用することのみを許すように制限されている点が異なるモノイドである. そのあと我々はグラフ(graph)を調べる. これはノードと矢の系で, ネットワーク上の情報の流れや, 物質の構成ブロックの間の結合の模型といったアイデアを捉えることができる. 我々は順序(order)を議論する. これは分類や階層の研究に用いることができる. 最後に, 我々はデータベース(database)の数学的な面を学ぶ. これは実際にはこの章の残り全てを包括している. データベースは構造化された情報に対するパターンの結合である.

%We will see in Chapter \ref{chap:categories} that everything we study in the present chapter is an example of a category. So is $\Set$, the category of sets studied in Chapter \ref{chap:sets}. One way to think of a category is as a set of objects and a connection pattern between them; sets are objects (ovals full of dots if you wish) connected by functions. But each set is itself a category: the objects inside it are just disconnected! Just like a set has an interior view and an exterior view, so will all the categories in this chapter. Each monoid {\em is} a category, but there is also a category {\em of} monoids. 

我々はChapter \ref{chap:categories}で, 我々がそれまでの章で学んだ全ては圏の例であることを見る. $\Set$, Chapter \ref{chap:sets}で学んだ集合の圏もまたそうである. 圏を考察する一つのやり方は, 対象の集合とそれらの間の結合パターンとみなすことである. 集合は函数によって結びつけられた対象(もし望むなら点で埋められた楕円形と思ってもよい)である. しかしそれぞれの集合はそれ自体が圏である. その内部の対象は単に結合していないだけだ! このように集合には内側での視点と外側での視点があり, この章での全ての圏もまたそうである. それぞれのモノイド\emph{は}圏であるが, しかしモノイド\emph{の}圏でもある.

%However, we will not really say the word ``category" much if at all in this chapter. It seems preferable to let the ideas rise on their own accord as interesting structures in their own right before explaining that everything in site fits into a single framework. That will be the pleasant reward to come in Chapter \ref{chap:categories}.

しかし, この章で我々は, たとえ使うにしても``圏''という単語を実際には多くは使用しない. ここでの全てが単一の枠組みの中に適合することを説明する前に, それ自身からそれが本質的に持つ興味深い構造としてアイデアが浮び上がってくる方が, より好ましいだろう. これはChapter \ref{chap:categories}で嬉しい報酬となって返ってくる.

%%%%%% Section %%%%%%

\section{モノイド}\label{sec:monoids}\index{monoid}

%A common way to interpret phenomena we see around us is to say that agents are acting on objects. For example, in a computer drawing program, the user {\em acts on} the canvas in certain prescribed ways. Choices of actions from an available list can be performed in sequence to transform one image into another. As another example, one might investigate the notion that time {\em acts on} the position of hands on a clock in a prescribed way. A first rule for actions is this: the performance of a sequence of several actions is itself the performance of an action---a more complex action, but an action nonetheless.

我々が身の回りの現象を解釈する通常の方法の一つは, エージェントが対象に作用するとすることである. たとえば, コンピュータ描画プログラムでは, 使用者はある定められた方法でキャンバスに\emph{作用する}. 可能動作の一覧からの選択は, ある画像から他の画像へ変換するために一連の動作として実行されるだろう. また別の例として, 時間は時計の針の位置に対して定められた方法で\emph{作用する}という概念を, 調べる人がいるかもしれない. 作用に対する最初の法則は以下である. 一連のいくつかの作用の動作は, それ自身がある一つの作用---より複雑だがそれにもかかわらず一つの---作用である.

%Mathematical objects called {\em monoids} and {\em groups} are tasked with encoding the agent's perspective in all this, i.e. what the agent can do, and what happens when different actions are done in succession. A monoid can be construed as a set of actions, together with a formula that encodes how a sequence of actions is itself considered an action. A group is the same as a monoid, except that every action is required to be reversible. In this section we concentrate on monoids; we will get to groups in Section \ref{sec:groups}.

\emph{モノイド(monoid)}および\emph{群(groups)}と呼ばれる数学的対象は, この観点においてエージェントを符号化することが課されている. i.e. エージェントができることはなにか, そして異なった作用が連続してなされたとき何が起こるのか. モノイドは作用の集合に, 一連の作用をそれ自身作用としてみなすことを符号化する式が伴ったものとして構成することができる. 群はモノイドと同じものだが, それぞれの作用が可逆的であることが要求されている点が異なる. この章では我々はモノイドに集中する. 我々はSection \ref{sec:groups}で群にとりかかることにする.

%%%% Subsection %%%%

%\subsection{Definition and examples}
\subsection{定義と例}

%\begin{definition}[Monoid]\label{def:monoid}
\begin{definition}[モノイド]\label{def:monoid}\index{monoid}

%A {\em monoid} is a sequence $(M,e,\star)$, where $M$ is a set, $e\in M$ is an element, and $\star\taking M\times M\to M$ is a function, such that the following conditions hold for all $m,n,p\in M$:
%\begin{itemize}
%\item $m\star e=m$,
%\item $e\star m=m$, and
%\item $(m\star n)\star p=m\star(n\star p)$.
%\end{itemize}
%We refer to $e$ as the {\em identity element}\index{monoid!identity element of} and to $\star$ as the {\em multiplication formula} for the monoid.\index{monoid!multiplication formula}
%\footnote{Although the function $\star\taking M\times M\to M$ is called the multiplication formula, it may have nothing to do with multiplication. It is nothing more than a formula for taking two inputs and returning an output; calling it ``multiplication" is suggestive of its origins, rather than prescriptive of its behavior.} 
%We call the first two rules {\em identity laws} and the third rule the {\em associativity law} for monoids. 

\emph{モノイド(monoid)}は列$(M,e,\star)$である. ここで$M$は集合, $e\in M$は要素, $\star\taking M\times M\to M$は, 全ての$m,n,p\in M$に対して以下の条件を満たすところの函数である.
\begin{itemize}
\item $m\star e=m$,
\item $e\star m=m$,
\item $(m\star n)\star p=m\star(n\star p)$.
\end{itemize}
我々は$e$を\emph{単位元(identity element)}\index{monoid!identity element of}, $\star$をモノイドに対する\emph{積の式(multiplication formula)}\index{monoid!multiplication formula}として参照する.
\footnote{函数$\star\taking M\times M\to M$は積の式と呼ばれるものの, これは複製とは全く関係がないだろう. これは二つの入力を取って一つの出力を返す式それ以上のものではない. ``積''と呼ぶのはそのふるまいの規約よりも, むしろその出自を示唆している.}
我々は最初の二つの法則をモノイドに対する\emph{単位則(identity laws)}, 三番目の法則をモノイドに対する\emph{結合則(associativity law)}と呼ぶ

\end{definition}

\begin{remark}

%To be pedantic, the conditions from Definition \ref{def:monoid} should be stated 
%\begin{itemize}
%\item $\star(m,e)=m$,
%\item $\star(e,m)=m$, and 
%\item $\star(\star(m,n),p)=\star(m,(\star(n,p))$.
%\end{itemize} The way they are written in Definition \ref{def:monoid} is called {\em infix notation},\index{infix notation} and we often use infix notation without mentioning it. That is, given a function $\cdot\taking A\times B\to C$, we may write $a\cdot b$ rather than $\cdot(a,b)$.

教育的であろうとすれば, Definition \ref{def:monoid}の条件は
\begin{itemize}
\item $\star(m,e)=m$,
\item $\star(e,m)=m$,
\item $\star(\star(m,n),p)=\star(m,(\star(n,p))$.
\end{itemize}
と述べられるべきである. Definition \ref{def:monoid}での書き方の流儀は\emph{中置記法(infix notation)},\index{infix notation}と呼ばれ, 我々はしばしば特に言及することなく中置記法を用いる. これはすなわち, 函数$\cdot\taking A\times B\to C$が与えられたとき, $\cdot(a,b)$よりもむしろ$a\cdot b$と書くであろう, ということである.

\end{remark}

%\begin{example}[Additive monoid of natural numbers]\label{ex:monoid 0}\index{monoid!additive natural numbers}
\begin{example}[自然数の加法モノイド]\label{ex:monoid 0}\index{monoid!additive natural numbers}

%Let $M=\NN$ be the set of natural numbers. Let $e=0$ and let $\star\taking M\times M\to M$ denote addition, so that $\star(4,18)=22$. Then the equations $m\star 0=m$ and $0\star m=m$ hold, and $(m\star n)\star p=m\star (n\star p)$. By assigning $e$ and $\star$ in this way, we have ``given $\NN$ the structure of a monoid".

$M=\NN$を自然数の集合とする. $e=0$であり$\star\taking M\times M\to M$が加法を表すとする. よって$\star(4,18)=22$である. このとき等式$m\star 0=m$および$0\star m=m$がなりたち, $(m\star n)\star p=m\star (n\star p)$である. この方法で$e$と$\star$を割り当てることによって, 我々は``$\NN$にモノイドの構造を与えた''.

\end{example}

\begin{remark}

%Sometimes we are working with a monoid $(M,e,\star)$, and the identity $e$ and multiplication $\star$ are somehow clear from context. In this case we might refer to the set $M$ as though it were the whole monoid. For example, if we were discussing the monoid from Example \ref{ex:monoid 0}, we might refer to it as $\NN$. The danger comes because sets may have multiple monoid structures, as we see below in Exercise \ref{exc:monoid 1}. 

時々, モノイド$(M,e,\star)$を扱う際に, 単位元$e$と積$\star$がなんらかの文脈上明らかなことがある. この場合, 我々は集合$M$をそれがあたかもモノイドの全てであるかのように参照するかもしれない. 例えば, もしExample \ref{ex:monoid 0}からモノイドを議論しようとすれば, 我々は$\NN$としてそれを参照するだろう. これは危険をともなう。なぜならば以下のExercise \ref{exc:monoid 1}で見るように, 集合は複数のモノナド構造を持つかもしれないからだ. 

\end{remark}

%\begin{example}[Non-monoid]
\begin{example}[非モノイド]

%If $M$ is a set, we might call a function $f\taking M\times M\to M$ an {\em operation on $M$}. For example, if $M=\NN$ is the set of natural numbers, we can consider the operation $f\taking\NN\to\NN$ called exponentiation. For example $f(2,5)=2*2*2*2*2=32$ and $f(7,2)=49.$ This is indeed an operation, but it is not part of any monoid. For one thing there is no possible unit. Trying the obvious choice of $e=1$, we see that $a^1=a$ (good), but that $1^a=1$ (bad: we need it to be $a$). For another thing, this operation is not associative because in general $a^{b^c}\neq (a^b)^c$. For example, $2^{1^2}=2$ but $(2^1)^2=4$. 

$M$が集合であるとき, 我々は函数$f\taking M\times M\to M$を\emph{operation on $M$}\index{operation!on $\Set$}と呼ぶことがある. 例えば, $M=\NN$が自然数の集合であるとき, 我々は累乗と呼ばれるoperation $f\taking\NN\times\NN\to\NN$を考えることができる. 例えば$f(2,5)=2*2*2*2*2=32$であり$f(7,2)=49$である. これは実際operationであるが, しかしいかなるモノイドの一部でもない. 一例を挙げると単位元の可能性がある要素が存在しない. 明らかな選択として$e=1$を試みると, $a^1=a$は得られる(good)ものの, $1^a=1$も得られる(bad: 我々はこれが$a$であることを必要とする). また別の点を挙げると, このoperationは結合的ではない. なぜなら一般に$a^{b^c}\neq (a^b)^c$である. 例えば$2^{1^2}=2$しかし$(2^1)^2=4$である.

%One might also attempt to consider an operation $f\taking M\times M\to M$ that, upon closer inspection, aren't even operations. For example, if $M=\ZZ$ then exponentiation is not even an operation. Indeed, $f(2,-1)=2^{-1}=\frac{1}{2}$, and this is not an integer. To have a function $f\taking M\times M\to M$, we need that every element of the domain, in this case every pair of integers, has an output under $f$. So there is no such function $f$. 

operation $f\taking M\times M\to M$として, 詳しく見てみるとoperationですらないようなものを, 考えてみたくなるかもしれない. 例えば, $M=\ZZ$とすると, 累乗はoperationですらない. 実際, $f(2,-1)=2^{-1}=\frac{1}{2}$であり, これは整数ではない. 函数$f\taking M\times M\to M$を得るにあたって, 始域の全ての要素, この場合は全ての整数の対が, $f$の下で出力を(終域内に)持つ必要がある. よって(この場合)そのような函数$f$は存在しない. 

\end{example}

\begin{exercise}\label{exc:monoid 1}
%Let $M=\NN$ be the set of natural numbers. Taking $e=1$, come up with a formula for $\star$ that gives $\NN$ the structure of a monoid.
$M=\NN$を自然数の集合とする. $e=1$をとり, $\NN$にモノイド構造を与える$\star$に対する式を考案せよ.
\end{exercise}

\begin{exercise}
%Come up with an operation on the set $M=\{1,2,3,4\}$, i.e. a legitimate function $f\taking M\times M\to M$, such that $f$ cannot be the multiplication formula for a monoid on $M$. That is, either it is not associative, or no element of $M$ can serve as a unit.
集合$M=\{1,2,3,4\}$の上のoperation, i.e. 正当な函数$f\taking M\times M\to M$で$M$上のモノイドに対する積の式を満しえないところの$f$を, 考案せよ. これは, 結合的ではないか, あるいは$M$のどの要素も単位元となりえないかの, どちらかであればよい.
\end{exercise}

\begin{exercise}\label{ex:commutative monoid}
%In both Example \ref{ex:monoid 0} and Exercise \ref{exc:monoid 1}, the monoids $(M,e,\star)$ satisfied an additional rule called {\em commutativity},\index{monoid!commutative} namely $m\star n=n\star m$ for every $m,n\in M$. There is a monoid $(M,e,\star)$ lurking in linear algebra textbooks that is not commutative; if you have background in linear algebra try to answer this: what $M, e$, and $\star$ might I be referring to?
Example \ref{ex:monoid 0}と\ref{exc:monoid 1}の両者ともに, モノイド$(M,e,\star)$は\emph{可換性(commutativity)}\index{monoid!commutative}, すなわち全ての$m,n\in M$に対して$m\star n=n\star m$であるという, 追加の法則を満している. 線形代数の教科書には可換でないモノイド$(M,e,\star)$が潜んでいる. もしも線形代数の背景知識があるならば, 以下の問いに答えてみよう. 著者が参照しているであろう$M$, $e$, そして$\star$は何であろうか?
\end{exercise}

\begin{exercise}
%Recall the notion of commutativity for monoids from Exercise \ref{ex:commutative monoid}. 
%\sexc What is the smallest set $M$ that you can give the structure of a non-commutative monoid? 
%\next What is the smallest set $M$ that you can give the structure of a monoid?
%\endsexc
\ref{ex:commutative monoid}でのモノイドの可換性の概念を思い出そう.
\sexc 非可換モノイドの構造を与えることができる最小の集合$M$は何だろうか?
\next モノイドの構造を与えることができる最小の集合$M$は何だろうか?
\endsexc
\end{exercise}

%\begin{example}[Trivial monoid]\label{ex:trivial monoid}
\begin{example}[自明なモノイド]\label{ex:trivial monoid}

%There is a monoid with only one element, $M=(\{e\},e,\star)$ where $\star\taking\{e\}\times\{e\}\to\{e\}$ is the unique function. We call this monoid {\em the trivial monoid},\index{monoid!trivial} and sometimes denote it $\ul{1}$.

一要素しかないモノイド$M=(\{e\},e,\star)$が存在する. ここで$\star\taking\{e\}\times\{e\}\to\{e\}$は一意な函数である. 我々はこのモノイドを\emph{自明なモノイド(the trivial monoid)}\index{monoid!trivial}と呼び, しばしば$\ul{1}$と表記する.

\end{example}

\begin{example}

%Suppose that $(M,e,\star)$ is a monoid. Given elements $m_1,m_2,m_3,m_4$ there are five different ways to parenthesize the product $m_1\star m_2\star m_3\star m_4$, and the associativity law for monoids will show them all to be the same. We have
$(M,e,\star)$がモノイドであると仮定する. 要素$m_1,m_2,m_3,m_4$が与えられたとき, 積$m_1\star m_2\star m_3\star m_4$に括弧をつけるのに5種類の異なった方法が存在する. モノイドに対する結合則によってそれら全てが同じであることが示される. 以下が得られる.
\begin{align*}
((m_1\star m_2)\star m_3)\star m_4&=(m_1\star m_2)\star (m_3\star m_4)\\
&=(m_1\star(m_2\star m_3))\star m_4\\
&=m_1\star(m_2\star (m_3\star m_4))\\
&=m_1\star((m_2\star m_3)\star m_4)
\end{align*}

%In fact, the product of any list of monoid elements is the same, regardless of parenthesization. Therefore, we can unambiguously write $m_1m_2m_3m_4m_5$ rather than any given parenthesization of it. This is known as the \href{http://en.wikipedia.org/wiki/Coherence_theorem}{\text coherence theorem} and can be found in \cite{Mac}.

実際, 任意のモノイドの要素の列の積は, 括弧づけにかかわらず同じである. それゆえに, 括弧を付けなくとも, あいまいさなく$m_1m_2m_3m_4m_5$と書くことができる. これは\href{http://en.wikipedia.org/wiki/Coherence_theorem}{\text coherence theorem}として知られており, \cite{Mac}で見出される.

\end{example}

%% Subsubsection %%

%\subsubsection{Free monoids and finitely presented monoids}\label{sec:free monoid}
\subsubsection{自由モノイドと有限表現モノイド}\label{sec:free monoid}

\begin{definition}\label{def:list}\index{list}

%Let $X$ be a set. A {\em list in $X$} is a pair $(n,f)$ where $n\in\NN$ is a natural number (called the {\em length of the list}) and $f\taking\ul{n}\to X$ is a function, where $\ul{n}=\{1,2,\ldots,n\}$. We may denote such a list by 
%$$(n,f)=[f(1),f(2),\ldots,f(n)].$$ 
%The {\em empty list} is the unique list in which $n=0$; we may denote it by $[\;]$. Given an element $x\in X$ the {\em singleton list on $x$} is the list $[x]$. Given a list $L=(n,f)$ and a number $i\in\NN$ with $i\leq n$, the {\em $i$th entry of $L$} is the element $f(i)\in X$. \index{entry!in list}

$X$を集合とする. \emph{$X$でのリスト(list in $X$)}とは対$(n,f)$である. ここで$n\in\NN$は(\emph{リストの長さ(length of the list)}と呼ばれる)自然数であり, $f\taking\ul{n}\to X$は函数, また$\ul{n}=\{1,2,\ldots,n\}$である. われわれはこのようなリストを
$$(n,f)=[f(1),f(2),\ldots,f(n)]$$
によって表記する. \emph{空リスト(empty list)}は$n=0$である一意なリストである. 我々はこれを$[\;]$によって表記しよう. 要素$x\in X$が与えられたとき, \emph{$x$の単一要素リスト(singleton list on $x$)}はリスト$[x]$である. リスト$L=(n,f)$と$i\leq n$なる自然数$i\in\NN$が与えられたとき, \emph{$i$th entry of $L$}は要素$f(i)\in X$である.\index{entry!in list}

%Given two lists $L=(n,f)$ and $L'=(n',f')$, define the {\em concatenation of $L$ and $L'$}\index{list!concatenation}\index{concatenation!of lists}, denoted $L\plpl L'$,\index{a symbol!$\plpl$} to be the list $(n+n',f\plpl f')$, where $f\plpl f'\taking \ul{n+n'}\to X$ is given on $i\leq n+n'$ by
%$$(f\plpl f')(i):=
%\begin{cases}
%f(i)&\tn{ if }i\leq n\\
%f'(i-n)&\tn{ if }i\geq n+1
%\end{cases}
%$$

二つのlist $L=(n,f)$と$L'=(n',f')$が与えられたとき, \emph{$L$と$L'$の連結(concatenation of $L$ and $L'$)}\index{list!concatenation}\index{concatenation!of lists}を, $L\plpl L'$,\index{a symbol!$\plpl$}と表記し, $(n+n',f\plpl f')$と定義する. ここで$f\plpl f'\taking \ul{n+n'}\to X$は$i\leq n+n'$について以下で与えられる.
$$(f\plpl f')(i):=
\begin{cases}
f(i)&\tn{ if }i\leq n\\
f'(i-n)&\tn{ if }i\geq n+1
\end{cases}
$$
\end{definition}

\begin{example}

%Let $X=\{a,b,c,\ldots,z\}$. The following are elements of $\List(X)$: $$[a,b,c],\;\; [p],\;\; [p,a,a,a,p],\;\; [\;],\;\;\dots$$ The concatenation of $[a,b,c]$ and $[p,a,a,a,p]$ is $[a,b,c,p,a,a,a,p]$. The concatenation of any list $A$ with $[\;]$ is just $A$.

$X=\{a,b,c,\ldots,z\}$とする. 以下は$\List(X)$の要素である. $$[a,b,c],\;\; [p],\;\; [p,a,a,a,p],\;\; [\;],\;\;\dots$$ $[a,b,c]$と$[p,a,a,a,p]$の連結は$[a,b,c,p,a,a,a,p]$である. 任意のリスト$A$と$[\;]$の連結は$A$である.

\end{example}

\begin{definition}\label{def:free monoid}\index{monoid!free}

%Let $X$ be a set. The {\em free monoid generated by $X$} is the sequence $M:=(\List(X),[\;],\plpl)$, where $\List(X)$ is the set of lists of elements in $X$, where $[\;]\in\List(X)$ is the empty list, and where $\plpl$ is the operation of list concatenation. We refer to $X$ as the set of generators for the monoid $M$.

$X$を集合とする. \emph{$X$によって生成される自由モノイド(free monoid generated by $X$)}とは列$M:=(\List(X),[\;],\plpl)$である. ここで$\List(X)$は$X$内の要素からなるリストの集合であり, $[\;]\in\List(X)$は空リスト, $\plpl$はリスト連結のoperationである. 我々は$X$をモノイド$M$に対する生成子(generator)の集合として参照する.

\end{definition}

\begin{exercise}
%Let $\singleton$ denote a one-element set. 
%\sexc What is the free monoid generated by $\singleton$? 
%\next What is the free monoid generated by $\emptyset$?
%\endsexc
$\singleton$が一要素集合を表すとする.
\sexc $\singleton$によって生成される自由モノイドは何か?
\next $\emptyset$によって生成される自由モノイドは何か?
\endsexc
\end{exercise}

%In the definition below, we will define a monoid $M$  by specifying some generators and some relations. Lists of generators provide us all the possible ways to write elements of $M$. The relations allow us to have two such ways of writing the same element. The following definition is a bit dense, so see Example \ref{ex:presented monoid} for a concrete example.

以下の定義では, 我々はモノイド$M$を, なんらかの生成子となんらかの関係(relation)を指定することによって定義する. 生成子のリストによって、$M$の要素を書き出す全ての方法が得られる. 関係によって, 同じ要素を書き出す二つの異なった方法を得ることができる. 以下の定義は少々密度が濃い. 完全な例としてはExample \ref{ex:presented monoid}を見るのがよい. 

\begin{definition}[Presented monoid]\label{def:presented monoid}\index{monoid!presented}

%Let $G$ be a finite set, let $n\in\NN$ be a natural number,
%\footnote{The number $n\in\NN$ is going to stand for the number of relations we declare.} 
%and for each $1\leq i\leq n$, let $m_i$ and $m_i'$ be elements of $\List(G)$.
%\footnote{Each $m_i$ and $m_i'$ are going to be made equal in the set $M$.} 
%The {\em monoid presented by generators $G$ and relations $\{(m_i,m_i')\|1\leq i\leq n\}$} is the monoid $\mcM=(M,e,\star)$ defined as follows. Let $\sim$ denote the equivalence relation on $\List(G)$ generated by $\{(xm_iy\sim xm_i'y)\|x,y\in\List(G), 1\leq i\leq n\}$, and define $M=\List(G)/\sim$. Let $e=[\;]$ and let $a * b$ be obtained by concatenating representing lists. 

$G$を有限集合, $n\in\NN$を自然数とし\footnote{数$n\in\NN$は我々が宣言する関係の数を意味することになる.}, それぞれの$1\leq i\leq n$に対して$m_i$と$m_i'$は$\List(G)$の要素であるとする. \footnote{$m_i$と$m_i'$のそれぞれは集合$M$の中で等号を作ることになる.} \emph{生成子$G$と関係$\{(m_i,m_i')\|1\leq i\leq n\}$によって表現されるモノイド(monoid presented by generators $G$ and relations $\{(m_i,m_i')\|1\leq i\leq n\}$)}は, モノイド$\mcM=(M,e,\star)$であり, 以下のように定義される. $\sim$が$\{(xm_iy\sim xm_i'y)\|x,y\in\List(G), 1\leq i\leq n\}$によって生成される$\List(G)$上の同値関係を示すとし, $M=\List(G)/\sim$と定義する. $e=[\;]$とし、また$a * b$を表現しているリストの結合によって得られるとする.

\end{definition}

\begin{remark}

%Every free monoid is a presented monoid, because we can just take the set of relations to be empty.

全ての自由モノイドは表現モノイドである. なぜなら関係の集合として単に空集合をとることができるからである.

\end{remark}

\begin{example}\label{ex:presented monoid}

%Let $G=\{a,b,c,d\}$. Think of these as buttons that can be pressed. The free monoid $\List(G)$ is the set of all ways of pressing buttons, e.g. pressing $a$ then $a$ then $c$ then $c$ then $d$ corresponds to the list $[a,a,c,c,d]$. The idea of presented monoids is that you notice that pressing $[a,a,c]$ always gives the same result as pressing $[d,d]$. You also notice that pressing $[c,a,c,a]$ is the same thing as doing nothing. 

$G=\{a,b,c,d\}$とする. これらを押すことのできるボタンであると考える. 自由モノイド$\List(G)$はボタンを押す全てやり方の集合である, e.g. $a$を押して$a$を押して$c$を押して$c$を押して$d$を押すのは, リスト$[a,a,c,c,d]$に対応する. 表現モノイドのアイデアは, $[a,a,c]$と押すのは常に$[d,d]$と押すのと同じ結果を与える, ということである. また, $[c,a,c,a]$と押すことは何も押さないのと同じことであるということに気が付いたとしよう. 

%In this case, we would have $m_1=[a,a,c]$, $m_1'=[d,d]$, and $m_2=[c,a,c,a], m_2'=[\;]$ and relations $\{(m_1,m_1'), (m_2,m_2')\}$. Really this means that we're equating $m_1$ with $m_1'$ and $m_2$ with $m_2'$, which for convenience we'll write out:
%$${\color{blue}{[a,a,c]}}={\color{blue}{[d,d]}}\hsp\tn{and}\hsp{\color{red}{[a,c,a,c]}}={\color{red}{[\;]}}
%$$ 

この場合, $m_1=[a,a,c]$, $m_1'=[d,d]$, $m_2=[c,a,c,a]$, $m_2'=[\;]$, および関係$\{(m_1,m_1'), (m_2,m_2')\}$が得られている. 実際にこれが意味するところは, $m_1$と$m_1'$, $m_2$と$m_2'$を等しいと見なすということである. 我々は便利のため以下のように書き出す.
$${\color{blue}{[a,a,c]}}={\color{blue}{[d,d]}}\hsp\tn{and}\hsp{\color{red}{[a,c,a,c]}}={\color{red}{[\;]}}
$$ 

%To see how this plays out, we give an example of a calculation in $M=\List(G)/\sim$. Namely, 
これがどのように働くかをみるために, $M=\List(G)/\sim$での計算の例を与えよう. すなわち,
\begin{align*}
[b,c,b,{\color{blue}{d,d}},a,c,a,a,c,d] = [b,c,b,a,a,{\color{red}{c,a,c,a}},a,c,d] &= [b,c,b,a,{\color{blue}{a,a,c}},d]\\
&= [b,c,b,a,d,d,d].
\end{align*}

\end{example}

\begin{application}[Buffer]\label{app:buffer}

%Let $G=\{a,b,c,\ldots\,z\}$. Suppose we have a \href{http://en.wikipedia.org/wiki/Data_buffer}{\text buffer} of 32 characters and we want to consider the set of lists of length at most 32 to be a monoid. We simply have to decide what happens when someone types a list of length more than 32. 

$G=\{a,b,c,\ldots\,z\}$とする. 32文字の\href{http://en.wikipedia.org/wiki/Data_buffer}{\text buffer}が手元にあると仮定する. 我々は最大長が32である文字リストの集合をモノイドとみなしたい. 簡単には我々は32以上の長さが入力されたときに何が起きるかを決める必要がある. 

%One option is to say that the last character typed overwrites the 32nd entry, $$[a_1,a_2,\ldots,a_{31},a_{32},b]\sim_1[a_1,a_2,\ldots,a_{31},b].$$ Another option is to say that any character typed after\_32 entries is discarded, $$[a_1,a_2,\ldots,a_{31},a_{32},b]\sim_2[a_1,a_2,\ldots,a_{31},a_{32}].$$ Both of these yield finitely presented monoids, generated by $G$. (In case it's useful, the number of necessary relations in both cases is $26^{33}$.)

一つの選択肢は, 入力された最後の文字は32番目のentryを上書きすることである. $$[a_1,a_2,\ldots,a_{31},a_{32},b]\sim_1[a_1,a_2,\ldots,a_{31},b]$$ 別の選択肢は32番目のentryを越えて入力された全ての文字を廃棄することである. $$[a_1,a_2,\ldots,a_{31},a_{32},b]\sim_2[a_1,a_2,\ldots,a_{31},a_{32}].$$ これら両者のいずれも, $G$によって生成される有限な表現モノイドを与える. (これが使える場合には, 必要な関係の数はどちらの場合も$26^{33}$である.)

\end{application}

\begin{exercise}\label{exc:buffer3}

%Let's consider the buffer concept again (see Application \ref{app:buffer}), but this time only having size 3 rather than size 32. Show using Definition \ref{def:presented monoid} that with relations given by $\sim_1$ we indeed have $[a,b,c,d,e,f]=[a,b,f]$ and that with relations given by $\sim_2$ we indeed have $[a,b,c,d,e,f]=[a,b,c]$.

再びbufferの概念を考えてみよう(Application \ref{app:buffer}を見よ). ただし今回は大きさが32ではなく3であるとする. Definition \ref{def:presented monoid}を用いて, $\sim_1$によって与えられる関係によって実際に$[a,b,c,d,e,f]=[a,b,f]$が得られること, そして$\sim_2$によって実際に$[a,b,c,d,e,f]=[a,b,c]$が得られることを示せ.
\end{exercise}

\begin{exercise}
%Let $K:=\{BS,a,b,c,\ldots,z\}$, a set having 27 elements. Suppose you want to think of $BS\in K$ as the ``backspace key" and the elements $a,b,\ldots z\in K$ as the letter keys on a keyboard. Then the free monoid $\List(K)$ is not quite appropriate as a model because we want $[a,b,d,BS]=[a,b]$. 
%\sexc Choose a set of relations for which the monoid presented by generators $K$ and the chosen relations is appropriate to this application. 
%\next Under your relations, how does $[BS]$ compare with $[\;]$? Is that suitable?
%\endsexc
$K:=\{\mathit{BS},a,b,c,\ldots,z\}$を, 27要素の集合とする. $\mathit{BS}\in K$は``backspace key'', 要素$a,b,\ldots z\in K$は文字キーでキーボード上にあるとみなしたいと仮定する. このとき自由モノイド$\List(K)$は模型としてそれほど適切ではないだろう. なぜなら$[a,b,d,\mathit{BS}]=[a,b]$であって欲しいからだ.
\sexc 生成子$K$で表現されるモノイドと選んだ関係がこの応用に対して適切であるところの関係の集合を選べ. 
\next その関係の下で, $[\mathit{BS}]$と$[\;]$を比較するとどうなるか? これは適切だろうか?
\endsexc
\end{exercise}

%% Subsubsection %%

%\subsubsection{Cyclic monoids}
\subsubsection{巡回モノイド}

\begin{definition}

%A monoid is called {\em cyclic}\index{monoid!cyclic} if it has a presentation involving only one generator. 

モノイドは, その表現がただ一つの生成子によって表されるとき, \emph{巡回モノイド(cyclic monoid)}\index{monoid!cyclic}あるいは単項生成モノイドと呼ばれる.

\end{definition}

\begin{example}\label{ex:cyclic}

%Let $Q$ be a symbol; we look at some cyclic monoids generated by $\{Q\}$. With no relations the monoid would be the free monoid on one generator, and would have underlying set $\{[\;],[Q],[Q,Q],[Q,Q,Q],\ldots\}$, with identity element $[\;]$ and multiplication given by concatenation (e.g. $[Q,Q,Q]\plpl[Q,Q]=[Q,Q,Q,Q,Q]$). This is just $\NN$, the additive monoid of natural numbers.

$Q$を符号とする. $\{Q\}$によって生成されるある巡回モノイドについて見てみよう. 関係がないならばこのモノイドは生成子一つの自由モノイドで, 集合$\{[\;],[Q],[Q,Q],[Q,Q,Q],\ldots\}$を元にしており, 単位元$[\;]$をともない, 積は結合(e.g. $[Q,Q,Q]\plpl[Q,Q]=[Q,Q,Q,Q,Q]$)によって与えられるだろう. これはまさしく$\NN$, 自然数の加法モノイドである. 

%With the really strong relation $[Q]\sim[\;]$ we would get the trivial monoid, a monoid having only one element (see Example \ref{ex:trivial monoid}).

実に強力な関係$[Q]\sim[\;]$があるとき, 我々は自明なモノイド, すなわち一要素しか持たないモノイドを得る(Example \ref{ex:trivial monoid}を見よ).

%Another possibility is given in the first part of Example \ref{ex:clocks}, where the relation $Q^{12}\sim[\;]$ is used, where $Q^{12}$ is shorthand for $[Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q]$.

他の可能性が, Example \ref{ex:clocks}の最初の部分で与えられている. ここでは関係$Q^{12}\sim[\;]$が使われている. ここで$Q^{12}$は$[Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q]$の短縮形である.

\end{example}

\begin{example}\label{ex:cyclic monoid (7,4)}

%Consider the cyclic monoid with generator $Q$ and relation $Q^7=Q^4$. This monoid has seven elements, $\{e=Q^0,Q=Q^1, Q^2, Q^3, Q^4, Q^5, Q^6\}$, and we know that $Q^6\star Q^5=Q^7*Q^4=Q^4*Q^4=Q^7*Q=Q^5.$ One might depict this monoid as follows
%$$\xymatrix@=15pt{
%\LMO{e}\ar[rr]&&\LMO{Q}\ar[rr]&&\LMO{Q^2}\ar[rr]&&\LMO{Q^3}\ar[rr]&&\LMO{Q^4}\ar[dr]\\
%&&&&&&&\LMO{Q^6}\ar[ur]&&\LMO{Q^5}\ar[ll]
%}
%$$
%To see the mathematical source of this intuitive depiction, see Example \ref{ex:yoneda for cyclic monoid}.

生成子$Q$と関係$Q^7=Q^4$による巡回モノイドを考える. このモノイドは7要素$\{e=Q^0,Q=Q^1, Q^2, Q^3, Q^4, Q^5, Q^6\}$を持ち, また$Q^6\star Q^5=Q^7*Q^4=Q^4*Q^4=Q^7*Q=Q^5$であることが分かっている. このモノイドは以下のように書くことができるだろう.
$$\xymatrix@=15pt{
\LMO{e}\ar[rr]&&\LMO{Q}\ar[rr]&&\LMO{Q^2}\ar[rr]&&\LMO{Q^3}\ar[rr]&&\LMO{Q^4}\ar[dr]\\
&&&&&&&\LMO{Q^6}\ar[ur]&&\LMO{Q^5}\ar[ll]
}
$$
この直感的な描画の数学的起源を知るには, Example \ref{ex:yoneda for cyclic monoid}を見よ.

\end{example}

%\begin{exercise}[Classify the cyclic monoids]\label{exc:classify cyclic}
\begin{exercise}[巡回モノイドの分類]\label{exc:classify cyclic}

%Classify all the cyclic monoids up to isomorphism. That is, come up with a naming system such that every cyclic monoid can be given a name in your system, such that no two non-isomorphic cyclic monoids have the same name, and such that no name exists in the system unless it refers to a cyclic monoid. 

同型写像によって全ての巡回モノイドを分類せよ. これは名前付け体系を考案することである. この体系において, 全ての巡回モノイドは名前を与えられ, 互いに同型でない二つの巡回モノイドは決して同じ名前を持たず, 巡回モノイドを参照しない名前はその内部に存在しない. 

%Hint: one might see a pattern in which the three monoids in Example \ref{ex:cyclic} correspond respectively to $\infty$, $1$, and $12$, and then think ``Cyclic monoids can be classified by (i.e. systematically named by elements of) the set $\NN\sqcup\{\infty\}$." That idea is on the right track, but is not correct.

ヒント: Example \ref{ex:cyclic}の, それぞれ$\infty$, $1$, $12$に対応する3つのモノイドにあるパターンを理解しよう. そして``巡回モノイドは集合$\NN\sqcup\{\infty\}$によって分類できる(i.e. その要素によって体系的に名前付けられる).''かを考えよ. このアイデアは正しい道筋にあるが, しかし正確ではない.
\end{exercise}

%%%% Subsection %%%%

%\subsection{Monoid actions}
\subsection{モノイド作用}

%\begin{definition}[Monoid action]\label{def:monoid action}\index{monoid!action}\index{action!of a monoid}
\begin{definition}[モノイド作用]\label{def:monoid action}\index{monoid!action}\index{action!of a monoid}

%Let $(M,e,\star)$ be a monoid and let $S$ be a set. An {\em action of $(M,e,\star)$ on $S$}, or simply an {\em action of $M$ on $S$} or an {\em $M$-action on $S$}, is a function $$\acts\;\;\taking M\times S\to S$$\index{a symbol!$\acts$} such that the following conditions hold for all $m,n\in M$ and all $s\in S$:

$(M,e,\star)$をモノイドとし, $S$を集合とする. \emph{$S$への$(M,e,\star)$の作用(action of $(M,e,\star)$ on $S$)}あるいは\emph{$S$への$M$-作用($M$-action on $S$)}とは, 全ての$m,n\in M$および$s\in S$に足して以下の条件を全て満たすところの函数$$\acts\;\;\taking M\times S\to S$$\index{a symbol!$\acts$}である.
\begin{itemize}
\item $e\acts s=s$
\item $m\acts(n\acts s)=(m\star n)\acts s$.
%\footnote{
%Definition \ref{def:monoid action} actually defines a {\em left action}\index{action!left} of $(M,e,\star)$ on $S$. A {\em right action}\index{action!right} is like a left action except the order of operations is somehow reversed. We will not really use right-actions in this text, but we briefly define it here for completeness. With notation as above, the only difference is in the second condition. We replace it by the condition that for all $m,n\in M$ and all $s\in S$ we have 
%$$m\acts(n\acts s)=(n\star m)\acts s
%$$}
\footnote{
Definition \ref{def:monoid action}は実際には$S$への\emph{左作用(left action)}\index{action!left}$(M,e,\star)$を定義している. \emph{右作用(right action)}\index{action!right}は左作用と似ているが, 演算の順番がどういうわけか逆であるという点が異なる. 我々はこの文書では右作用を実際に使うことはないが, 完全を期すためにここで手短に定義をしておこう. 上記と同じ記法を用いたとき, 唯一の違いは二番目の条件である. 我々は二番目の条件を以下のように置きかえる. 全ての$m,n\in M$と$s\in S$に対して
$$m\acts(n\acts s)=(n\star m)\acts s
$$}
\end{itemize}

\end{definition}

\begin{remark}\label{rmk:monoid action}

%To be pedantic (and because it's sometimes useful), we may rewrite $\acts$ as $\alpha\taking M\times S\to S$ and restate the conditions from Definition \ref{def:monoid action} as
教育的である(かつ時々役にたつため), 我々は$\acts$を$\alpha\taking M\times S\to S$と書き直し, Definition \ref{def:monoid action}での条件を以下に再掲する.
\begin{itemize}
\item $\alpha(e,s)=s$, and
\item $\alpha(m,\alpha(n,s))=\alpha(m\star n,s)$.
\end{itemize}

\end{remark}

\begin{example}\label{ex:clocks}

%Let $S=\{0,1,2,\ldots,11\}$ and let $N=(\NN,0,+)$ be the additive monoid of natural numbers (see Example \ref{ex:monoid 0}).  We define a function $\acts\taking\NN\times S\to S$ by taking a pair $(n,s)$ to the remainder that appears when $n+s$ is divided by 12. For example $4\acts 2=6$ and $8\acts 9 = 5$. This function has the structure of a monoid action because the two rules from Definition \ref{def:monoid action} hold.

$S=\{0,1,2,\ldots,11\}$とし, $N=(\NN,0,+)$を自然数の加法モノイドとする(see Example \ref{ex:monoid 0}). 函数$\acts\taking\NN\times S\to S$を, 対$(n,s)$を取り, $n+s$を12で割ったときの余りを返す函数として定義する. 例えば, $4\acts 2=6$であり$8\acts 9 = 5$である. この函数はモノイド作用の構造を持つ. なぜならDefinition \ref{def:monoid action}の二つの法則を満たすからだ.

%Similarly, let $T$ denote the set of points on a circle, elements of which are denoted by a real number in the interval $[0,12)$, i.e. $$T=\{x\in\RR\|0\leq x< 12\}$$ and let $R=(\RR,0,+)$ denote the additive monoid of real numbers. Then there is an action $R\times T\to T$, similar to the one above (see Exercise \ref{exc:clock}).

同じように, $T$が円周上の点の集合を表すとし, その要素は区間$[0,12)$の実数を表示しているとする. i.e. $$T=\{x\in\RR\|0\leq x< 12\}$$ そして$R=(\RR,0,+)$が実数の加法モノイドであるとする. このとき上記のそれと似て作用$R\times T\to T$が存在している(Exercise \ref{exc:clock}を見よ).

%One can think of this as an action of the monoid of time on the clock.
これは, 時計の上に表示される時間のモノイドの作用として考えることができる.

\end{example}

\begin{exercise}\label{exc:clock}~
%\sexc Realize the set $T:=[0,12)\ss\RR$ as the coequalizer of a pair of arrows $\RR\tto\RR$. 
%\next For any $x\in\RR$, realize the mapping $x\cdot-\taking T\to T$, implied by Example \ref{ex:clocks}, using the universal property of coequalizers. 
%\next Prove that it is an action.
%\endsexc
\sexc 集合$T:=[0,12)\ss\RR$を矢の対$\RR\tto\RR$の余等価子として実現せよ. 
\next 任意の$x\in\RR$に対して, Example \ref{ex:clocks}によってほめのかされる写像$x\cdot-\taking T\to T$を, 余等価子の普遍性を用いて実現せよ. 
\next これが作用であることを証明せよ.
\endsexc
\end{exercise}

\begin{exercise}
%Let $B$ denote the set of buttons (or positions) of a video game controller (other than, say `start' and `select'), and consider the free monoid $\List(B)$ on $B$. 
%\sexc What would it mean for $\List(B)$ to act on the set of states of some game? Imagine a video game $G'$ that uses the controller, but for which $\List(B)$ would not be said to act on the states of $G'$. Now imagine a simple game $G$ for which $\List(B)$ would be said to act.
%\next Can you think of a state $s$ of $G$, and two distinct elements $\ell,\ell'\in\List(B)$ such that $\ell\acts s=\ell'\acts s$? In video game parlance, what would you call an element $b\in B$ such that, for every state $s\in G$, one has $b\acts s=s$? 
%\next In video game parlance, what would you call a state $s\in S$ such that, for every sequence of buttons $\ell\in\List(B)$, one has $\ell\acts s=s$?
%\endsexc
$B$がテレビゲームのコントローラのボタン(あるいはその位置, あるいはそれに加えてスタートボタンやセレクトボタン)の集合を示しているとし, $B$上の自由モノイド$\List(B)$を考える. 
\sexc $\List(B)$に対して, あるゲームの状態の集合に作用するとは何を意味しているだろうか? コントローラを使うテレビゲーム$G'$で, しかしそれに対して$\List(B)$は$G'$の状態の集合への作用とは言えないようなものを想像せよ. 次に単純なゲーム$G$で, それに対して$\List(B)$が作用であると言えるものを想像せよ.
\next $G$の状態$s$と, $\ell\acts s=\ell'\acts s$であるところの二つの異なった状態$\ell,\ell'\in\List(B)$を考えることができるだろうか. テレビゲームの用語では, 全ての$s\in G$に対して$b\acts s=s$が得られるところの要素$b\in B$をなんと呼ぶだろうか?
\next テレビゲームの用語では, 全てのボタン列$\ell\in\List(B)$に対して$\ell\acts s=s$が得られるところの要素$s\in S$はなんと呼ぶだろうか?
\endsexc
\end{exercise}

\begin{application}

%Let $f\taking\RR\to\RR$ be a differentiable function of which we want to find roots (points $x\in\RR$ such that $f(x)=0$). Let $x_0\in\RR$ be a starting point. For any $n\in\NN$ we can apply \href{http://en.wikipedia.org/wiki/Newton's_method}{\text Newton's method} to $x_n$ to get $$x_{n+1}=x_n-\frac{f(x_n)}{f'(x_n)}.$$ 
%This is a monoid (namely $\NN$, the free monoid on one generator) acting on a set (namely $\RR$). 

$f\taking\RR\to\RR$を, 根($f(x)=0$であるところの$x\in\RR$)を求めたい対象の微分可能な函数としている. $x_0\in\RR$を初期点とする. 任意の$n\in\NN$に対して, $x_n$に\href{http://en.wikipedia.org/wiki/Newton's_method}{Newton法(\text Newton's method)}を適用することができそれによって$$x_{n+1}=x_n-\frac{f(x_n)}{f'(x_n)}$$が得られる.
これは集合(すなわち$\RR$)に作用するモノイド(すなわち$\NN$, 一要素上の自由モノイド)である.

%However, Newton's method can get into trouble. For example at a critical point it causes division by 0, and sometimes it can oscillate or overshoot. In these cases we want to perturb a bit to the left or right. To have these actions available to us, we would add ``perturb" elements to our monoid. Now we have more available actions at any point, but at the cost of using a more complicated monoid.

しかし, Newton法には問題が生じることがある. 例えば停留点(critical point)では0除算を起こしうるし, 時々振動したり目標を飛びこしてしまったりもする. これらの場合は, 我々は右や左に少し摂動を加えたくなる. これらの操作が使用可能になるようにするために, ``摂動''要素をモノイドに追加しよう. いまや我々は任意の点でより適用範囲が広い操作を手に入れた. ただしより複雑なモノイドを使うという対価を払っている. 

%When publishing an experimental finding, there may be some deep methodological questions that are not considered suitably important to mention. For example, one may not publish the kind solution finding method (e.g. Newton's method or Runge-Kutta) that was used, nor the set of available actions, e.g. what kinds of perturbation were used by the researcher. However, these may actually influence the reproducibility of results. By using a language such as that of monoid actions, we can align our data model with our unspoken assumptions about how functions are analyzed.

実験的発見が公表されるときには, 言及するにふさわしいほど重要だと考えられていなかったなんらかの深い方法論への疑問がしばしば出現する. 例えば, 解を求めるために使用された方法(e.g. Newton法あるいは\href{https://en.wikipedia.org/wiki/Runge\%E2\%80\%93Kutta_methods}{Runge-Kutta法}), あるいは可能な操作の集合, e.g. その研究者がどのような種類の摂動を用いたか, という類のことを公表しないかしれない. しかしながら, これらは実際には結果の再現性に影響するかしれない. モノイド作用のような言語を使用することにより, 我々はどのような函数が解析されたかといった言及されなかった仮定とデータ模型とを連携させることができる.

\end{application}

\begin{remark}

%A monoid is useful for understanding how an agent acts on the set of states of an object, but there is only one {\em kind} of action. At any point, all actions are available. In reality it is often the case that contexts can change and different actions are available at different times. For example on a computer, the commands available in one application have no meaning in another. This will get us to categories in the next chapter. 

モノイドは, 対象の状態の集合に対してagentがどのように作用するかを理解するのに便利だが, そこには一つの\emph{類}としての作用しか存在していない. すなわち任意の時点で全ての作用が適用可能である. 現実では, 文脈が変更を受けたり異なった時間に異なった作用が適用可能になることもしばしば起こる. 例えば計算機では, あるアプリケーションで可能な命令は他のアプリケーションでは意味を持たない. 次の章で、我々はこれによって圏へと導かれるだろう.

\end{remark}


%% Subsubsection %%

%\subsubsection{Monoids actions as ologs}
\subsubsection{ologとしてのモノイド作用}

%If monoids are understood in terms of how they act on sets, then it is reasonable to think of them in terms of ologs. In fact, the ologs associated to monoids are precisely those ologs that have exactly one type (and possibly many arrows and commutative diagrams). 

もしモノイドが集合へどのように作用するかという観点で理解できるとすれば, モノイドをologのかんんで考えるのは妥当である. 実際のところ正確に, モノイドに関連したologはちょうど1つの型を持つ(そしてたくさんの矢と可換図式を持ちうる) ologである. 

\begin{example}\label{ex:monoid as olog}\index{monoid!olog of}

%In this example we show how to associate an olog to a monoid action. Consider the monoid $M$ generated by the set $\{u,d,r\}$, standing for ``up, down, right", and subject to the relations $$[u,d]\sim[\;],\hsp[d,u]\sim[\;],\hsp[u,r]=[r,u],\hsp \tn{and}\hsp [d,r]=[r,d].$$
%We might imagine that $M$ acts on the set of positions for a character in an old video game. In that case the olog corresponding to this action should look something like the following:
%\begin{center}
%\includegraphics[width=\textwidth]{monoidOlog}
%\end{center}

この例では我々はどのようにologとモノイド作用を関連つければいいかを示す. ``up'', ``down'', ``right''とし理解される集合$\{u,d,r\}$によって生成され, 関係$$[u,d]\sim[\;],\hsp[d,u]\sim[\;],\hsp[u,r]=[r,u],\hsp \tn{and}\hsp [d,r]=[r,d]$$に従うモノイド$M$を考える.
$M$はある古いテレビゲーム中での文字の位置の集合に作用すると想像してみよう. この場合, この作用に対応するologは以下のようになるべきであろう.
\begin{center}
\includegraphics[width=\textwidth]{monoidOlog}
\end{center}

\end{example}

%% Subsubsection %%

%\subsubsection{Finite state machines}\label{sec:FSMs}\index{finite state machine}
\subsubsection{有限状態機械}\label{sec:FSMs}\index{finite state machine}

%According to Wikipedia, a \href{http://en.wikipedia.org/wiki/Finite_state_machine#Mathematical_model}{\em deterministic finite state machine} is a quintuple $(\Sigma,S,s_0,\delta,F)$, where
%\begin{enumerate}
%\item $\Sigma$ is a finite non-empty set of symbols, called the {\em input alphabet},
%\item $S$ is a finite, non-empty set, called {\em the state set},
%\item $\delta\taking \Sigma\times S\to S$ is a function, called the {\em state-transition function}, and
%\item $s_0\in S$ is an element, called {\em the initial state},
%\item $F\ss S$ is a subset, called the {\em set of final states}.
%\end{enumerate}

Wikipediaによると, \href{http://en.wikipedia.org/wiki/Finite_state_machine#Mathematical_model}{\emph{有限状態機械(deterministic finite state machine)}}とは五つ組$(\Sigma,S,s_0,\delta,F)$である. ここで
\begin{enumerate}
\item $\Sigma$は空ではない有限の記号の集合であり, \emph{入力文字集合(input alphabet)}と呼ばれる.
\item $S$は空ではない有限の集合であり, \emph{状態集合(the state set)}と呼ばれる.
\item $\delta\taking \Sigma\times S\to S$は函数であり, \emph{状態遷移函数(state-transition function)}と呼ばれる.
\item $s_0\in S$は要素であり, \emph{初期状態(the initial state)}と呼ばれる.
\item $F\ss S$は部分集合であり, \emph{終了状態の集合(set of final states)}と呼ばれる.
\end{enumerate}

%In this book we will not worry about the initial state and the set of final states, concerning ourselves more with the interaction via $\delta$ of the alphabet $\Sigma$ on the set $S$ of states.

この本では我々は初期状態と終状態の集合については気をめぐらせないことにして, 状態の集合$S$への文字$\Sigma$の作用$\delta$を通じた相互作用に, 関心を集中することにする.

\begin{figure}[h]
%\begin{center}
\centering
\includegraphics[height=2in]{FSM1}
%\end{center}
%\caption{A finite state machine with alphabet $\Sigma=\{a,b\}$ and state set $S=\{\tn{State 0, State 1, State 2}\}$. If pressed, we will make State 0 the initial state and \{State 2\} the set of final states.}\label{fig:fsa}
\caption{文字$\Sigma=\{a,b\}$と状態$S=\{\tn{State 0, State 1, State 2}\}$を持つ有限状態機械の例. もし要求されたならば, State 0を初期状態とし, $\{\text{State 2}\}$を終状態の集合とする.}
\end{figure}\label{fig:fsa}
%The following proposition expresses the notion of finite state automata in terms of free monoids and their actions on finite sets.
以下のpropsitionは自由モノイドと有限集合へのそれらの作用という観点から有限状態オートマトンの概念を表現している.

\begin{proposition}

%Let $\Sigma, S$ be finite non-empty sets. Giving a function $\delta\taking\Sigma\times S\to S$ is equivalent to giving an action of the free monoid $\List(\Sigma)$ on $S$. 

$\Sigma$と$S$を有限な空でない集合とする. 函数$\delta\taking\Sigma\times S\to S$を与えることは$S$への自由モノイド$\List(\Sigma)$の作用を与えることと等しい.

\end{proposition}

\begin{proof}

%By Definition \ref{def:monoid action}, we know that function $\epsilon\taking\List(\Sigma)\times S\to S$ constitutes an action of the monoid $\List(\Sigma)$ on the set $S$ if and only if, for all $s\in S$ we have $\epsilon([\;],s)=s$, and for any two elements $m,m'\in\List(\Sigma)$ we have $\epsilon(m,\epsilon(m',s))=\epsilon(m\star m',s)$, where $m\star m'$ is the concatenation of lists. Let $$A=\{\epsilon\taking \List(\Sigma)\times S\to S\|\epsilon\tn{ constitutes an action}\}.$$ We need to prove that there is an isomorphism of sets $$\phi\taking A\To{\iso}\Hom_\Set(\Sigma\times S,S).$$

Definition \ref{def:monoid action}により, 函数$\epsilon\taking\List(\Sigma)\times S\to S$が$S$への自由モノイド$\List(\Sigma)$の作用をなすのは, 全ての$s\in S$に対して$\epsilon([\;],s)=s$が得られ, 全ての二要素の組$m,m'\in\List(\Sigma)$に対して$\epsilon(m,\epsilon(m',s))=\epsilon(m\star m',s)$が得られるときであり, かつその時に限る. ここで$m\star m'$はリストの結合である. $$A=\{\epsilon\taking \List(\Sigma)\times S\to S\|\epsilon\tn{ constitutes an action}\}$$とする. 我々は, 集合の同型写像$$\phi\taking A\To{\iso}\Hom_\Set(\Sigma\times S,S)$$が存在することを証明する必要がある.

%Given an element $\epsilon\taking\List(\Sigma)\times S\to S$ in $A$, define $\phi(\epsilon)$ on an element $(\sigma,s)\in\Sigma\times S$ by $\phi(\epsilon)(\sigma,s):=\epsilon([\sigma],s)$, where $[\sigma]$ is the one-element list. We now define $\psi\taking\Hom_\Set(\Sigma\times S,S)\to A$.

$A$の要素$\epsilon\taking\List(\Sigma)\times S\to S$が与えられたとき, 要素$(\sigma,s)\in\Sigma\times S$上に$\phi(\epsilon)(\sigma,s):=\epsilon([\sigma],s)$によって$\phi(\epsilon)$を定義する. ここで$[\sigma]$は一要素リストである. 次に$\psi\taking\Hom_\Set(\Sigma\times S,S)\to A$を定義する.

%Given an element $f\in\Hom_\Set(\Sigma\times S,S)$, define $\psi(f)\taking\List(\Sigma)\times S\to S$ on a pair $(L,s)\in\List(\Sigma)\times S$, where $L=[\epsilon_1,\ldots,\epsilon_n]$ as follows. By induction, if $n=0$, put $\psi(f)(L,s)=s$; if $n\geq 1$, let $L'=[\epsilon_1,\ldots,\epsilon_{n-1}]$ and put $\psi(f)(L,s)=\psi(f)(L',f(\epsilon_n,s))$. One checks easily that $\psi(f)$ satisfies the two rules above, making it an action of $\List(\Sigma)$ on $S$. It is also easy to check that $\phi$ and $\psi$ are mutually inverse, completing the proof.

要素$f\in\Hom_\Set(\Sigma\times S,S)$が与えられたとき, 対$(L,s)\in\List(\Sigma)\times S$上に$\psi(f)\taking\List(\Sigma)\times S\to S$を定義する. ここで$L=[\epsilon_1,\ldots,\epsilon_n]$は以下のように定められる. 帰納的に, $n=0$ならば$\psi(f)(L,s)=s$, $n\geq 1$ならば$L'=[\epsilon_1,\ldots,\epsilon_{n-1}]$, そして$\psi(f)(L,s)=\psi(f)(L',f(\epsilon_n,s))$とする. $\psi(f)$が上記の二つの法則を満たし, $S$への$\List(\Sigma)$の作用を成立させることは簡単に確認できる. 証明を完了するにあたって, $\phi$と$\psi$が互いに逆函数であることも簡単に確認できる.

\end{proof}

%We sum up the idea of this section as follows:
この節のアイデアは以下のようにまとめるあげることができる.
\begin{slogan}
%A finite state machine is an action of a free monoid on a finite set.
有限状態機械は有限集合への自由モノイドの作用である.
\end{slogan}

\begin{exercise}
%Consider the functions $\phi$ and $\psi$ above. 
%\sexc Show that for any $f\taking\Sigma\times S\to S$, the map $\psi(f)\taking\List(\Sigma)\times S\to S$ constitutes an action. 
%\next Show that $\phi$ and $\psi$ are mutually inverse functions (i.e. $\phi\circ\psi=\id_{\Hom(\Sigma\times S,S)}$ and $\psi\circ\phi=\id_{A}.$)
%\endsexc
上記の函数$\phi$と$\psi$について考える.
\sexc 任意の$f\taking\Sigma\times S\to S$に対して, 写像$\psi(f)\taking\List(\Sigma)\times S\to S$が作用をなすことを示せ.
\next $\phi$と$\psi$が互いに逆函数(i.e. $\phi\circ\psi=\id_{\Hom(\Sigma\times S,S)}$および$\psi\circ\phi=\id_{A}$)であることを示せ.
\endsexc
\end{exercise}

%%%% Subsection %%%%

%\subsection{Monoid action tables}\label{sec:monoid action table}\index{action table}
\subsection{モノイド作用表}\label{sec:monoid action table}\index{action table}

%Let $M$ be a monoid generated by the set $G=\{g_1,\ldots,g_m\}$, and with some relations, and suppose that $\alpha\taking M\times S\to S$ is an action of $M$ on a set $S=\{s_1,\ldots,s_n\}$. We can represent the action $\alpha$ using an {\em action table} whose columns are the elements of $G$ and whose rows are the elements of $S$. In each cell $(row,col)$, where $row\in S$ and $col\in G$, we put the element $\alpha(col,row)\in S$. 

$M$を集合$G=\{g_1,\ldots,g_m\}$によって生成されモノイドでいくつかの関係を伴うものとし, $\alpha\taking M\times S\to S$を集合$S=\{s_1,\ldots,s_n\}$への$M$の作用と仮定する. 我々は作用$\alpha$を\emph{作用表(action table)}をも用いて表現できる. この表の列は$G$の要素であり, 行は$S$の要素である. $\mathit{row}\in S$および$\mathit{col}\in G$としたとき, それぞれの升目$(\mathit{row},\mathit{col)}$の中には, 要素$\alpha(\mathit{col},\mathit{row})\in S$を入れる. 

%\begin{example}[Action table]\label{ex:action table}
\begin{example}[作用表]\label{ex:action table}

%If $\Sigma$ and $S$ are the sets from Figure \ref{fig:fsa}, the displayed action of $\List(\Sigma)$ on $S$ would be given by the action table
$\Sigma$と$S$がFigure \ref{fig:fsa}の集合であるならば, そこで示されている$S$への$\List(\Sigma)$の作用は以下の作用表によって与えられるだろう.
\begin{align}\label{dia:action table for FSM}
\begin{tabular}{| l || l | l |}\bhline
%\multicolumn{3}{|c|}{Action from \ref{fig:fsa}}\\\bhline
\multicolumn{3}{|c|}{\ref{fig:fsa}の作用}\\\bhline
%{\bf ID}&{\bf a}&{\bf b}\\\bbhline
\textbf{ID}&\textbf{a}&\textbf{b}\\\bbhline
State 0&State 1&State 2\\\hline
State 1& State 2& State 1\\\hline
State 2&State 0&State 0\\\bhline
\end{tabular}
\end{align}

\end{example}

%\begin{example}[Multiplication action table]\label{ex:multiplication table}
\begin{example}[積の作用表]\label{ex:multiplication table}

%Every monoid acts on itself by its multiplication formula, $M\times M\to M$. If $G$ is a generating set for $M$, we can write the elements of $G$ as the columns and the elements of $M$ as rows, and call this a multiplication table. For example, let $(\NN,1,*)$ denote the multiplicative monoid of natural numbers. The multiplication table is as follows:
全てのモノイドは, 積の式$M\times M\to M$によってそれ自身への作用となる. $G$が$M$を生成する集合であるとすると, 我々は$G$の要素を列として書き, $M$の要素を行として書きことができる. これは積の表と呼ぶことができる. 例えば, $(\NN,1,*)$が自然数の乗法モノイドを示しているとする. 積の表は以下のようになる.
\begin{align}
\begin{tabular}{| l || l | l | l | l | l | l | l |}\bhline
%\multicolumn{8}{|c|}{Multiplication of natural numbers}\\\bhline
\multicolumn{8}{|c|}{自然数の積}\\\bhline
%{\bf $\NN$}&{\bf 0}&{\bf 1}&{\bf 2}&{\bf 3}&{\bf 4}&{\bf 5}&{\bf $\cdots$}\\\bbhline
{$\NN$}&\textbf{0}&\textbf{1}&\textbf{2}&\textbf{3}&\textbf{4}&\textbf{5}&$\cdots$\\\bbhline
0&0&0&0&0&0&0&$\cdots$\\\hline
1&0&1& 2& 3 & 4&5&$\cdots$\\\hline
2&0&2&4&6&8&10&$\cdots$\\\hline
3&0&3&6&9&12&15&$\cdots$\\\bhline
4&0&4&8&12&16&20&$\cdots$\\\bhline
\vdots&\vdots&\vdots&\vdots&\vdots&\vdots&\vdots&$\ddots$\\\hline
21&0&21&42&63&84&105&$\cdots$\\\hline
\vdots&\vdots&\vdots&\vdots&\vdots&\vdots&\vdots&$\ddots$\\\bhline
\end{tabular}
\end{align}
%Try to understand what is meant by this: ``applying column $2$ and then column $2$ returns the same thing as applying column $4$."
``列$2$を作用しそれからまた列$2$を作用させることは列$4$を作用させたものと同じものを返す''が何を意味しているかの理解を試みてみよう.

%In the above table, we were implicitly taking every element of $\NN$ as a generator (since we had a column for every natural number). In fact, there is a smallest generating set for the monoid $(\NN,1,*)$, so that every element of the monoid is a product of some combination of these generators, namely the primes and 0.
上の表では, 暗黙的に$\NN$のそれぞれの要素を生成子とみなした(なぜならそれぞれの自然数に対して列があるからだ). 実際, モノイド$(\NN,1,*)$を生成する最小の集合が存在し, よってモノイドのそれぞれの要素はその生成子のなんらかの組み合わせの積となる. その生成子はすなわち素数と0である.
\begin{align*}
\begin{tabular}{| l || l | l | l | l | l | l | l |}\bhline
%\multicolumn{8}{|c|}{Multiplication of natural numbers}\\\bhline
\multicolumn{8}{|c|}{自然数の積}\\\bhline
%{\bf $\NN$}&{\bf 0}&{\bf 2}&{\bf 3}&{\bf 5}&{\bf 7}&{\bf 11}&{\bf $\cdots$}\\\bbhline
{$\NN$}&\textbf{0}&\textbf{2}&\textbf{3}&\textbf{5}&\textbf{7}&\textbf{11}&{$\cdots$}\\\bbhline
0&0&0&0&0&0&0&$\cdots$\\\hline
1&0&2& 3& 5 & 7&11&$\cdots$\\\hline
2&0&4&6&10&14&22&$\cdots$\\\hline
3&0&6&9&15&21&33&$\cdots$\\\bhline
4&0&8&12&20&28&44&$\cdots$\\\bhline
\vdots&\vdots&\vdots&\vdots&\vdots&\vdots&\vdots&$\ddots$\\\hline
21&0&42&63&105&147&231&$\cdots$\\\hline
\vdots&\vdots&\vdots&\vdots&\vdots&\vdots&\vdots&$\ddots$\\\bhline
\end{tabular}
\end{align*}

\end{example}

\begin{exercise}
%Let $\NN$ be the additive monoid of natural numbers, let $S=\{0,1,2,\ldots,11\}$, and let $\cdot\taking\NN\times S\to S$ be the action given in Example \ref{ex:clocks}. Using a nice small generating set for the monoid, write out the corresponding action table.
$\NN$を自然数の加法モノイドとする. $S=\{0,1,2,\ldots,11\}$とし, $\cdot\taking\NN\times S\to S$をExample \ref{ex:clocks}で与えられた作用とする. モノイドを生成する小さなよい集合をを用いて, 対応する作用表を書き出せ.
\end{exercise}

%%%% Subsection %%%%

%\subsection{Monoid homomorphisms}
\subsection{モノイド準同型}

%A monoid $(M,e,\star)$ involves a set, an identity element, and a multiplication formula. For two monoids to be comparable, their sets, their identity elements, and their multiplication formulas should be appropriately comparable.\index{appropriate comparison} For example the additive monoids $\NN$ and $\ZZ$ should be comparable because $\NN\ss\ZZ$ is a subset, the identity elements in both cases are the same $e=0$, and the multiplication formulas are both integer addition. 

モノイド$(M,e,\star)$は集合, 単位元, 積の式を要件とする. 二つのモノイドが比較可能であるとき, その集合, 単位元, 積の式は適切に比較できるべきである.\index{appropriate comparison} 例えば, 加法モノイド$\NN$と$\ZZ$は比較可能であるべきである. なぜなら$\NN\ss\ZZ$は部分集合であり, 単位元は両方の場合で同じ$e=0$であり, 積の式は両者ともに整数の足し算であるからだ.

\begin{definition}\label{def:monoid hom}\index{monoid!homomorphism}

%Let $\mcM:=(M,e,\star)$ and $\mcM':=(M',e',\star')$ be monoids. A {\em monoid homomorphism $f$ from $\mcM$ to $\mcM'$}, denoted $f\taking\mcM\to\mcM'$, is a function $f\taking M\to M'$ satisfying two conditions:
%\begin{itemize}
%\item $f(e)=e'$, and 
%\item $f(m_1\star m_2)=f(m_1)\star'f(m_2)$, for all $m_1,m_2\in M$.
%\end{itemize}

$\mcM:=(M,e,\star)$と$\mcM':=(M',e',\star')$をモノイドとする. \emph{$\mcM$から$\mcM'$へのモノイド準同型$f$(monoid homomorphism $f$ from $\mcM$ to $\mcM'$)}は, 以下の二つの条件を満たす函数$f\taking M\to M'$であり, $f\taking\mcM\to\mcM'$と表記される.
\begin{itemize}
\item $f(e)=e'$,
\item 全ての$m_1,m_2\in M$に対して$f(m_1\star m_2)=f(m_1)\star'f(m_2)$.
\end{itemize}

%The set of monoid homomorphisms from $\mcM$ to $\mcM'$ is denoted $\Hom_{\Mon}(\mcM,\mcM')$.

$\mcM$から$\mcM'$へのモノイド準同型の集合は$\Hom_{\Mon}(\mcM,\mcM')$と表記される.

\end{definition}

\begin{example}[From $\NN$ to $\ZZ$]\label{ex:nat to int}

%As stated above, the inclusion map $i\taking\NN\to\ZZ$ induces a monoid homomorphism $(\NN,0,+)\to(\ZZ,0,+)$ because $i(0)=0$ and $i(n_1+n_2)=i(n_1)+i(n_2)$. 

上で述べられたように, 包含写像$i\taking\NN\to\ZZ$はモノイド準同型$(\NN,0,+)\to(\ZZ,0,+)$を誘導する. なぜなら$i(0)=0$かつ$i(n_1+n_2)=i(n_1)+i(n_2)$であるからだ.

%Let $i_5\taking\NN\to\ZZ$ denote the function $i_5(n)=5*n$, so $i_5(4)=20$. This is also a monoid homomorphism because $i_5(0)=5*0=0$ and $i_5(n_1+n_2)=5*(n_1+n_2)=5*n_1+5*n_2=i_5(n_1)+i_5(n_2).$

$i_5\taking\NN\to\ZZ$が函数$i_5(n)=5*n$を示すとする. よって$i_5(4)=20$である. これはまたモノイド準同型でもある. なぜなら$i_5(0)=5*0=0$かつ$i_5(n_1+n_2)=5*(n_1+n_2)=5*n_1+5*n_2=i_5(n_1)+i_5(n_2)$であるからだ.

\end{example}

\begin{application}\label{app:RNA reader 1}

%Let $R=\{a,c,g,u\}$ and let $T=R^3$, the set of triplets in $R$. Let $\mcR=\List(R)$ be the free monoid on $R$ and let $\mcT=\List(T)$ denote the free monoid on $T$. There is a monoid homomorphism $F\taking\mcT\to\mcR$ given by sending $t=(r_1,r_2,r_3)$ to the list $[r_1,r_2,r_3]$.
%\footnote{More precisely, the monoid homomorphism $F$ sends a list $[t_1,t_2,\ldots,t_n]$ to the list $[r_{1,1},r_{1,2},r_{1,3},r_{2,1},r_{2,2},r_{2,3},\ldots,r_{n,1},r_{n,2},r_{n,3}]$, where for each $0\leq i\leq n$ we have $t_i=(r_{i,1},r_{i,2},r_{i,3})$.}

$R=\{a,c,g,u\}$とし, $T=R^3$すなわち$R$の三つ組の集合とする. $\mcR=\List(R)$を$R$上の自由モノイドとし, $\mcT=\List(T)$が$T$上の自由モノイドを示しているとする. $t=(r_1,r_2,r_3)$をリスト$[r_1,r_2,r_3]$に送ることによって得られるモノイド準同型$F\taking\mcT\to\mcR$が存在している.
\footnote{より正確には, モノイド準同型$F$はリスト$[t_1, t_2, \ldots, t_n]$をリスト$[r_{1,1}, r_{1,2}, r_{1,3}, r_{2,1}, r_{2,2}, r_{2,3},\allowbreak \ldots,\allowbreak r_{n,1}, r_{n,2}, r_{n,3}]$に送る. ここでそれぞれの$0\leq i\leq n$に対し$t_i=(r_{i,1}, r_{i,2}, r_{i,3})$とした.}

%If $A$ be the set of amino acids and $\mcA=\List(A)$ the free monoid on $A$, the process of \href{http://en.wikipedia.org/wiki/Translation_(biology)}{\text translation} gives a monoid homomorphism $G\taking\mcT\to\mcA$, turning a list of RNA triplets into a polypeptide. But how do we go from a list of RNA nucleotides to a polypeptide? The answer is that there is no good way to do this mathematically. So what is going wrong?

$A$がアミノ酸の集合で$\mcA=\List(A)$が$A$上の自由モノイドであるとき, \href{http://en.wikipedia.org/wiki/Translation_(biology)}{翻訳(\text{translation})}の機構によって, RNAの三つ組をポリペプチド\footnote{訳注: 小さなタンパク質はポリペプチド(polypeptide)とも呼ばれる.}へ変換するモノイド準同型$G\taking\mcT\to\mcA$が与えられる. しかしどのようにしてRNAヌクレオチドのリストからポリペプチドに移行できるだろうか? これを数学的に行なうよい方法はないというのがその答である. では何が悪くなるのであろうか?

%The answer is that there should not be a monoid homomorphism $\mcR\to\mcA$ because not all sequences of nucleotides produce a polypeptide; for example if the sequence has only two elements, it does not code for a polypeptide. There are several possible remedies to this problem. One is to take the image of $F$, which is a submonoid $\mcR'\ss\mcR$. It is not hard to see that there is a monoid homomorphism $F'\taking\mcR'\to\mcT$, and we can compose it with $G$ to get our desired monoid homomorphism $G\circ F'\taking\mcR'\to\mcA$. 
%\footnote{Adding stop-codons to the mix we can handle more of $\mcR$, e.g. sequences that don't have a multiple-of-three many nucleotides.}

モノイド準同型$\mcR\to\mcA$は存在するべきではないというのがその答である. なぜなら全てのヌクレオチドの列がポリペプチドを生成するわけではないからである. 例えば, もし列に二つしか要素が含まれていないならば, それはポリペプチドを符号化していない. この問題を修正するにはいくつかの方法がある. 一つは部分モノイド$\mcR'\ss\mcR$であるところの$F$の像を取ることである. モノイド準同型$F'\taking\mcR'\to\mcT$が存在することを見るのは難しくはない. そして$G$と組みあわせて欲しかったモノイド準同型$G\circ F'\taking\mcR'\to\mcA$を得ることができる.
\footnote{停止コドンを含めることによってより多くの$\mcR$, e.g. ヌクレオチドの数が3の倍数ではない列, を扱えることができる.}

\end{application}

\begin{example}\label{ex:trivial monoid homomorphism}\index{monoid!trivial homomorphism}

%Given any monoids $\mcM$ there is a unique monoid homomorphism from $\mcM$ to the trivial monoid $\ul{1}$ (see Example \ref{ex:trivial monoid}). There is also a unique homomorphism $\ul{1}\to\mcM$. These facts together have an upshot: between any two monoids $\mcM$ and $\mcM'$ we can always construct a homomorphism 
%$$\mcM\Too{!}\ul{1}\Too{!}\mcM'$$
%which we call the {\em trivial homomorphism $\mcM\to\mcM'$}.\index{trivial homomorphism!of monoids} A morphism $\mcM\to\mcM'$ that is not trivial is called a {\em nontrivial homomorphism}.

任意のモノイド$\mcM$が与えられたとき, $\mcM$から自明なモノイド$\ul{1}$(Example \ref{ex:trivial monoid}を見よ)へのモノイド準同型が一意に存在する. また準同型$\ul{1}\to\mcM$も一意に存在する. この事実を併せるとある結論が得られる. すなわち任意の二つのモノイド$\mcM$と$\mcM'$の間には, 常に\emph{自明な準同型(trivial homomorphism) $\mcM\to\mcM'$}\index{trivial homomorphism!of monoids}と呼ばれる準同型$$\mcM\Too{!}\ul{1}\Too{!}\mcM'$$を構築することができる.
自明でない射$\mcM\to\mcM'$は\emph{非自明な準同型(nontrivial homomorphism)}と呼ばれる.

\end{example}

\begin{proposition}\label{prop:int to nat trivial}

%Let $\mcM=(\ZZ,0,+)$ and $\mcM'=(\NN,0,+)$. The only monoid homomorphism $f\taking\mcM\to\mcM'$ sends every element $m\in\ZZ$ to $0\in\NN$.

$\mcM=(\ZZ,0,+)$および$\mcM'=(\NN,0,+)$とする. 唯一存在するモノイド準同型$f\taking\mcM\to\mcM'$は全ての要素$m\in\ZZ$を$0\in\NN$に送る.

\end{proposition}

\begin{proof}

%Let $f\taking\mcM\to\mcM'$ be a monoid homomorphism, and let $n=f(1)$ and $n'=f(-1)$ in $\NN$. Then we know that since $0=1+(-1)$ in $\ZZ$ we must have $0=f(0)=f(1+(-1))=f(1)+f(-1)=n+n'\in\NN$. But if $n\geq 1$ then this is impossible, so $n=0$. Similarly $n'=0$. Any element $m\in\ZZ$ can be written $m=1+1+\cdots+1$ or as $m=-1+-1+\cdots+-1$, and it is easy to see that $f(1)+f(1)+\cdots+f(1)=0=f(-1)+f(-1)+\cdots+f(-1)$. Therefore, $f(m)=0$ for all $m\in\ZZ$. 

$f\taking\mcM\to\mcM'$をモノイド準同型とし, $n=f(1)$と$n'=f(-1)$を$\NN$の要素とする. このとき, $0=1+(-1)$は$\ZZ$に含まれるから, $0=f(0)=f(1+(-1))=f(1)+f(-1)=n+n'\in\NN$でなければならないことが分かる. しかしもし$n\geq 1$であるならばこれは不可能であるから, よって$n=0$である. 同様にして$n'=0$である. 任意の要素$m\in\ZZ$は$m=1+1+\cdots+1$あるいは$m=-1+-1+\cdots+-1$として書くことができ, そして$f(1)+f(1)+\cdots+f(1)=0=f(-1)+f(-1)+\cdots+f(-1)$であることは簡単に見てとれる. それゆえに全ての$m\in\ZZ$に対して$f(m)=0$である.

\end{proof}

\begin{exercise}
%For any $m\in\NN$ let $i_m\taking\NN\to\ZZ$ be the function $i_m(n)=m*n$. All such functions are monoid homomorphisms $(\NN,0,+)\to(\ZZ,0,+)$. Do any monoid homomorphisms $(\NN,0,+)\to(\ZZ,0,+)$ not come in this way? For example, what about using $n\mapsto 5*n-1$ or $n\mapsto n^2$, or some other function? 
任意の$m\in\NN$に対して$i_m\taking\NN\to\ZZ$を函数$i_m(n)=m*n$とする. このような函数は全てモノイド準同型$(\NN,0,+)\to(\ZZ,0,+)$である. 任意のモノイド準同型$(\NN,0,+)\to(\ZZ,0,+)$はこの方法で出て来るものだろうか? 例えば, $n\mapsto 5*n-1$や$n\mapsto n^2$, あるいは他のなんらかの函数を使うのはどうだろうか?
\end{exercise}

\begin{exercise}
%Let $\mcM:=(\NN,0,+)$ be the additive monoid of natural numbers, let $\mcN=(\RR_{\geq0},0,+)$ be the additive monoid of nonnegative real numbers, and let $\mcP:=(\RR_{>0},1,*)$ be the multiplicitive monoid of positive real numbers. Can you think of any nontrivial monoid homomorphisms of the following sorts: $$\mcM\to\mcN,\hsp\mcM\to\mcP,\hsp\mcN\to\mcP,\hsp \mcN\to\mcM,\hsp\mcP\to\mcN?$$
$\mcM:=(\NN,0,+)$を自然数の加法モノイド, $\mcN=(\RR_{\geq0},0,+)$を非負実数の加法モノイド, $\mcN=(\RR_{\geq0},0,+)$を正実数の乗法モノイドとする. 以下のような種類の, なんらかの非自明モノイド準同型について考えることができるだろうか.  $$\mcM\to\mcN,\hsp\mcM\to\mcP,\hsp\mcN\to\mcP,\hsp \mcN\to\mcM,\hsp\mcP\to\mcN?$$
\end{exercise}


%% Subsubsection %%

%\subsubsection{Homomorphisms from free monoids}
\subsubsection{自由モノイドからの準同型}

%Recall that $(\NN,0,+)$ is the free monoid on one generator. It turns out that for any other monoid $\mcM=(M,e,\star)$, the set of monoid homomorphisms $\NN\to\mcM$ is in bijection with the set $M$. This is a special case (in which $G$ is a set with one element) of the following proposition.

$(\NN,0,+)$は一生成子上の自由モノイドであることを思い出そう. 任意の他のモノイド$\mcM=(M,e,\star)$に対して, モノイド準同型$\NN\to\mcM$の集合は, 集合$M$との間に全単射がある. これは以下のpropositionの($G$が一要素であるという)特殊な場合である.

\begin{proposition}\label{prop:free monoid}

%Let $G$ be a set, let $F(G):=(\List(G),[\;],\plpl)$ be the free monoid on $G$, and let $\mcM:=(M,e,\star)$ be any monoid. There is a natural bijection
%$$\Hom_\Mon(F(G),\mcM)\To{\iso}\Hom_\Set(G,M).$$

$G$を集合, $F(G):=(\List(G),[\;],\plpl)$を$G$上の自由モノイドとし, $\mcM:=(M,e,\star)$を任意のモノイドとする. このとき自然な全単射が存在する.
$$\Hom_\Mon(F(G),\mcM)\To{\iso}\Hom_\Set(G,M).$$

\end{proposition}

\begin{proof}

%We provide a function $\phi\taking\Hom_\Mon(F(G),\mcM)\to\Hom_\Set(G,M)$ and a function $\psi\taking\Hom_\Set(G,M)\to\Hom_\Mon(F(G),\mcM)$ and show that they are mutually inverse. Let us first construct $\phi$. Given a monoid homomorphism $f\taking F(G)\to\mcM$, we need to provide $\phi(f)\taking G\to M$. Given any $g\in G$ we define $\phi(f)(g):=f([g]).$ 

我々は函数$\phi\taking\Hom_\Mon(F(G),\mcM)\to\Hom_\Set(G,M)$および函数$\psi\taking\Hom_\Set(G,M)\to\Hom_\Mon(F(G),\mcM)$を与え, それらが互いに逆函数であることを示す. 最初に$\phi$を構成しよう. モノイド準同型$f\taking F(G)\to\mcM$が与えられたとき, $\phi(f)\taking G\to M$を与えることが必要である. 任意の$g\in G$が与えられたとき, $\phi(f)(g):=f([g])$と定義する.

%Now let us construct $\psi$. Given $p\taking G\to M$, we need to provide $\psi(p)\taking\List(G)\to\mcM$ such that $\psi(p)$ is a monoid homomorphism. For a list $L=[g_1,\ldots,g_n]\in\List(G)$, define $\psi(p)(L):=p(g_1)\star\cdots\star p(g_n)\in M$. In particular, $\psi(p)([\;])=e$. It is not hard to see that this is a monoid homomorphism. It is also easy to see that $\phi\circ\psi(p)=p$ for all $p\in\Hom_\Set(G,M)$. We show that $\psi\circ\phi(f)=f$ for all $f\in\Hom_\Mon(F(G),\mcM)$. Choose $L=[g_1,\ldots,g_n]\in\List(G)$. Then 
%$$\psi(\phi f)(L)=(\phi f)(g_1)\star\cdots\star(\phi f)(g_n)=f[g_1]\star\cdots\star f[g_n]=f([g_1,\ldots,g_n])=f(L).$$

次に$\psi$を構成しよう. $p\taking G\to M$が与えられたとき, $\psi(p)$がモノイド準同型であるところの$\psi(p)\taking\List(G)\to\mcM$を与える必要がある. リスト$L=[g_1,\ldots,g_n]\in\List(G)$に対して, $\psi(p)(L):=p(g_1)\star\cdots\star p(g_n)\in M$と定義する. 別に$\psi(p)([\;])=e$とする. これがモノイド準同型であることを見るのは難しくない. 全ての$p\in\Hom_\Set(G,M)$に対して$\phi\circ\psi(p)=p$であることを見るのも簡単である. 我々は全ての$f\in\Hom_\Mon(F(G),\mcM)$に対して$\psi\circ\phi(f)=f$を示す. $L=[g_1,\ldots,g_n]\in\List(G)$を選ぶ. このとき
$$\psi(\phi f)(L)=(\phi f)(g_1)\star\cdots\star(\phi f)(g_n)=f[g_1]\star\cdots\star f[g_n]=f([g_1,\ldots,g_n])=f(L).$$

\end{proof}

\begin{exercise}
%Let $G=\{a,b\}$, let $\mcM:=(M,e,\star)$ be any monoid, and let $f\taking G\to M$ be given by $f(a)=m$ and $f(b)=n$, where $m,n\in M$. If $\psi\taking\Hom_\Set(G,M)\to\Hom_\Mon(F(G),\mcM)$ is the function from the proof of Proposition \ref{prop:free monoid} and $L=[a,a,b,a,b]$, what is $\psi(f)(L)$ ?
$G=\{a,b\}$, $\mcM:=(M,e,\star)$を任意のモノイドとし$f\taking G\to M$を$f(a)=m$および$f(b)=n$で与えるとする ここで$m,n\in M$である. $\psi\taking\Hom_\Set(G,M)\to\Hom_\Mon(F(G),\mcM)$がProposition \ref{prop:free monoid}の証明での函数であり, $L=[a,a,b,a,b]$であるとすれば, $\psi(f)(L)$は何だろうか?
\end{exercise}

%% Subsubsection %%

%\subsubsection{Restriction of scalars}
\subsubsection{係数制限}

%A monoid homomorphism $f\taking M\to M'$ (see Definition \ref{def:monoid hom}) ensures that the elements of $M$ have a reasonable interpretation in $M'$; they act the same way over in $M'$ as they did back home in $M$. If we have such a homomorphism $f$ and we have an action $\alpha\taking M'\times S\to S$ of $M'$ on a set $S$, then we have a method for allowing $M$ to act on $S$ as well. Namely, we take an element of $M$, send it over to $M'$, and act on $S$. In terms of functions, we compose $\alpha$ with the function $f\times\id_S\taking M\times S\to M'\times S$, to get a function we'll denote $$\Delta_f(\alpha)\taking M\times S\to S.$$ After Proposition \ref{prop:restriction of scalars} we will know that $\Delta_f(\alpha)$ is indeed a monoid action, and we say that it is given by {\em restriction of scalars along $f$}.\index{restriction of scalars}

モノイド準同型$f\taking M\to M'$ (Definition \ref{def:monoid hom}を見よ)は, $M$の要素が$M'$において妥当な解釈を持つことを保証している. それらは出自の$M$で作用したのと同じように$M'$の上でも作用する. もしそのような準同型$f$が得られ, 集合$S$への$M'$の作用$\alpha\taking M'\times S\to S$ of $M'$が得られたならば, $M$が$S$へ作用することを許す手段もまた得ることになる. 函数の観点でいえば, 我々は$\alpha$を$f\times\id_S\taking M\times S\to M'\times S$と組み合わせて, $$\Delta_f(\alpha)\taking M\times S\to S$$と書かれる函数を得ることになる. Proposition \ref{prop:restriction of scalars}後には, $\Delta_f(\alpha)$が実際にモノイド作用であることが分かるだろう. これは\emph{restriction of scalars along $f$}\index{restriction of scalars}によって得られたと言う.

\begin{proposition}\label{prop:restriction of scalars}

%Let $\mcM:=(M,e,\star)$ and $\mcM':=(M',e',\star')$ be monoids, $f\taking\mcM\to\mcM'$ a monoid homomorphism, $S$ a set, and suppose that $\alpha\taking M'\times S\to S$ is an action of $\mcM'$ on $S$. Then $\Delta_f(\alpha)\taking M\times S\to S$, defined as above, is a monoid action as well.

$\mcM:=(M,e,\star)$と$\mcM':=(M',e',\star')$をモノイド, $f\taking\mcM\to\mcM'$をモノイド準同型, $S$を集合, $\alpha\taking M'\times S\to S$を$S$への$\mcM'$の作用とする. このとき, 上記で定義される$\Delta_f(\alpha)\taking M\times S\to S$もまた, モノイド作用である.

\end{proposition}

\begin{proof}

%Refer to Remark \ref{rmk:monoid action}; we assume $\alpha$ is a monoid action and want to show that $\Delta_f(\alpha)$ is too. We have $\Delta_f(\alpha)(e,s)=\alpha(f(e),s)=\alpha(e',s)=s$. We also have 
Remark \ref{rmk:monoid action}を参照せよ. $\alpha$がモノイド作用であることを仮定して, $\Delta_f(\alpha)$もモノイド作用であることを示したい. $\Delta_f(\alpha)(e,s)=\alpha(f(e),s)=\alpha(e',s)=s$が得られ, そして以下が得られる. 
\begin{align*}
\Delta_f(\alpha)(m,\Delta_f(\alpha)(n,s))=\alpha(f(m),\alpha(f(n),s))&=\alpha(f(m)\star' f(n),s)\\
&=\alpha(f(m\star n),s)\\
&=\Delta_f(\alpha)(m\star n,s)
\end{align*}

\end{proof}

\begin{example}

%Let $\NN$ and $\ZZ$ denote the additive monoids of natural numbers and integers, respectively, and let $i\taking\NN\to\ZZ$ be the inclusion, which we saw in Example \ref{ex:nat to int} is a monoid homomorphism. There is an action $\alpha\taking\ZZ\times\RR\to\RR$ of the monoid $\ZZ$ on the set $\RR$ of real numbers, given by $\alpha(n,x)=n+x$. Clearly, this action works just as well if we restrict our scalars to $\NN\ss\ZZ$, allowing ourselves only to add natural numbers to reals. The action $\Delta_i\alpha\taking\NN\times\RR\to\RR$ is given on $(n,x)\in\NN\times\RR$ by $\Delta_i\alpha(n,x)=\alpha(i(n),x)=\alpha(n,x)=n+x$, just as expected.

$\NN$と$\ZZ$がそれぞれ自然数と整数の加法モノイドを表しているとし, $i\taking\NN\to\ZZ$を包含写像とする. Example \ref{ex:nat to int}でみたこれはモノイド準同型である. $\alpha(n,x)=n+x$によって与えられる, 実数の集合$\RR$へのモノイド$\ZZ$の作用$\alpha\taking\ZZ\times\RR\to\RR$が存在する. 明かに, 実数に自然数を足すことのみを許したとし, 係数を$\NN\ss\ZZ$に制限しても, この作用はうまく働く. 予想されるように, 作用$\Delta_i\alpha\taking\NN\times\RR\to\RR$は, $(n,x)\in\NN\times\RR$に対して$\Delta_i\alpha(n,x)=\alpha(i(n),x)=\alpha(n,x)=n+x$によって与えられる.

\end{example}

\begin{example}

%Suppose that $V$ is a complex vector space. In particular, this means that the monoid $\CC$ of complex numbers (under multiplication) acts on the elements of $V$. If $i\taking\RR\to\CC$ is the inclusion of the real line inside $\CC$, then $i$ is a monoid homomorphism. Restriction of scalars in the above sense turns $V$ into a real vector space, so the name ``restriction of scalars" is apt.

$V$を複素ベクトル空間と仮定する. 特に, 複素数の(乗法の)モノイド$\CC$は$V$の要素に作用する, ということをこれは意味している. もし$i\taking\RR\to\CC$が$\CC$の中の実軸への包含写像であるならば, $i$はモノイド準同型である. 上の意味での係数制限は$V$を実ベクトル空間に変換し, よって``係数の制限(restriction of scalars)''という名前がぴったしあてはまる.

\end{example}

\begin{exercise}
%Let $\NN$ be the free monoid on one generator, let $\Sigma=\{a,b\}$, and let $S=\{\tn{State 0, State 1, State 2}\}$. Consider the map of monoids $f\taking\NN\to\List(\Sigma)$ given by sending $1\mapsto [a,b,b]$. The monoid action $\alpha\taking\List(\Sigma)\times S\to S$ given in Example \ref{ex:action table} can be transformed by restriction of scalars along $f$ to an action $\Delta_f(\alpha)$ of $\NN$ on $S$. Write down its action table.
$\NN$を一生成子上の自由モノイドとし, $\Sigma=\{a,b\}$, $S=\{\tn{State 0, State 1, State 2}\}$とする. $1\mapsto [a,b,b]$によって得られるモノイドの写像$f\taking\NN\to\List(\Sigma)$を考える. Example \ref{ex:action table}で与えられるモノイド作用$\alpha\taking\List(\Sigma)\times S\to S$はrestriction of scalars along $f$によって$S$への$\NN$の作用に変換できる. この作用表を書き下せ.
\end{exercise}



%%%%%% Section %%%%%%

%\section{Groups}\label{sec:groups}
\section{群}\label{sec:groups}

%Groups are monoids in which every element has an inverse. If we think of these structures in terms of how they act on sets, the difference between groups and monoids is that the action of every group element can be undone. One way of thinking about groups is in terms of symmetries. For example, the rotations and reflections of a square form a group. 

群は, 全ての要素がその逆元を持っているモノイドである. どのようにしてそれらが集合に作用するかという観点でその構造を考えたならば, 群とモノイドの差異は全ての群の要素による作用はなかったことにできるという点にある. 群について考える一つの道筋は対称性の観点である. 例えば, 正方形の回転と鏡映は群を形成する.

%Another way to think of the difference between monoids and groups is in terms of time. Monoids are likely useful in thinking about diffusion, in which time plays a role and things cannot be undone. Groups are more likely useful in thinking about mechanics, where actions are time-reversible. 

モノイドと群の間の差異を考えるまた別の道筋は, 時間の観点である. モノイドは拡散を考える時におそらく便利であろう. そこでは時間が役割を果たし物事はなかったことにできない. 群は力学を考える時におそらく便利であろう. そこでは作用は時間に対して可逆である.

%%%% Subsection %%%%

%\subsection{Definition and examples}
\subsection{定義と例}

\begin{definition}\label{def:group}\index{group}\index{monoid!inverse of an element in}

%Let $(M,e,\star)$ be a monoid. An element $m\in M$ is said to {\em have an inverse} if there exists an $m'\in M$ such that $mm'=e$ and $m'm=e$. A {\em group} is a monoid $(M,e,\star)$ in which every element $m\in M$ has an inverse.

$(M,e,\star)$をモノイドとする. 要素$m\in M$は$mm'=e$かつ$m'm=e$であるところの要素$m'\in M$が存在するときに\emph{逆元を持つ(have an inverse)}と言う. \emph{群(group)}は全ての要素$m\in M$が逆元を持つモノイド$(M,e,\star)$である.

\end{definition}

\begin{proposition}

%Suppose that $\mcM:=(M,e,\star)$ is a monoid and let $m\in M$ be an element. Then $m$ has at most one inverse.
%\footnote{If $\mcM$ is a group then every element $m$ has exactly one inverse.}

$\mcM:=(M,e,\star)$をモイノドと仮定し, $m\in M$をその要素とする. このとき$m$は逆元を最大でも一つしか持たない.
\footnote{$\mcM$が群であるならば全ての要素$m$はちょうど一つだけ逆元を持つ.}

\end{proposition}

\begin{proof}

%Suppose that both $m'$ and $m''$ are inverses of $m$; we want to show that $m'=m''$. This follows by the associative law for monoids:
%$$m'=m'(mm'')=(m'm)m''=m''.$$

$m'$と$m''$の両者が$m$の逆元だと仮定する. $m'=m''$であることを示したい. これはモノイドの結合則により従う.
$$m'=m'(mm'')=(m'm)m''=m''.$$

\end{proof}

\begin{example}

%The additive monoid $(\NN,0,+)$ is not a group because none of its elements are invertible, except for $0$. However, the monoid of integers $(\ZZ,0,+)$ is a group. The monoid of clock positions from Example \ref{ex:cyclic} is also a group. For example the inverse of $Q^5$ is $Q^7$ because $Q^5\star Q^7=e=Q^7\star Q^5$.

加法モノイド$(\NN,0,+)$は群ではない. なぜなら$0$を除いてそのどの要素も可逆ではないからだ. しかしながら, 整数のモノイド$(\ZZ,0,+)$は群である. Example \ref{ex:cyclic}での時計の針の位置のモノイドもまた群である. 例えば$Q^5\star Q^7=e=Q^7\star Q^5$であるから, $Q^5$の逆元は$Q^7$である.

\end{example}

\begin{example}

%Consider a square centered at the origin in $\RR^2$. It has rotational and mirror symmetries. There are eight of these, which we denote $$\{e,\rho,\rho^2,\rho^3,\phi,\phi\rho,\phi\rho^2,\phi\rho^3\},$$ where $\rho$ stands for $90^\circ$ counterclockwise rotation and $\phi$ stands for horizontal-flip (across the vertical axis). So relations include $\rho^4=e$, $\phi^2=e$, and $\rho^3\phi=\phi\rho$.

$\RR^2$の原点に中心がある正方形を考える. これは回転と鏡映の対称性を持つ. 対称性は8個あり, これを$$\{e,\rho,\rho^2,\rho^3,\phi,\phi\rho,\phi\rho^2,\phi\rho^3\},$$と表記する. ここで$\rho$は$90^\circ$の反時計回りの回転を表しており, $\phi$は(縦軸を中心とした)左右反転を表している. よって関係には$\rho^4=e$や$\phi^2=e$, $\rho^3\phi=\phi\rho$が含まれている.

\end{example}

\begin{example}\label{ex:important groups}

%The set of $3\times 3$ matrices can be given the structure of a monoid, where the identity element is the $3\times 3$ identity matrix, the multiplication is matrix multiplication. The subset of invertible matrices forms a group, called {\em the general linear group of dimension 3}\index{a group!$GL_3$} and denoted $GL_3$. Inside of $GL_3$ is the so-called {\em orthogonal group}, denoted $O_3$, of matrices $M$ such that $M^\m1=M^\top$. These matrices correspond to symmetries of the sphere centered at the origin.

$3\times 3$の行列の集合にはモノイドの構造を与えることができる. ここで単位元は$3\times 3$の単位行列であり, 積は行列の積である. 可逆行列の部分集合は群をなし, \emph{3次元の一般線形群(the general linear group of dimension 3)}\index{a group!$GL_3$}と呼ばれ$GL_3$と表記される. $GL_3$の中には$O_3$で表記されるいわゆる\emph{直交群(orthogonal group)}, $M^\m1=M^\top$であるところの行列$M$が存在する. これらの行列は, 原点に中心がある球の対称性に対応している.

%Another interesting group is the Euclidean group\index{a group!$E_3$} $E(3)$ which consists of all {\em isometries} of $\RR^3$, i.e. all functions $\RR^3\to\RR^3$ that preserve distances.  

また別の興味深い群として, $\RR^3$上の全ての\emph{等距変換(isometry)}, i.e. 距離を保つ函数$\RR^3\to\RR^3$の全てからなるユークリッド群\index{a group!$E_3$} $E(3)$がある.

\end{example}

\begin{application}\label{app:groups for symmetry}\index{symmetry}

%In \href{http://en.wikipedia.org/wiki/Crystallography}{\text crystallography} one is often concerned with the symmetries that arise in the arrangement $A$ of atoms in a molecule. To think about symmetries in terms of groups, we first define an {\em atom-arrangement} to be a finite subset $i\taking A\ss\RR^3$. A symmetry in this case is an isometry of $\RR^3$ (see Example \ref{ex:important groups}), say $f\taking\RR^3\to\RR^3$ such that there exists a dotted arrow making the diagram below commute:
%$$
%\xymatrix{A\ar@{-->}[r]\ar[d]_i&A\ar[d]^i\\\RR^3\ar[r]_f&\RR^3}
%$$
%That is, it's an isometry of $\RR^3$ such that each atom of $A$ is sent to a position currently occupied by an atom of $A$. It is not hard to show that the set of such isometries forms a group, called the \href{http://en.wikipedia.org/wiki/Space_group}{\em space group}\index{space group} of the crystal.

\href{http://en.wikipedia.org/wiki/Crystallography}{結晶学(crystallography)}では, 分子の内部の\footnote{訳注: 正確には単位胞(unit cell). 一分子の対称性を議論する際に用いられる, 並進対称性を含まない群は\href{http://en.wikipedia.org/wiki/Point_group}{\emph{点群(point group)}}\index{point group}と呼ばれる.}原子の配置$A$によって生起する対称性をしばしば考察することになる. 群の観点で対称性について考えるために, 我々は最初に$i\taking A\ss\RR^3$の有限部分集合になるように\emph{原子配置(atom-arrangement)}を定義する. この場合の対称性は$\RR^3$の等距変換(Example \ref{ex:important groups}を見よ)であり, 言い換えれば下記の図式を可換にする破線矢印が存在するところの$f\taking\RR^3\to\RR^3$である. 
$$
\xymatrix{A\ar@{-->}[r]\ar[d]_i&A\ar[d]^i\\\RR^3\ar[r]_f&\RR^3}
$$
これはすなわち, $A$のそれぞれの原子を, $A$の(同じ種類の)原子が占めている場所へと送る等距変換である. これらの等距変換による集合が, 結晶の\href{http://en.wikipedia.org/wiki/Space_group}{\emph{空間群(space group)}}\index{space group}と呼ばれる群を形成することを示すのは難しくない.
\end{application}

\begin{exercise}\label{exc:permutation}\index{set!permutation of}
%Let $S$ be a finite set. A {\em permutation of $S$}\index{permutation} is an isomorphism $f\taking S\To{\iso}S$. 
$S$を有限集合とする. \emph{$A$の置換(permutation of $S$)}\index{permutation}は同型写像$f\taking S\To{\iso}S$である.
\begin{center}
\parbox{2.3in}{
\includegraphics[height=2in]{SetPermutation}}
\end{center}
%\sexc Come up with an identity, and a  multiplication formula, such that the set of permutations of $S$ forms a monoid. 
%\next Is it a group?
%\endsexc
\sexc $S$の置換の集合がモノイドをなすような単位元と積の式を見出せ.
\next それは群か?
\endsexc
\end{exercise}

\begin{exercise}
%In Exercise \ref{exc:classify cyclic} you classified the cyclic monoids. Which of them are groups? 
Exercise \ref{exc:classify cyclic}では巡回モノイドを分類した. それらのうち群はどれか?
\end{exercise}

%\begin{definition}[Group action]\label{def:group action}\index{group!action}\index{action!of a group}
\begin{definition}[群作用]\label{def:group action}\index{group!action}\index{action!of a group}

%Let $(G,e,\star)$ be a group and $S$ a set. An {\em action} of $G$ on $S$ is a function $\acts\taking G\times S\to S$ such that for all $s\in S$ and $g,g'\in G$, we have
%\begin{itemize}
%\item $e\acts s=s$ and
%\item $g\acts(g'\acts s)=(g\star g')\acts s.$
%\end{itemize}
%In other words, considering $G$ as a monoid, it is an action in the sense of Definition \ref{def:monoid action}.

$(G,e,\star)$を群とし, $S$を集合とする. $S$への$G$の\emph{作用(action)}は函数$\acts\taking G\times S\to S$で, 全ての$s\in S$と$g,g'\in G$に対して以下をみたすものである.
\begin{itemize}
\item $e\acts s=s$
\item $g\acts(g'\acts s)=(g\star g')\acts s$
\end{itemize}
別の言い方をすれば, $G$をモノイドとみなせば, Definition \ref{def:monoid action}の意味でこれは作用である.

\end{definition}

\begin{example}\label{ex:U(1)}\index{a group!$U(1)$}

%When a group acts on a set, it has the character of \href{http://en.wikipedia.org/wiki/Symmetry}{\text symmetry}. For example, consider the group whose elements are angles $\theta$. This group may be denoted $U(1)$ and is often formalized as the unit circle in $\CC$ of complex numbers $z=a+bi$ such that $|z|=a^2+b^2=1$. The set of such points is given the structure of a group $(U(1),e,\star)$ by defining the identity element to be $e:=1+0i$ and the group law to be complex multiplication. But for those unfamiliar with complex numbers, this is simply angle addition where we understand that $360^\circ=0^\circ$. If $\theta_1=190^\circ$ and $\theta_2=278^\circ$, then $\theta_1\star\theta_2=468^\circ=108^\circ.$ In the language of complex numbers, $z=e^{i\theta}$.

群が集合に作用するとき, それは\href{http://en.wikipedia.org/wiki/Symmetry}{対称性(symmetry)}の特徴を持つ. 例えば, 角度$\theta$が要素である群を考える. この群は$U(1)$と書かることもあり, $\CC$上の単位円すなわち複素数$z=a+bi$で$|z|=a^2+b^2=1$であるものとしてしばしば定式化される. このような点の集合は, 単位元を$e:=1+0i$, 積の式を複素数の積と定義することによって, 群$(U(1),e,\star)$の構造を与えることができる. 複素数に不慣れな人のために加えると, これは単に$360^\circ=0^\circ$が分かっている上での角度の足し算である. もし$\theta_1=190^\circ$で$\theta_2=278^\circ$ならば, $\theta_1\star\theta_2=468^\circ=108^\circ$である. 複素数の言葉では, $z=e^{i\theta}$である.

%The group $U(1)$ acts on any set that we can picture as having rotational symmetry about a fixed axis, such as the earth around the north-south axis. We will define $S=\{(x,y,z)\in\RR^3\|x^2+y^2+z^2=1\}$, the unit sphere, and understand the rotational action of $U(1)$ on $S$.\index{orbit!rotating earth}

群$U(1)$は, 例えば地軸回りの地球のような, 固定された軸について回転対称性を持つように描けるような任意の集合に対して作用する. 単位球面$S=\{(x,y,z)\in\RR^3\|x^2+y^2+z^2=1\}$を定義し, $S$への$U(1)$の回転作用を理解してみよう.\index{orbit!rotating earth}

%We first show that $U(1)$ acts on $\RR^3$ by $\theta\acts(x,y,z)=(x\cos\theta+y\sin\theta, -x\sin\theta+y\cos\theta,z)$, or with matrix notation as 
%$$\theta\acts(x,y,z)
%:=(x,y,z)\left(\begin{array}{ccc}
%\cos(\theta)&-\sin(\theta)&0\\
%\sin(\theta)&\cos(\theta)&0\\
%0&0&1\end{array}\right)
%$$
%\href{http://en.wikipedia.org/wiki/List_of_trigonometric_identities#Matrix_form}{\text Trigonometric identities} ensure that this is indeed an action.

最初に$U(1)$が$\RR^3$へ作用することを示そう. これは$\theta\acts(x,y,z)=(x\cos\theta+y\sin\theta, -x\sin\theta+y\cos\theta,z)$によって, あるいは行列表示
$$\theta\acts(x,y,z)
:=(x,y,z)\left(\begin{array}{ccc}
\cos(\theta)&-\sin(\theta)&0\\
\sin(\theta)&\cos(\theta)&0\\
0&0&1\end{array}\right)
$$
による. \href{http://en.wikipedia.org/wiki/List_of_trigonometric_identities#Matrix_form}{三角函数の公式}からこれが実際に作用であることは保証されている.

%In terms of action tables, we would need infinitely many columns to express this action. Here is a sample
作用表の観点では, 我々はこの作用を表現するのに無限の行を必要とする. 下記は一つの例である.
$$
\begin{tabular}{| l || l | l | l |}
\bhline
%\multicolumn{4}{|c|}{Action of $U(1)$ on $\RR^3$}\\\bhline
\multicolumn{4}{|c|}{\text{$\RR^3$への$U(1)$の作用}}\\\bhline
{$\RR^3$}&{$\theta=45^\circ$}&{$\theta=90^\circ$}&{$\theta=100^\circ$}\\\bbhline
(0,0,0)&(0,0,0)&(0,0,0)&(0,0,0)\\\hline
(1,0,0)&(.71,.71,0)&(0,1,0)&(-.17,.98,0)\\\hline
(0,1,-4.2)&(-.71,.71,-4.2)&(-1,0,-4.2)&(-.98,-.17,-4.2)\\\hline
(3,4,2)&(4.95,.71,2)&(-4,3,2)&(3.42,-3.65,2)\\\hline
$\vdots$&$\vdots$&$\vdots$&$\vdots$\\\bhline
\end{tabular}
$$

%Finally, we are looking to see that the action preserves length so that if $(x,y,z)\in S$ then $\theta\acts(x,y,z)\in S$; this way we will have confirmed that $U(1)$ indeed acts on $S$. The calculation begins by assuming $x^2+y^2+z^2=1$ and checks 
%$$
%(x\cos\theta+y\sin\theta)^2+(-x\sin\theta+y\cos\theta)^2+z^2=x^2+y^2+z^2=1.
%$$

最後に, $(x,y,z)\in S$ならば$\theta\acts(x,y,z)\in S$であるために, この作用が長さを保存しすることを見てみよう. この方法で, 我々は$U(1)$が実際に$S$へ作用することを確かめることになる. 計算としては, 最初に$x^2+y^2+z^2=1$を仮定し, そして以下を確かめればよい.
$$
(x\cos\theta+y\sin\theta)^2+(-x\sin\theta+y\cos\theta)^2+z^2=x^2+y^2+z^2=1.
$$

\end{example}

\begin{exercise}\label{exc:permutation group}
%Let $X$ be a set and consider the group of permutations of $X$ (see Exercise \ref{exc:permutation}), which we will denote $\Sigma_X$\index{a group!$\Sigma_X$}. Find a canonical action of $\Sigma_X$ on $X$.
$X$を集合とする. $X$の置換群(Exercise \ref{exc:permutation}を見よ)を考え, これを$\Sigma_X$\index{a group!$\Sigma_X$}で示すことにする. $X$への$\Sigma_X$の標準作用(canonical action)を見出せ.
\end{exercise}

\begin{definition}

%Let $G$ be a group acting on a set $X$. For any point $x\in X$, the {\em orbit of $x$},\index{orbit}\index{action!orbit of} denoted $Gx$, is the set 
%$$Gx:=\{x'\in X\|\exists g\in G \tn{ such that }gx=x'\}.$$

$G$を$X$への群作用とする. 任意の点$x\in X$に対して, $Gx$で示される\emph{$x$の軌道(orbit of $x$)}\index{orbit}\index{action!orbit of}は以下の集合である.
$$Gx:=\{x'\in X\|\exists g\in G \tn{ such that }gx=x'\}.$$

\end{definition}

\begin{application}

%Let $S$ be the surface of the earth, understood as a sphere, and let $G=U(1)$ be the group of angles acting on $S$ as in Example \ref{ex:U(1)}. The orbit of any point $p=(x,y,z)\in S$ is the set of points on the same latitude line as $p$.

地球を球体と理解するとし, $S$をその表面とする. $G=U(1)$をExample \ref{ex:U(1)}での$S$へ作用する角度の群とする. 任意の点$p=(x,y,z)\in S$の軌道は$p$と同じ緯度の点の集合である.

%One may also consider a small band around the earth, i.e. the set $A=\{(x,y,z)\|1.0\leq x^2+y^2+z^2\leq 1.05\}$. The action of $U(1)\acts S$ extends to an action $U(1)\acts A$. The orbits are latitude-lines-at-altitude. A simplifying assumption in \href{http://en.wikipedia.org/wiki/Climatology}{\text climatology} may be given by assuming that $U(1)$ acts on all currents in the atmosphere in an appropriate sense. That way, instead of considering movement within the whole space $A$, we only allow movement that behaves the same way throughout each orbit of the group action.

地球の周囲に狭い帯状領域を考えてみたいかもしれない, i.e. 集合$A=\{(x,y,z)\|1.0\leq x^2+y^2+z^2\leq 1.05\}$. 作用$U(1)\acts S$は作用$U(1)\acts A$に拡張される. 軌道は緯度上の緯線である. \href{http://en.wikipedia.org/wiki/Climatology}{気候学(climatology)}における仮定を単純化すれば, おそらく全ての大気の流れについて適切な意味において$U(1)$が作用するという仮定を与えるということであろう. この方法では, 全空間$A$の中での動きを考慮するかわりに, 我々はそれぞれの群作用の軌道を通じて同じようにふるまう動きだけを許している.

\end{application}

\begin{exercise}~
%\sexc Consider the $U(1)$ action on $\RR^3$ given in Example \ref{ex:U(1)}. Describe the set of orbits of this action.
%\next What are the orbits of the action of the permutation group $\Sigma_{\{1,2,3\}}$ on the set $\{1,2,3\}$? (See Exercise \ref{exc:permutation group}.)
%\endsexc
\sexc Example \ref{ex:U(1)}で与えられた$\RR^3$への作用$U(1)$を考える. この作用の軌道の集合を記述せよ.
\next 集合$\{1,2,3\}$への置換群$\Sigma_{\{1,2,3\}}$の作用の軌道は何だろうか? (Exercise \ref{exc:permutation group}を見よ.)
\endsexc
\end{exercise}

\begin{exercise}
%Let $G$ be a group and $X$ a set on which $G$ acts by $\acts\taking G\times X\to X$. Is ``being in the same orbit" an equivalence relation on $X$? 
$G$を群, $X$を$\acts\taking G\times X\to X$によって$G$が作用するところの集合とする. ``同じ軌道である''ことは$X$での同値関係であるか?
\end{exercise}

\begin{definition}\label{def:group homomorphism}\index{group!homomorphism of}

%Let $G$ and $G'$ be groups. A {\em group homomorphism} $f\taking G\to G'$ is defined to be a monoid homomorphism $G\to G'$, where $G$ and $G'$ are being regarded as monoids in accordance with Definition \ref{def:group}.

$G$と$G'$を群とする. \emph{群準同型(group homomorphism)}はモノイド準同型$G\to G'$として定義される. ここで$G$ と$G'$はDefinition \ref{def:group}に一致するモノイドとみなされている.

\end{definition}

%%%%%% Section %%%%%%

%\section{Graphs}\label{sec:graphs}
\section{グラフ}\label{sec:graphs}

%In this course, unless otherwise specified, whenever we speak of graphs we are not talking about curves in the plane, such as parabolas, or pictures of functions generally. We are speaking of systems of vertices and arrows.

この教程では特に指定しない限り, 我々がグラフ(graph)と言うときには常に, 放物線のような平面上の曲線や, あるいはもっと一般の函数の図などを, 語ってはいない. 我々は頂点と矢印(辺)からなる系について語っている.

%We will take our graphs to be {\em directed}, meaning that every arrow points {\em from} a vertex {\em to} a vertex; rather than merely connecting vertices, arrows will have direction. If $a$ and $b$ are vertices, there can be many arrows from $a$ to $b$, or none at all. There can be arrows from $a$ to itself. Here is the formal definition in terms of sets and functions.

我々は\emph{有向(directed)}グラフを扱うことにする. 有向という言葉が意味するところは, 全ての矢印はある頂点\emph{から}ある頂点\emph{に向って}いるということである. 矢印は単に頂点を結ぶのではなく, 向きを持つ. もし$a$と$b$が頂点ならば, $a$から$b$への多くの矢印が存在しうるし, あるいは全く存在しない. $a$からそれ自身への矢印も存在しうる. 以下は集合と函数の観点においての形式的な定義である.

%%%% Subsection %%%%

%\subsection{Definition and examples}
\subsection{定義と例}

\begin{definition}\label{def:graph}\index{graph}

%A {\em graph} $G$ consists of a sequence $G:=(V,A,src,tgt)$ where 
%\begin{itemize}
%\item $V$ is a set, called {\em the set of vertices of $G$} (singular:{\em vertex}),\index{vertex}
%\item $A$ is a set, called {\em the set of arrows of $G$},\index{arrow}
%\item $src\taking A\to V$ is a function, called {\em the source function for $G$}, and
%\item $tgt\taking A\to V$ is a function, called {\em the target function for $G$}.
%\end{itemize}
%Given an arrow $a\in A$ we refer to $src(a)$ as the {\em source vertex} of $a$ and to $tgt(a)$ as the {\em target vertex} of $a$.

\emph{グラフ(graph)}$G$は列$G:=(V,A,\src,\tgt)$からなる. ここで
\begin{itemize}
\item $V$は集合であり, \emph{$G$の頂点集合(the set of vertices\footnote{単数形: \emph{vertex}.} of $G$)}\index{vertex}と呼ばれる.
\item $A$は集合であり, \emph{$G$の矢の集合(the set of arrows of $G$)}\index{arrow}と呼ばれる.
\item $\src\taking A\to V$は函数であり, \emph{$G$に対する始点函数(the source function for $G$)}と呼ばれる.
\item $\tgt\taking A\to V$は函数であり, \emph{$G$に対する終点函数(the target function for $G$)}と呼ばれる.
\end{itemize}
矢$a\in A$が与えられたとき, 我々は$\src(a)$を$a$の\emph{始点(source vertex)}, $\tgt(a)$を$a$の\emph{終点(target vertex)}として参照する.

\end{definition}

%To draw a graph, first draw a dot for every element of $V$. Then for every element $a\in A$, draw an arrow connecting dot $src(a)$ to dot $tgt(a)$.

グラフを描く際には, 最小に$V$の要素それぞれに対して点を描き, 次にそれぞれの要素$a\in A$に対して, 点$\src(a)$と$\tgt(a)$を結ぶ矢を描く.

%\begin{example}[Graph]\label{ex:graph}
\begin{example}[グラフ]\label{ex:graph}

%Here is a picture of a graph $G=(V,A,src,tgt)$:
これはグラフ$G=(V,A,\src,\tgt)$の図である.
\begin{align}\label{dia:graph}
G:=\parbox{2in}{\fbox{\xymatrix{\bullet^v\ar[r]^f&\bullet^w\ar@/_1pc/[r]_h\ar@/^1pc/[r]^g&\bullet^x\\\bullet^y\ar@(l,u)[]^i\ar@/^1pc/[r]^j&\bullet^z\ar@/^1pc/[l]^k}}}
\end{align} 
%We have $V=\{v,w,x,y,z\}$ and $A=\{f,g,h,i,j,k\}$. The source and target functions $src,tgt\taking A\to V$ can be captured in the table to the left below:
$V=\{v,w,x,y,z\}$であり$A=\{f,g,h,i,j,k\}$である. 始点函数および終点函数$\src,\tgt\taking A\to V$は左下の表によって把握することができる.
\begin{align*}
\begin{array}{| l || l | l |}\bhline
%{\bf A}&{\bf src}&{\bf tgt}\\\bbhline
{A}&{\src}&{\tgt}\\\bbhline
f&v&w\\\hline
g&w&x\\\hline
h&w&x\\\hline
i&y&y\\\hline
j&y&z\\\hline
k&z&y\\\bhline
\end{array}
\hspace{1in}
\begin{array}{| l |}\bhline
%{\bf V}\\\bbhline
{V}\\\bbhline
v\\\hline
w\\\hline
x\\\hline
y\\\hline
z\\\bhline
\end{array}
\end{align*}
%In fact, all of the data of the graph $G$ is captured in the two tables above---together they tell us the sets $A$ and $V$ and the functions $src$ and $tgt$.
実際, グラフ$G$の全てのデータは上記の二つの表によって把握可能である---二つを併せることによって集合$A$, 集合$V$, そして函数$\src$および$\tgt$を知ることができる.
\end{example}

\begin{example}

%Every olog has an underlying graph. The additional information in an olog has to do with which pairs of paths are declared equivalent, as well as text that has certain English-readability rules.\index{olog!underlying graph}

全てのologには基底となるグラフがある. ologの追加情報は, 英語で読むための法則を持つことだけでなく, どの経路の対が透過であると宣言をとり扱う.\index{olog!underlying graph}

\end{example}

\begin{exercise}
%\sexc Draw the graph corresponding to the following tables:
\sexc 以下の表に対応するグラフを描け.
\begin{align*}
\begin{array}{| l || l | l |}\bhline
%{\bf A}&{\bf src}&{\bf tgt}\\\bbhline
{A}&{\src}&{\tgt}\\\bbhline
f&v&w\\\hline
g&v&w\\\hline
h&v&w\\\hline
i&x&w\\\hline
j&z&w\\\hline
k&z&z\\\bhline
\end{array}
\hspace{1in}
\begin{array}{| l |}\bhline
%{\bf V}\\\bbhline
{V}\\\bbhline
u\\\hline
v\\\hline
w\\\hline
x\\\hline
y\\\hline
z\\\bhline
\end{array}
\end{align*}
%\next Write down two tables, as above, corresponding to the following graph:
\next 上記のように, 下記のグラフに対応する二つの表を書け.
$$\fbox{\xymatrix{
\LMO{a}\ar[r]^{1}&\LMO{b}\ar[r]^2\ar@/^1pc/[r]^3&\LMO{c}\ar@/^1pc/[l]^4\ar[r]^5&\LMO{d}\\
\LMO{e}&\LMO{f}\ar[l]^6\ar[r]_7&\LMO{g}\ar[ur]_8}}
$$
\endsexc
\end{exercise}

\begin{exercise}
%Let $A=\{1,2,3,4,5\}$ and $B=\{a,b,c\}$. Draw them and choose an arbitrary function $f\taking A\to B$ and draw it. Let $A\sqcup B$ be the coproduct of $A$ and $B$ (Definition \ref{def:coproduct}) and let $A\To{i_1}A\sqcup B\From{i_2}B$ be the two inclusions. Consider the two functions $src,tgt\taking A\to A\sqcup B$, where $src=i_1$ and $tgt$ is the composition $A\To{f}B\To{i_2}A\sqcup B$. Draw the associated graph $(A\sqcup B,A,src,tgt)$.
$A=\{1,2,3,4,5\}$で $B=\{a,b,c\}$とする. $A$と$B$を描いて任意の函数$f\taking A\to B$を選べ. $A\sqcup B$を$A$と$B$の余積(Definition \ref{def:coproduct})とし, $A\To{i_1}A\sqcup B\From{i_2}B$を二つの包含函数とする. $\src,\tgt\taking A\to A\sqcup B$を考える. ここで$\src=i_1$とし, $\tgt$を合成$A\To{f}B\To{i_2}A\sqcup B$とした. 関連するグラフ$(A\sqcup B,A,\src,\tgt)$を描け.
\end{exercise}

\begin{exercise}~
%\sexc Let $V$ be a set. Suppose we just draw the elements of $V$ as vertices and have no arrows between them. Is this a graph?
%\next Given $V$, is there any other ``canonical" or somehow automatic non-random procedure for generating a graph with those vertices? 
%\endsexc
\sexc $V$を集合とする. $V$の要素を頂点として描き, それらの間に一本も矢がないと仮定する. これはグラフか?
\next $V$が与えられたとき, これらの頂点からグラフを生成する, 他の``canonical''あるいはなんらかの自動的で乱択的ではない手続きがあるだろうか?
\endsexc
\end{exercise}

\begin{example}

%Recall from Construction \ref{const:bipartite} the notion of bipartite graph, which we defined to be a span (i.e. pair of functions, see Definition \ref{def:span}) $A\From{f}R\To{g}B$. Now that we have a formal definition of graph, we might hope that bipartite graphs fit in, and they do. Let $V=A\sqcup B$ and let $i\taking A\to V$ and $j\taking B\to V$ be the inclusions. Let $src=i\circ f\taking R\to V$ and let $tgt=j\circ g\taking R\to V$ be the composites.
%$$
%\xymatrix{&A\ar[dr]^i\\R\ar@/^1pc/[rr]_{src}\ar@/_1pc/[rr]^{tgt}\ar[ur]^f\ar[dr]_g&&V\\&B\ar[ur]_j}
%$$ 
%Then $(V,R,src,tgt)$ is a graph that would be drawn exactly as we specified the drawing of spans in Construction \ref{const:bipartite}.

Construction \ref{const:bipartite}での二部グラフの概念を思いだそう. 我々はこれをスパン(i.e. 函数の対. Definition \ref{def:span}を見よ)$A\From{f}R\To{g}B$と定義した. 今や我々はグラフの形式的な定義を手に入れた. 次は二部グラフをその概念にまたグラフをスパンの概念にあてはめたい. $V=A\sqcup B$とし, $i\taking A\to V$ and $j\taking B\to V$を包含函数とする. $\src=i\circ f\taking R\to V$とし, $\tgt=j\circ g\taking R\to V$を合成とする.
$$
\xymatrix{&A\ar[dr]^i\\R\ar@/^1pc/[rr]_{\src}\ar@/_1pc/[rr]^{\tgt}\ar[ur]^f\ar[dr]_g&&V\\&B\ar[ur]_j}
$$ 
このとき, $(V,R,\src,\tgt)$は, Construction \ref{const:bipartite}のスパンの描き方として詳細を述べたのとかっちり同じ描き方をすることになるグラフである.

\end{example}

\begin{example}\label{ex:[n] as graph}

%Let $n\in\NN$ be a natural number. The {\em chain graph of length $n$},\index{graph!chain} denoted $[n]$ is the graph depicted here:
%$$
%\xymatrix{
%\LMO{0}\ar[r]&\LMO{1}\ar[r]&\cdots\ar[r]&\LMO{n}
%}
%$$
%In general $[n]$ has $n$ arrows and $n+1$ vertices. In particular, when $n=0$ we have that $[0]$ is the graph consisting of a single vertex and no arrows. 

$n\in\NN$を自然数とする. $[n]$で示される\emph{長さ$n$の連鎖グラフ(chain graph of length $n$)}\index{graph!chain}は以下に描画されるグラフである.
$$
\xymatrix{
\LMO{0}\ar[r]&\LMO{1}\ar[r]&\cdots\ar[r]&\LMO{n}
}
$$
一般に$[n]$は$n$本の矢と$n+1$個の頂点を持つ. 特に, $n=0$のとき$[0]$は単一の頂点を持ち矢を持たないグラフである.

\end{example}

\begin{example}\label{ex:ZxG}

%Let $G=(V,A,src,tgt)$ be a graph; we want to spread it out over discrete time, so that each arrow does not occur within a given time-slice but instead over a quantum unit of time. 

$G=(V,A,\src,\tgt)$をグラフとする. 我々は離散的な時間の上をこれによって覆い尽したい. これによってそれぞれの矢は与えられた時間の断片の中に局在するかわりに, 量子的な時間単位の上に遍在することになる.

%Let $N=(\NN,\NN,n\mapsto n,n\mapsto n+1)$ be the graph depicted 
%$$\xymatrix{\LMO{0}\ar[r]^0&\LMO{1}\ar[r]^1&\LMO{2}\ar[r]^2&\cdots}$$
%When we get to limits in a category, we will understand that products can be taken in the category of graphs (see  Example \ref{ex:product of graphs}), and $N\times G$ will make sense. For now, we construct it by hand.

$N=(\NN,\NN,n\mapsto n,n\mapsto n+1)$を以下で描画されるグラフとする.
$$\xymatrix{\LMO{0}\ar[r]^0&\LMO{1}\ar[r]^1&\LMO{2}\ar[r]^2&\cdots}$$
圏論での極限の概念を知れば, 積はグラフの圏(Example \ref{ex:product of graphs}を見よ)として理解でき, $N\times G$が意味を持つことが分かる. 今のところは, 我々は手作業でこれを構成することにする.

%Let $T(G)=(V\times \NN,A\times\NN,src',tgt')$ be a new graph, where for $a\in A$ and $n\in\NN$ we have $src'(a,n):=(src(a),n)$ and $tgt'(a,n)=(tgt(a),n+1)$. This may be a bit much to swallow, so try to simply understand what is being done in the following example. 

$T(G)=(V\times \NN,A\times\NN,\src',\tgt')$を新しいグラフとする. ここで$a\in A$と$n\in\NN$に対して$\src'(a,n):=(src(a),n)$および$\tgt'(a,n)=(tgt(a),n+1)$とする. これは少々飲み込みにくいかもしれない. よって, 以下の例で何がなされたかを簡単に理解することを試みよう.

%Let $G$ be the graph drawn below 
%$$\xymatrix{\LMO{a}\ar@(ul,ur)[]^f\ar[d]_g\\\LMO{b}}$$
%Then $T(G)$ will be the graph 
%$$\xymatrix@=30pt{
%\LMO{a0}\ar[r]^{f0}\ar[rd]_{g0}&\LMO{a1}\ar[r]^{f1}\ar[rd]_{g1}&\LMO{a2}\ar[r]^{f2}\ar[rd]_{g2}&\cdots\\
%\LMO{b0}&\LMO{b1}&\LMO{b2}&\cdots
%}
%$$
%As you can see, $f$-arrows still take $a$'s to $a$'s and $g$-arrows still take $a$'s to $b$'s, but they always march forward in time.

$G$を以下に描かれたグラフとする.
$$\xymatrix{\LMO{a}\ar@(ul,ur)[]^f\ar[d]_g\\\LMO{b}}$$
このとき$T(G)$はグラフ
$$\xymatrix@=30pt{
\LMO{a0}\ar[r]^{f0}\ar[rd]_{g0}&\LMO{a1}\ar[r]^{f1}\ar[rd]_{g1}&\LMO{a2}\ar[r]^{f2}\ar[rd]_{g2}&\cdots\\
\LMO{b0}&\LMO{b1}&\LMO{b2}&\cdots
}
$$
になる. 見てとれるように, $f$の矢は依然として$a$から$a$であり$g$の矢は依然として$a$から$b$である. しかしどちらも時間に中で常に前方向へ進行している.

\end{example}

\begin{exercise}\label{exc:secret turing}
%Let $G$ be the graph depicted below:
%$$
%\xymatrix{\LMO{a}\ar@/^1pc/[rr]^w\ar@(lu,ld)[]_x&&\LMO{b}\ar@/^1pc/[ll]^y\ar@(ur,dr)[]^z}
%$$
%Draw (using ellipses ``$\cdots$" if necessary) the graph $T(G)$ defined in Example \ref{ex:ZxG}.
$G$を以下で描画されるグラフとする.
$$
\xymatrix{\LMO{a}\ar@/^1pc/[rr]^w\ar@(lu,ld)[]_x&&\LMO{b}\ar@/^1pc/[ll]^y\ar@(ur,dr)[]^z}
$$
Example \ref{ex:ZxG}で定義されるグラフ$T(G)$を(必要があれば省略記号``$\cdots$''を用いて)描け.
\end{exercise}

\begin{exercise}\label{exc:lattice}
%Consider the infinite graph $G=(V,A,src,tgt)$ depicted below,
以下で描画される無限グラフ$G=(V,A,\src,\tgt)$を考える.
$$
\xymatrix{
\vdots&\vdots&\vdots\\
(0,2)\ar[r]\ar[u]&(1,2)\ar[r]\ar[u]&(2,2)\ar[r]\ar[u]&\cdots\\
(0,1)\ar[r]\ar[u]&(1,1)\ar[r]\ar[u]&(2,1)\ar[r]\ar[u]&\cdots\\
(0,0)\ar[r]\ar[u]&(1,0)\ar[r]\ar[u]&(2,0)\ar[r]\ar[u]&\cdots}
$$
%\sexc Write down the sets $A$ and $V$. 
%\next What are the source and target function $A\to V$?  
%\endsexc
\sexc 集合$A$と$V$を書き下せ.
\next 始点函数および終点函数$A\to V$は何か?
\endsexc
\end{exercise}

\begin{exercise}\label{exc:(co)equalizer of graph}
%A graph is a pair of functions $A\tto V$. This sets up the notion of equalizer and coequalizer (see Definitions \ref{def:equalizer} and \ref{def:coequalizer}). 
%\sexc What feature of a graph is captured by the equalizer of its source and target functions? 
%\next What feature of a graph is captured by the coequalizer of its source and target functions?
%\endsexc
グラフは函数の対$A\tto V$である. ここから等価子と余等価子を作ることができる(Definitions \ref{def:equalizer}と\ref{def:coequalizer}を見よ).
\sexc 始点函数と終点函数の等価子によって, グラフのどんな性質がとらえられるだろうか?
\next 始点函数と終点函数の余等価子によって, グラフのどんな性質がとらえられるだろうか?
\endsexc
\end{exercise}

%%%% Subsection %%%%

%\subsection{Paths in a graph}\label{sec:paths in graph}\index{graph!paths}
\subsection{グラフにおける経路}\label{sec:paths in graph}\index{graph!paths}

%We all know what a path in a graph is, especially if we understand that a path must always follow the direction of arrows. The following definition makes this idea precise. In particular, one can have paths of any finite length $n\in\NN$, even length $0$ or $1$. Also, we want to be able to talk about the source vertex and target vertex of a path, as well as concatenation of paths.

我々はみなグラフの経路が何であるかを知っている. 特に経路が矢の方向に常に従わなければならないと理解しているならば. 以下の定義によってこのアイデアを正確になる. とりわけ, 任意の長さ$n\in\NN$の経路, 長さ$0$や$1$の経路すらも得ることができる. また, 我々は経路の結合だけでなく, 経路の始点および終点についても語ることを可能にしたい.

\begin{definition}\label{def:paths in graph}

%Let $G=(V,A,src,tgt)$ be a graph. A {\em path of length $n$}\index{path} in $G$, denoted $p\in\Path_G^{(n)}$\index{a symbol!$\Path$} is a head-to-tail sequence \begin{align}\label{dia:path}p=(v_0\To{a_1}v_1\To{a_2}v_2\To{a_3}\ldots\To{a_n}v_n)\end{align} of arrows in $G$, which we denote by $v_0 a_1 a_2 \ldots a_n$. In particular we have canonical isomorphisms $\Path_G^{(1)}\iso A$ and $\Path_G^{(0)}\iso V$; we refer to the path of length 0 on vertex $v$ as the {\em trivial path on $v$} and denote it simply by $v$. We denote by $\Path_G$ the set of paths in $G$, $$\Path_G:=\bigcup_{n\in\NN}\Path_G^{(n)}.$$ Every path $p\in\Path_G$ has a source vertex and a target vertex, and we may denote these by $\ol{src},\ol{tgt}\taking\Path_G\to V$. If $p$ is a path with $\ol{src}(p)=v$ and $\ol{tgt}(p)=w$, we may denote it by $p\taking v\to w$. Given two vertices $v,w\in V$, we write $\Path_G(v,w)$ to denote the set of all paths $p\taking v\to w$.

$G=(V,A,\src,\tgt)$をグラフとする. $p\in\Path_G^{(n)}$\index{a symbol!$\Path$}で示される, $G$の\emph{長さ$n$の経路(path of length $n$)}\index{path}は, 頭部から尾部への直鎖状の$G$の矢の列\begin{align}\label{dia:path}p=(v_0\To{a_1}v_1\To{a_2}v_2\To{a_3}\ldots\To{a_n}v_n)\end{align}である. 我々はこれを$v_0 a_1 a_2 \ldots a_n$と表す. 特に, 標準同型写像$\Path_G^{(1)}\iso A$および$\Path_G^{(0)}\iso V$が存在する. 頂点$v$上の長さ0の経路を\emph{$v$上の自明な経路(trivial path on $v$)}として参照し, 簡単に$v$で示す. 我々は$\Path_G$によって$G$上の経路の集合を示す. $$\Path_G:=\bigcup_{n\in\NN}\Path_G^{(n)}.$$ 全ての経路$p\in\Path_G$は始点と終点を持つ. 我々はこれらを$\ol{\src},\ol{\tgt}\taking\Path_G\to V$で示すことにしよう. $p$が経路で$\ol{\src}(p)=v$かつ$\ol{\tgt}(p)=w$であるならば, これを$p\taking v\to w$で示すことにしよう. 与えられた二つの頂点$v,w\in V$について, $\Path_G(v,w)$と書いて$p\taking v\to w$なる経路全ての集合を示すことにする.

%There is a concatenation operation on paths.\index{concatenation!of paths} Given a path $p\taking v\to w$ and $q\taking w\to x$, we define the concatenation, denoted $p q\taking v\to x$ in the obvious way. If $p=va_1,a_2\ldots a_m$ and $q= wb_1b_2\ldots b_n$ then $pq=va_1\ldots a_mb_1\ldots b_n.$ In particular, if $p$ (resp. $r$) is the trivial path on vertex $v$ (resp. vertex $w$) then for any path $q\taking v\to w$, we have $pq=q$ (resp. $qr=q$). 

経路には連結演算が存在する.\index{concatenation!of paths} 経路$p\taking v\to w$と$q\taking w\to x$が与えられたとき, 我々は明らかな方法で結合演算を定義し, $p q\taking v\to x$で示す. もし$p=va_1,a_2\ldots a_m$で$q= wb_1b_2\ldots b_n$ならば$pq=va_1\ldots a_mb_1\ldots b_n.$である. とくに, もし$q$ (あるいは$r$)が頂点$v$ (あるいは頂点$w$)上の自明な経路であれば, 任意の経路$q\taking v\to w$に対して$pq=q$ (あるいは$qr=q$)が得られる.

\end{definition}

\begin{example}

%In Diagram (\ref{dia:graph}), page \pageref{dia:graph}, there are no paths from $v$ to $y$, one path ($f$) from $v$ to $w$, two paths ($fg$ and $fh$) from $v$ to $x$, and infinitely many paths $$\{y i^{p_1}(jk)^{q_1}\cdots i^{p_n}(jk)^{q_n}\;|\;n,p_1,q_1,\ldots,p_n,q_n\in\NN\}$$ from $y$ to $y$. There are other paths as well, including the five trivial paths.

\pageref{dia:graph}ページのDiagram \eqref{dia:graph}では, $v$から$y$への経路は存在せず, $v$から$w$への1本の経路($f$)が存在し, $v$から$x$への2本の経路($fg$および$fh$)が存在し, $y$から$y$への無限の経路$$\{y i^{p_1}(jk)^{q_1}\cdots i^{p_n}(jk)^{q_n}\;|\;n,p_1,q_1,\ldots,p_n,q_n\in\NN\}$$が存在している. また経路は他にも, 5本の自明な経路を含めて存在している.

\end{example}

\begin{exercise}
%How many paths are there in the following graph? 
以下のグラフには何本の経路があるか?
$$\xymatrix{\LMO{1}\ar[r]^{f}&\LMO{2}\ar[r]^{g}&\LMO{3}}$$
\end{exercise}

\begin{exercise}
%Let $G$ be a graph and consider the set $\Path_G$ of paths in $G$. Suppose someone claimed that there is a monoid structure on the set $\Path_G$, where the multiplication formula is given by concatenation of paths. Are they correct? Why or why not? Hint: what should be the identity element?
$G$をグラフとして, $G$の経路の集合$\Path_G$について考える. 誰かが, $\Path_G$には積の式が経路の連結によって与えられるところのモノイド構造が存在していると主張したと仮定しよう. これは正しいだろうか? 正しい, あるいは正しくないのはなぜか? ヒント: 単位元は何であるべきだろうか?
\end{exercise}


%%%% Subsection %%%%

%\subsection{Graph homomorphisms}
\subsection{グラフ準同型}

%A graph $(V,A,src,tgt)$ involves two sets and two functions. For two graphs to be comparable, their two sets and their two functions should be appropriately comparable.\index{appropriate comparison}

グラフ$(V,A,\src,\tgt)$には二つの集合と二つの函数が関わっている. 二つのグラフが比較可能であるためには, それらの二つの集合と二つの函数が適切に比較できなければならない.\index{appropriate comparison}

\begin{definition}\label{def:graph homomorphism}\index{graph!homomorphism}

%Let $G=(V,A,src,tgt)$ and $G'=(V',A',src',tgt')$ be graphs. A {\em graph homomorphism $f$ from $G$ to $G'$}, denoted $f\taking G\to G'$, consists of two functions $f_0\taking V\to V'$ and $f_1\taking A\to A'$ such that the two diagrams below commute:
%\begin{align}\label{dia:graph hom}
%\xymatrix{A\ar[r]^{f_1}\ar[d]_{src}&A'\ar[d]^{src'}\\V\ar[r]_{f_0}&V'
%}\hspace{1in}
%\xymatrix{A\ar[r]^{f_1}\ar[d]_{tgt}&A'\ar[d]^{tgt'}\\V\ar[r]_{f_0}&V'
%}
%\end{align}

$G=(V,A,\src,\tgt)$と$G'=(V',A',\src',\tgt')$をグラフとする. \emph{$G$から$G'$へのグラフ準同型$f$(graph homomorphism $f$ from $G$ to $G'$)}は, $f\taking G\to G'$で示され, 以下の図式を可換にするところの二つの函数$f_0\taking V\to V'$および$f_1\taking A\to A'$からなる.
\begin{align}\label{dia:graph hom}
\xymatrix{A\ar[r]^{f_1}\ar[d]_{\src}&A'\ar[d]^{\src'}\\V\ar[r]_{f_0}&V'
}\hspace{1in}
\xymatrix{A\ar[r]^{f_1}\ar[d]_{\tgt}&A'\ar[d]^{\tgt'}\\V\ar[r]_{f_0}&V'
}
\end{align}


\end{definition}

\begin{remark}

%The above conditions (\ref{dia:graph hom}) may look abstruse at first, but they encode a very important idea, roughly stated ``arrows are bound to their vertices". Under a map of graphs $G\to G'$ , one cannot flippantly send an arrow of $G$ any old arrow of $G'$: it must still connect the vertices it connected before. Below is an example of a mapping that does not respect this condition: $a$ connects $1$ and $2$ before, but not after:
%$$
%\fbox{\xymatrix{\LMO{\color{red}{1}}\ar[r]^{a}&\LMO{\color{blue}{2}}}}
%\xymatrix{~\ar[rr]^{1\mapsto 1',2\mapsto 2', a\mapsto a'}&\hsp&~}
%\fbox{\xymatrix{\LMO{\color{red}{1'}}&\LMO{\color{blue}{2'}}\ar[r]^{a'}&\LMO{\color{ForestGreen}{3'}}}}
%$$
%The commutativity of the diagrams in (\ref{dia:graph hom}) is exactly what is needed to ensure that arrows are handled in the expected way by a proposed graph homomorphism.

上記の条件\eqref{dia:graph hom}は最初は難解すぎるように見えるかもしれない. しかしこれは非常に重要なアイデア, 大雑把に述べると``矢はその頂点に束縛されている''というアイデアを言いかえている. グラフ間の写像$G\to G'$の下では, 軽々しく$G$の矢を$G'$の任意の古い矢に送ることはできない. 矢はそれまで結びついていた頂点に依然として結びついていなければならない. 下記はこの条件を尊重していない写像の例である. $a$はもともと$1$と$2$と繋がっていたが, 移った先ではそうではない.
$$
\fbox{\xymatrix{\LMO{\color{red}{1}}\ar[r]^{a}&\LMO{\color{blue}{2}}}}
\xymatrix{~\ar[rr]^{1\mapsto 1',2\mapsto 2', a\mapsto a'}&\hsp&~}
\fbox{\xymatrix{\LMO{\color{red}{1'}}&\LMO{\color{blue}{2'}}\ar[r]^{a'}&\LMO{\color{ForestGreen}{3'}}}}
$$
この\eqref{dia:graph hom}での図式の可換性は, 矢が与えられたグラフ準同型によって期待されるように扱えることを保証するために丁度必要とされるところのものである.
 
\end{remark}

%\begin{example}[Graph homomorphism]\label{ex:graph hom}
\begin{example}[グラフ準同型]\label{ex:graph hom}

%Let $G=(V,A,src,tgt)$ and $G'=(V',A',src',tgt')$ be the graphs drawn to the left and right (respectively) below:
$G=(V,A,src,tgt)$と$G'=(V',A',src',tgt')$を, 以下で左と右にそれぞれ描かれているグラフとする.
\begin{align}\label{dia:graph hom example}
\parbox{1.5in}{\fbox{\xymatrix{\LMO{\color{red}{1}}\ar[r]^a\ar@/^1pc/[d]^d\ar@/_1pc/[d]_c&\LMO{\color{ForestGreen}{2}}\ar[r]^b&\LMO{\color{red}{3}}\\\LMO{4}&\LMO{\color{blue}{5}}\ar[r]^e&\LMO{\color{blue}{6}}}}}
\parbox{1in}{\xymatrix{~\ar[rr]^{\parbox{.8in}{\vspace{-.2in}\footnotesize$1\mapsto 1', 2\mapsto 2',\\ 3\mapsto 1',4\mapsto 4',\\ 5\mapsto 5',6\mapsto5'$}}&\hsp&~}}
\parbox{.8in}{\fbox{\xymatrix{\LMO{\color{red}{1'}}\ar@<.5ex>[r]^w\ar[d]_y&\LMO{\color{ForestGreen}{2'}}\ar@<.5ex>[l]^x\\\LMO{4'}&\LMO{\color{blue}{5'}}\ar@(r,u)[]_z}}}
\end{align}
%The colors indicate our choice of function $f_0\taking V\to V'$. Given that choice, condition (\ref{dia:graph hom}) imposes in this case that there is a unique choice of graph homomorphism $f\taking G\to G'$. 
色は我々が選んだ函数$f_0\taking V\to V'$を指し示している. ある函数の選択が与えられたとき, 条件\eqref{dia:graph hom}が課されることによって, この場合にはグラフ準同型$f\taking G\to G'$として一意な選択しか存在しない.

\end{example}

\begin{exercise}~
%\sexc Where are $a,b,c,d,e$ sent under $f_1\taking A\to A'$ in Diagram (\ref{dia:graph hom example})? 
%\next Choose a couple elements of $A$ and check that they behave as specified by Diagram (\ref{dia:graph hom}).
%\endsexc
\sexc Diagram (\ref{dia:graph hom example})において, $a,b,c,d,e$は$f_1\taking A\to A'$によってどこに送られるだろうか? 
\next $A$から要素を二つ選び, 具体的にDiagram (\ref{dia:graph hom})のようなふるまいをするかを確認せよ.
\endsexc
\end{exercise}

\begin{exercise}
%Let $G$ be a graph, let $n\in\NN$ be a natural number, and let $[n]$ be the chain graph of length $n$, as in Example \ref{ex:[n] as graph}. Is a path of length $n$ in $G$ the same thing as a graph homomorphism $[n]\to G$, or are there subtle differences? More precisely, is there always an isomorphism between the set of graph homomorphisms $[n]\to G$ and the set $\Path_G^{(n)}$ of length-$n$ paths in $G$?
$G$をグラフ, $n\in\NN$を自然数, $[n]$をExample \ref{ex:[n] as graph}で記述された長さ$n$の連鎖グラフとする. $G$での経路の長さ$n$はグラフ準同型$[n]\to G$と同じものか, あるいは微妙な違いが存在するだろうか? より正確にいうならば, グラフ準同型$[n]\to G$の集合と長さ$n$の$G$における経路の集合$\Path_G^{(n)}$との間には, 常に同型写像が存在するだろうか?
\end{exercise}

\begin{exercise}
%Given a morphism of graphs $f\taking G\to G'$, there an induced function $\Path(f)\taking\Path(G)\to\Path(G')$. 
%\sexc Is it the case that for every $n\in\NN$, the function $\Path(f)$ carries $\Path^{(n)}(G)$ to $\Path^{(n)}(G')$, or can path lengths change in this process?
%\next Suppose that $f_0$ and $f_1$ are injective (meaning no two distinct vertices in $G$ are sent to the same vertex (respectively for arrows) under $f$). Does this imply that $\Path(f)$ is also injective (meaning no two distinct paths are sent to the same path under $f$)?
%\next Suppose that $f_0$ and $f_1$ are surjective (meaning every vertex in $G'$ and every arrow in $G'$ is in the image of $f$). Does this imply that $\Path(f)$ is also surjective? Hint: at least one of the answers to these three questions is ``no".
%\endsexc
グラフの射$f\taking G\to G'$が与えられたとき, そこから誘導される函数$\Path(f)\taking\Path(G)\to\Path(G')$が存在する. 
\sexc 全ての$n\in\NN$に対して, $\Path(f)$が$\Path^{(n)}(G)$を$\Path^{(n)}(G')$へ移すというのは事実だろうか? あるいはこの過程で経路の長さは変わりうるだろうか?
\next $f_0$と$f_1$を単射である(すなわち$G$のどの相異なる二つの頂点も$f$によって同じ頂点に送られない(矢に対しても同様))と仮定する. このことは$\Path(f)$もまた単射である(すなわちどの相異なる二つの経路も$f$によって同じ経路に送られない)ことを含意するだろうか?
\next $f_0$と$f_1$を全射である(すなわち$G'$の全ての頂点と$G'$の全ての矢が$f$の像に含まれている)と仮定する. このことは$\Path(f)$もまた全射であることを含意するだろうか? ヒント: これらの三つの問題のうち, 少なくとも一つは答えが``no''である.
\endsexc
\end{exercise}

\begin{exercise}\label{exc:single condition for graph hom}
%Given a graph $(V,A,src,tgt)$, let $i\taking A\to V\times V$ be function guaranteed by the universal property for products, as applied to $src,tgt\taking A\to V$. One might hope to summarize Condition (\ref{dia:graph hom}) for graph homomorphisms by the commutativity of the single square 
%\begin{align}\label{dia:equiv graph hom}
%\xymatrix{A\ar[r]^{f_1}\ar[d]_{i}&A'\ar[d]^{i'}\\V\times V\ar[r]_{f_0\times f_0}&V'\times V'.}
%\end{align}
%Is the commutativity of the diagram in (\ref{dia:equiv graph hom}) indeed equivalent to the commutativity of the diagrams in (\ref{dia:graph hom})?
グラフ$(V,A,\src,\tgt)$が与えられたとき, $i\taking A\to V\times V$を積の普遍的性質を$\src,\tgt\taking A\to V$に適用することにより存在が保証されているところの函数とする. グラフ準同型に対するCondition (\ref{dia:graph hom})を単一の四角形
\begin{align}\label{dia:equiv graph hom}
\xymatrix{A\ar[r]^{f_1}\ar[d]_{i}&A'\ar[d]^{i'}\\V\times V\ar[r]_{f_0\times f_0}&V'\times V'.}
\end{align}
の可換性によってまとめたいと思うかもしれない. (\ref{dia:equiv graph hom})の図式における可換性は(\ref{dia:graph hom})の図式における可換性と実際に等価だろうか?
\end{exercise}

%% Subsubsection %%

%\subsubsection{Binary relations and graphs}
\subsubsection{二項関係とグラフ}

\begin{definition}\label{def:binary relation}\index{relation!binary}

%Let $X$ be a set. A {\em binary relation on $X$} is a subset $R\ss X\times X$. 
$X$を集合とする. \emph{$X$上の二項関係(binary relation on $X$)}とは部分集合$R\ss X\times X$である.

\end{definition}

%If $X=\NN$ is the set of integers, then the usual $\leq$ defines a relation on $X$: given $(m,n)\in\NN\times\NN$, we put $(m,n)\in R$ iff $m\leq n$. As a table it might be written as to the left
$X=\NN$が整数の集合であるならば, 通常の$\leq$は$X$上の関係を定義している. すなわち$(m,n)\in\NN\times\NN$が与えられたとき, $m\leq n$かつその時に限り$(m,n)\in R$とする. 表としては, 左のように書ける.
\begin{align}\label{dia:3 relations}
\begin{tabular}{|p{.7cm}|p{.7cm}|}
\bhline
\multicolumn{2}{|c|}{$m\leq n$}\\\bhline
m&n\\\bbhline
0&0\\\hline
0&1\\\hline
1&1\\\hline
0&2\\\hline
1&2\\\hline
2&2\\\hline
0&3\\\bhline
$\vdots$&$\vdots$\\\hline
\end{tabular}
\hspace{1in}
\begin{tabular}{|p{.7cm}|p{.7cm}|}
\bhline
\multicolumn{2}{|c|}{$n=5m$}\\\bhline
m&n\\\bbhline
0&0\\\hline
1&5\\\hline
2&10\\\hline
3&15\\\hline
4&20\\\hline
5&25\\\hline
6&30\\\bhline
$\vdots$&$\vdots$\\\hline
\end{tabular}
\hspace{1in}
\begin{tabular}{|p{.7cm}|p{.7cm}|}
\bhline
\multicolumn{2}{|c|}{$|n-m|\leq 1$}\\\bhline
m&n\\\bbhline
0&0\\\hline
0&1\\\hline
1&0\\\hline
1&1\\\hline
1&2\\\hline
2&1\\\hline
2&2\\\hline
$\vdots$&$\vdots$\\\hline
\end{tabular}
\end{align}
%The middle table is the relation $\{(m,n)\in\NN\times\NN\|n=5m\}\ss\NN\times\NN$ and the right-hand table is the relation $\{(m,n)\in\NN\times\NN\||n-m|\leq 1\}\ss\NN\times\NN$. 
真ん中の表は関係$\{(m,n)\in\NN\times\NN\|n=5m\}\ss\NN\times\NN$であり, 右側の表は関係$\{(m,n)\in\NN\times\NN\||n-m|\leq 1\}\ss\NN\times\NN$である.

\begin{exercise}
%A relation on $\RR$ is a subset of $\RR\times\RR$, and one can indicate such a subset of the plane by shading. Choose an error bound $\epsilon>0$ and draw the relation one might refer to as ``$\epsilon$-approximation". To say it another way, draw the relation ``$x$ is within $\epsilon$ of $y$".
$\RR$上の関係は$\RR\times\RR$の部分集合である. 平面上のこのよう部分集合は影を付けて指し示すことができる. 誤差の上限$\epsilon>0$を設定し, ``$\epsilon$-近似''として参照できるところの関係を描け. 別の方向から言うならば, ``$x$ が$y$の$\epsilon$内にいる''という関係を描け.
\end{exercise}

%\begin{exercise}[Binary relations to graphs]\label{exc:rel to graph}\index{relation!graph of}
\begin{exercise}[二項関係からグラフへ]\label{exc:rel to graph}\index{relation!graph of}~

%\sexc If $R\ss S\times S$ is a binary relation, find a natural way to make a graph out of it, having vertices $S$. 
%\next What is the set $A$ of arrows? 
%\next What are the source and target functions $src,tgt\taking A\to S$?
%\next Take the left-hand table in (\ref{dia:3 relations}) and consider its first $7$ rows (i.e. forget the $\vdots$). Draw the corresponding graph (do you see a tetrahedron?). 
%\next Do the same for the right-hand table.
%\endsexc
\sexc $R\ss S\times S$が二項関係であるとしたとき, そこから頂点$S$を持つグラフを作り出す自然な方法を見出せ.
\next 矢の集合$A$はなんだろうか? 
\next 始点および終点函数$\src,\tgt\taking A\to S$はなんだろうか?
\next \eqref{dia:3 relations}の左側の表に注目し, その最初の7行を考える(i.e. $\vdots$部分を忘れさる). 対応するグラフを描け(君は三角錐を見たことがあるか?). 
\next 右側の表で同じことをせよ.
\endsexc
\end{exercise}

%\begin{exercise}[Graphs to binary relations]\label{ex:graph to rel}~
\begin{exercise}[グラフから二項関係へ]\label{ex:graph to rel}~
%\sexc If $(V,A,src,tgt)$ is a graph, find a natural way to make a binary relation $R\ss V\times V$ out of it. 
%\next Take the left-hand graph $G$ from (\ref{dia:graph hom example}) and write out the corresponding binary relation in table form.
%\endsexc
\sexc $(V,A,\src,\tgt)$をグラフとしたとき, そこから二項関係$R\ss V\times V$を作る自然な方法を見出せ.  
\next \eqref{dia:graph hom example}の左側のグラフに注目し, 対応する二項関係を表の形で書き出せ.
\endsexc
\end{exercise}

%\begin{exercise}[Going around the loops]
\begin{exercise}[Going around the loops]~
%\sexc Given a binary relation $R\ss S\times S$, you know from Exercise \ref{exc:rel to graph} how to construct a graph out of it, and from Exercise \ref{ex:graph to rel} how to make a new binary relation out of that. How does the resulting relation compare with the original?
%\next Given a graph $(V,A,src,tgt)$, you know from Exercise \ref{ex:graph to rel} how to make a new binary relation out of it, and from Exercise \ref{exc:rel to graph} how to construct a new graph out of that. How does the resulting graph compare with the original? 
%\endsexc
\sexc 二項関係$R\ss S\times S$が与えられたとき, Exercise \ref{exc:rel to graph}によってそこからどのようにグラフを構成すればよいかが分かる. また Exercise \ref{ex:graph to rel}によってそこからどのようにして新しい二項関係を作り出せばよいかが分かる. 結果の二項関係を元のそれと比較するとどうなるだろうか?
\next グラフ$(V,A,\src,\tgt)$が与えられたとき, Exercise \ref{ex:graph to rel}によってそこからどのように二項関係を作ればよいかが分かる. またExercise \ref{exc:rel to graph}によってそこからどのようにして新しいグラフを構成すればよいかが分かる. 結果の新しいグラフを元のそれと比較するとどうなるだろうか?
\endsexc
\end{exercise}


%%%%%% Section %%%%%%

%\section{Orders}\label{sec:orders}
\section{順序}\label{sec:orders}

%People usually think of certain sets as though they just {\em are} ordered, e.g. that an order is ordained by God. For example the natural numbers just {\em are} ordered. The letters in the alphabet just {\em are} ordered. But in fact we put orders on sets, and some are simply more commonly used in culture. One could order the letters in the alphabet by frequency of use and $e$ would come before $a$. Given different purposes, we can put different orders on the same set. For example in Exercise \ref{exc:divides as po} we will give a different ordering on the natural numbers that is useful in elementary number theory.

普段から, ある種の集合はあたかもそれには単に順序がある, e.g. その順序は神が定めた, というように考えられている. 例えば, 自然数は単に順序がある. ラテン文字は単に順序がある. しかし実際には, 我々は集合に順序を与えることができ, それらの一部は文化の中でもより広く簡便に用いられている. ラテン文字を使用頻度で順序付けすることもできるし, その場合$e$は$a$の前に来る. 異なった目的があるとき, 我々は同じ集合に異なった順序を与えることができる. 例えばExercise \ref{exc:divides as po}では我々は自然数に, 初等整数論で便利な通常とは異なる順序を与える.

%In science, we might order the set of materials in two different ways. In the first, we consider material $A$ to be ``before" material $B$ if $A$ is an ingredient or part of $B$, so water would be before concrete. But we could also order materials based on how electrically conductive they are, whereby concrete would be before water. This section is about different kinds of orders.

例えば, 科学では我々は物質の集合を二つの異なった方法で順序付けることができる. 一つ目の方法では, 物質$A$が物質$B$の構成物か一部分であるときに$A$を$B$の``前''とみなす. よって水はコンクリートの前になるであろう. しかし我々は物質の順序をその電気伝導率に基かせることもできる. それに従えばコンクリートは水の前になる. この章は様々な種類の順序についての章である.

%%%% Subsection %%%%

%\subsection{Definitions of preorder, partial order, linear order}
\subsection{前順序, 半順序, 線形順序の定義}

\begin{definition}\label{def:orders}\index{order}

%Let $S$ be a set and $R\ss S\times S$ a binary relation on $S$; if $(s,s')\in R$ we will write $s\leq s'$. Then we say that $R$ is a {\em preorder}\index{order!preorder} if, for all $s,s',s''\in S$ we have
%\begin{description}
%\item[Reflexivity:] $s\leq s$, and
%\item[Transitivity:] if $s\leq s'$ and $s'\leq s''$, then $s\leq s''$.
%\end{description}
%We say that $R$ is a {\em partial order}\index{order!partial order} if it is a preorder and, in addition, for all $s,s'\in S$ we have
%\begin{description}
%\item[Antisymmetry:] If $s\leq s'$ and $s'\leq s$, then $s=s'$.
%\end{description}
%We say that $R$ is a {\em linear order}\index{order!linear order} if it is a partial order and, in addition, for all $s,s'\in S$ we have
%\begin{description}
%\item[Comparability:] Either $s\leq s'$ or $s'\leq s$.
%\end{description}
%We denote such a preorder (or partial order or linear order) by $(S,\leq)$.

$S$を集合とし$R\ss S\times S$を$S$上の二項関係とする. $(s,s')\in R$であるとき$(s,s')\in R$と書くことにしよう. このとき全ての$s,s',s''\in S$に対し以下がみたされるならば$R$は\emph{前順序(preorder)}\index{order!preorder}と呼ばれる\footnote{訳注: 音読みすると全順序と区別ができないため、しばしばプレ順序とも呼ばれる.}.
\begin{description}
\item[反射性(Reflexivity)] $s\leq s$,
\item[推移性(Transitivity)] if $s\leq s'$かつ$s'\leq s''$ならば$s\leq s''$.
\end{description}
前順序かつ全ての$s,s'\in S$に対して以下がみたされるとき, $R$は\emph{半順序(partial order)}\index{order!partial order}と呼ばれる.
\begin{description}
\item[反対称性(Antisymmetry):] $s\leq s'$かつ$s'\leq s$ならば$s=s'$.
\end{description}
半順序かつ全ての$s,s'\in S$に対して以下がみたされるとき, $R$は\emph{線形順序(linear order)}\index{order!linear order}と呼ばれる\footnote{訳注: 全順序(total order)とも呼ばれる.}.
\begin{description}
\item[比較可能性(Comparability):] $s\leq s'$あるいは$s'\leq s$のどちらかである\footnote{全順序性(Totality)とも呼ばれる.}.
\end{description}
我々はこのような前順序(あるいは半順序, 線形順序)を$(S,\leq)$によって示す.

\end{definition}

\begin{exercise}~
%\sexc Decide whether the table to the left in Display (\ref{dia:3 relations}) constitutes a linear order. 
%\next Show that neither of the other tables are even preorders.
%\endsexc
\sexc Display (\ref{dia:3 relations})の左側の表が線形順序を構成しているかどうかを決定せよ. 
\next 他の二つの表が前順序ですらないことを示せ.
\endsexc
\end{exercise}

%\begin{example}[Partial order not linear order]\label{ex:pre not par}
\begin{example}[半順序だが線形順序ではない例]\label{ex:pre not par}

%We will draw an olog for playing cards. 
トランプカードについてのologを描こう.
\begin{align}\label{dia:card olog}
\footnotesize
\xymatrixnocompile@=15pt{
\obox{}{.3in}{a diamond}\ar[dr]^{\tn{is}}&&\obox{}{.4in}{a heart}\ar[dl]_{\tn{is}}&&\obox{}{.35in}{a club}\ar[dr]^{\tn{is}}&&\obox{}{.4in}{a spade}\ar[dl]_{\tn{is}}\\
&\obox{}{.25in}{a red card}\ar[drr]^{\tn{is}}&&&&\obox{}{.4in}{a black card}\ar[dll]_{\tn{is}}\\
\obox{}{.45in}{a 4 of diamonds}\ar[d]^{\tn{is}}\ar[uu]_{\tn{is}}&&&\obox{}{.35in}{a card}&&&\obox{}{.4in}{a black queen}\ar[d]^{\tn{is}}\ar[ul]_{\tn{is}}\\
\obox{}{.2in}{a 4}\ar[rr]^{\tn{is}}&&\obox{}{.4in}{a numbered card}\ar[ur]^{\tn{is}}&&\obox{}{.3in}{a face card}\ar[ul]_{\tn{is}}&&\obox{}{.4in}{a queen}\ar[ll]_{\tn{is}}
}
\end{align}
%We can put a binary relation on the set of boxes here by saying $A\leq B$ if there is a path $A\to B$. One can see immediately that this is a preorder because length=0 paths give reflexivity and concatenation of paths gives transitivity. To see that it is a partial order we only note that there are no loops. But this partial order is not a linear order because there is no path (in either direction) between, e.g., \fakebox{a 4 of diamonds} and \fakebox{a black queen}, so it violates the comparability condition.
我々はここにある箱の集合に対しての二項関係を, 経路$A\to B$が存在するならば$A\leq B$である, として与えることができる. これは適切であることがただちに分かる. なぜならば長さ=0の経路は反射性を与え, 経路の連結は推移性を与える. これが半順序であることを見るためには, ループがないことに注意すればよい. しかしこの半順序は線形順序ではない. なぜなら, 例えば\fakebox{a 4 of diamonds}と\fakebox{a black queen}の間には, (どちらの方向に対しても)経路が存在せず, よって比較可能性を破っているからだ.

\end{example}

\begin{remark}

%Note that olog (\ref{dia:card olog}) in Example \ref{ex:pre not par} is a good olog in the sense that given any collection of cards (e.g. choose 45 cards at random from each of 7 decks and throw them in a pile), they can be classified according to the boxes of (\ref{dia:card olog}) such that every arrow indeed constitutes a function (which happens to be injective). For example the arrow $\fakebox{a heart}\Too{\tn{is}}\fakebox{a red card}$ is a function from the set of chosen hearts to the set of chosen red cards.

Example \ref{ex:pre not par}のolog \eqref{dia:card olog}は, 与えられた任意のカードの集まり(e.g. 7デッキからそれぞれ45枚を無作為に選び山に加える)を, (\ref{dia:card olog})の箱に従って分類することができ, それによって全ての矢が実際に函数(それはたまたま単射になっている)を構成している, という意味でよいologである. 例えば矢$\fakebox{a heart}\Too{\tn{is}}\fakebox{a red card}$は選ばれたハートのカードの集合から選ばれた赤いカードの集合への函数である.

\end{remark}

%\begin{example}[Preorder not partial order]
\begin{example}[前順序だが半順序ではない例]

%Every equivalence relation is a preorder but rarely are they partial orders. For example if $S=\{1,2\}$ and we put $R=S\times S$, then this is an equivalence relation. It is a preorder but not a partial order (because $1\leq 2$ and $2\leq 1$, but $1\neq 2$, so antisymmetry fails).

全ての同値関係は前順序だが, それらが半順序であることは稀である. 例えば, もし$S=\{1,2\}$で$R=S\times S$と置いたならば, これは同値関係である. これは前順序であるが半順序ではない(なぜなら$1\leq 2$かつ$2\leq 1$だがしかし$1\neq 2$である. よって反対称性が欠けている). 

\end{example}

\begin{application}

%Classically, we think of time as linearly ordered. A nice model is $(\RR,\leq)$, the usual linear order on the set of real numbers. But according to the \href{http://en.wikipedia.org/wiki/Relativity_of_simultaneity}{\text theory of relativity}, there is not actually a single order to the events in the universe. Different observers correctly observe different orders on the set of events, and so in some sense on time itself. 

古典的には, 我々は時間を線形に順序付けられていると考えている. 一つのよい模型は$(\RR,\leq)$, すなわち実数の集合上の通常の線形順序である. しかし\href{http://en.wikipedia.org/wiki/Relativity_of_simultaneity}{相対性理論(theory of relativity)}によると, 実際にはこの宇宙内の事象に対する単一の順序は存在しない. 異なった観測者は事象の集合上の正しく異なった順序を観測し, そしてある意味で時間それ自身の集合上の異なった順序を観測する.

\end{application}

%\begin{example}[Finite linear orders]\label{ex:finite lo}\index{linear order!finite}
\begin{example}[有限線形順序]\label{ex:finite lo}\index{linear order!finite}

%Let $n\in\NN$ be a natural number. Define a linear order on the set $\{0,1,2,\ldots,n\}$ in the standard way. Pictorially, 
%$$
%[n]:=\xymatrix{\LMO{0}\ar[r]&\LMO{1}\ar[r]&\LMO{2}\ar[r]&\cdots\ar[r]&\LMO{n}}
%$$\index{a symbol!$[n]$}

$n\in\NN$を自然数とする. 集合$\{0,1,2,\ldots,n\}$上の線形順序を標準的な方法で定義する. 図にすると
$$
[n]:=\xymatrix{\LMO{0}\ar[r]&\LMO{1}\ar[r]&\LMO{2}\ar[r]&\cdots\ar[r]&\LMO{n}}.
$$\index{a symbol!$[n]$}

%Every finite linear order, i.e. linear order on a finite set, is of the above form. That is, though the labels might change, the picture would be the same. We can make this precise when we have a notion of morphism of orders (see Definition \ref{def:morphism of orders})

全ての有限線形順序, i.e. 有限集合上の線形順序は, 上の形をとる. これはすなわち, 見出しは変わるかもしれないが, 絵は同じものになるであろうということである. 順序の射の概念(Definition \ref{def:morphism of orders}を見よ)によってこのアイデアを正確にすることができる.

\end{example}

\begin{exercise}
%Let $S=\{1,2,3,4\}$. 
%\sexc Find a preorder $R\ss S\times S$ such that the set $R$ is as small as possible. Is it a partial order? Is it a linear order?
%\next Find a preorder $R'\ss S\times S$ such that the set $R'$ is as large as possible. Is it a partial order? Is it a linear order?
%\endsexc
$S=\{1,2,3,4\}$とする.
\sexc 集合$R$をできるだけ小さくするところの前順序$R\ss S\times S$を見出せ. これは半順序だろうか? 線形順序だろうか?
\next $R'$をできるだけ多きくするところの前順序$R'\ss S\times S$を見出せ. これは半順序だろうか? 線形順序だろうか?
\endsexc
\end{exercise}

\begin{exercise}~
%\sexc List all the preorder relations possible on the set $\{1,2\}$.
%\next For any $n\in\NN$, how many linear orders exist on the set $\{1,2,3,\ldots,n\}$. 
%\next Does your formula work when $n=0$?
%\endsexc
\sexc 集合$\{1,2\}$上の可能な全ての前順序関係を列挙せよ.
\next 任意の$\{1,2\}$に対して, 集合$\{1,2,3,\ldots,n\}$上の線形順序はどれだけの数あるだろうか?
\next その式は$n=0$の場合にもうまくいくだろうか?
\endsexc
\end{exercise}

\begin{remark}\label{rem:preorder to graph}\index{preorder!converting to graph}

%We can draw any preorder $(S,\leq)$ as a graph with vertices $S$ and with an arrow $a\to b$ if $a\leq b$. These are precisely the graphs with the following two properties for any vertices $a,b\in S$:
%\begin{enumerate}[\hsp 1.]
%\item there is at most one arrow $a\to b$, and
%\item if there is a path from $a$ to $b$ then there is an arrow $a\to b$.
%\end{enumerate}
%If $(S,\leq)$ is a partial order then the associated graph has an additional ``no loops" property,
%\begin{enumerate}[\hsp 3.]
%\item if $n\in\NN$ is an integer with $n\geq 2$ then there are no paths of length $n$ that start at $a$ and end at $a$.
%\end{enumerate}
%If $(S,\leq)$ is a linear order then there is an additional ``comparability" property,
%\begin{enumerate}[\hsp 4.]
%\item for any two vertices $a,b$ there is an arrow $a\to b$ or an arrow $b\to a$.
%\end{enumerate}

我々は任意の前順序$(S,\leq)$を頂点$S$および$a\leq b$のときに矢$a\to b$を持つグラフとして描くことができる. これらは正確には任意の頂点$a,b\in S$に対して以下の二つの性質を持つグラフである.
\begin{enumerate}[\hsp 1.]
\item 高々一本の矢$a\to b$が存在する.
\item $a$から$b$への経路が存在するならば矢$a\to b$が存在する.
\end{enumerate}
もし$(S,\leq)$が半順序ならば, 関連するグラフはこれに追加して``ループを持たない''という性質を持つ.
\begin{enumerate}[\hsp 3.]
\item もし$n\in\NN$が$n\geq 2$なる整数ならば$a$を始点に持ち$a$を終点に持つ長さ$n$の経路は存在しない.
\end{enumerate}
もし$(S,\leq)$が線形順序ならば, これに追加して``比較可能性''という性質がある.
\begin{enumerate}[\hsp 4.]
\item 任意の二つの頂点$a$, $b$に対して矢$a\to b$あるいは矢$b\to a$のどちらかが存在する.
\end{enumerate}

%Given a graph $G$, we can create a binary relation $\leq$ on its set $S$ of vertices as follows. Say $a\leq b$ if there is a path in $G$ from $a$ to $b$. This relation will be reflexive and transitive, so it is a preorder. If the graph satisfies Property 3 then the preorder will be a partial order, and if the graph also satisfies Property 4 then the partial order will be a linear order. Thus graphs give us a nice way to visualize orders.\index{graph!converting to a preorder}

グラフ$G$が与えられたとき, 我々は頂点の集合$S$上の二項関係$\leq$を以下のようにして作ることができる. すなわち$a$から$b$への$G$上の経路が存在するならば$a\leq b$とする. この関係はこの関係は反射的であり推移的である. よってこれは前順序である. もしグラフが性質3を満たせば前順序は半順序になり, もしグラフが性質4も満たせば半順序は線形順序になる. よってグラフは順序を可視化するのによい方法である.\index{graph!converting to a preorder}

\end{remark}

\begin{slogan}
%A graph generates a preorder: $v\leq w$ if there is a path $v\to w$. This is a great way to picture a preorder. 
グラフは前順序を生成する. すなわち経路$v\to w$が存在すれば$v\leq w$とすればよい. これは前順序を図示する冴えたやり方である.
\end{slogan}


\begin{exercise}
%Let $G=(V,A,src,tgt)$ be the graph below. 
$G=(V,A,\src,\tgt)$を以下のグラフとする.
$$\fbox{\xymatrix{
\LMO{a}\ar[r]&\LMO{b}\ar@/^1pc/[r]&\LMO{c}\ar@/^1pc/[l]\ar[r]&\LMO{d}\\
\LMO{e}&\LMO{f}\ar[l]\ar[r]&\LMO{g}\ar[ur]}}
$$
%In the corresponding pre-order which of the following are true: 
対応する前順序では, 以下のどれが真だろうか?
\sexc $a\leq b$?
\next $a\leq c$?
\next $c\leq b$?
\next $b=c$?
\next $e\leq f$?
\next $f\leq d$?
\endsexc
\end{exercise}

\begin{exercise}\label{exc:power poset}\index{power set!as poset}~
%\sexc Let $S=\{1,2\}$. The subsets of $S$ form a partial order; draw the associated graph. 
%\next Repeat this for $Q=\emptyset$, $R=\{1\}$, and $T=\{1,2,3\}$. 
%\next Do you see $n$-dimensional cubes?
%\endsexc
\sexc $S=\{1,2\}$とする. $S$の部分集合たちは(包含関係で)半順序をなす. 関連するグラフを書け.
\next $Q=\emptyset$, $R=\{1\}$, $T=\{1,2,3\}$に対してこれを繰り返せ.
\next $n$次元立方体が見えるだろうか?
\endsexc
\end{exercise}

\begin{definition}\label{def:clique}\index{preorder!clique in}

%Let $(S,\leq)$ be a preorder. A {\em clique} is a subset $S'\ss S$ such that for each $a,b\in S'$ one has $a\leq b$.

$(S,\leq)$を前順序とする. \emph{クリーク(clique)}とはそれぞれの$a,b\in S'$に対して$a\leq b$であるところの部分集合$S'\ss S$である.

\end{definition}

\begin{exercise}
%True or false: a partial order is a preorder that has no cliques. (If false, is there a ``nearby" true statement?)
以下は真か偽か. 半順序はクリークがない前順序である. (もし偽であるならば, ``近くに''真なる命題は存在するだろうか?)
\end{exercise}

\begin{example}\label{ex:preorder generated}\index{preorder!generated}

%Let $X$ be a set and $R\ss X\times X$ a relation. For elements $x,y\in X$ we will say there is an {\em $R$-path} from $x$ to $y$ if there exists a natural number $n\in\NN$ and elements $x_0,x_1,\ldots,x_n$ such that
%\begin{enumerate}
%\item $x_0=x$,
%\item $x_n=y$, and
%\item for all $i\in\NN$, if $0\leq i\leq n-1$ then $(x_i,x_{i+1})\in R$.
%\end{enumerate}
%Let $\ol{R}$ denote the relation where $(x,y)\in\ol{R}$ if there exists an $R$-path from $x$ to $y$. We call $\ol{R}$ the {\em preorder generated by $R$.} We note some facts about $\ol{R}$.
%\begin{description}
%\item[Containment.] If $(x,y)\in R$ then $(x,y)\in\ol{R}$. That is $R\ss\ol{R}$.
%\item[Reflexivity]. For all $x\in X$ we have $(x,x)\in\ol{R}$. 
%\item[Transitivity.] For all $x,y,z\in X$, if $(x,y)\in\ol{R}$ and $(y,z)\in\ol{R}$ then $(x,z)\in\ol{R}$.
%\end{description}
%To check the containment claim, just use $n=1$ so $x_0=x$ and $x_n=y$. To check the reflexivity claim, use $n=0$ so $x_0=x=y$ and condition 3 is vacuously satisfied. To check transitivitiy, suppose given $R$-paths $x=x_0,x_1,\ldots,x_n=y$ and $y=y_0,y_1,\ldots,y_p=z$; then $x=x_0,x_1,\ldots x_n,y_1,\ldots,y_p=z$ will be an $R$-path from $x$ to $z$.

$X$を集合とし$R\ss X\times X$を関係とする. 要素$x,y\in X$に対して, 自然数$n\in\NN$および以下を満たす要素$x_0,x_1,\ldots,x_n$があるとき, 我々は$x$から$y$への\emph{$R$-経路($R$-path)}があるという.
\begin{enumerate}
\item $x_0=x$,
\item $x_n=y$
\item 全ての$i\in\NN$に対して, $0\leq i\leq n-1$ならば$(x_i,x_{i+1})\in R$.
\end{enumerate}
$\ol{R}$は, $x$から$y$への$R$経路が存在するならば$(x,y)\in\ol{R}$であるところの関係を示しているとする. $\ol{R}$は\emph{$R$によって生成された前集合(preorder generated by $R$)}と呼ばれる. $\ol{R}$についてのいくつかの事実を記しておく. 
\begin{description}
\item[包含性(Containment).] もし$(x,y)\in R$ならば$(x,y)\in\ol{R}$. すなわち$R\ss\ol{R}$.
\item[反射性(Reflexivity).] 全ての$x\in X$に対して$(x,x)\in\ol{R}$. 
\item[推移性(Transitivity).] 全ての$x,y,z\in X$に対して, もし$(x,y)\in\ol{R}$かつ$(y,z)\in\ol{R}$ならば$(x,z)\in\ol{R}$.
\end{description}
包含性の主張を確認するためには, $n=1$を使えば$x_0=x$および$x_n=y$となる. 反射性の主張を確認するためには, $n=0$ を使えば$x_0=x=y$となって条件3がなにもせず満たされている. 推移性を確認するために$R$-経路$x=x_0,x_1,\ldots,x_n=y$および$y=y_0,y_1,\ldots,y_p=z$が与えられたと仮定する. このとき$x=x_0,x_1,\ldots x_n,y_1,\ldots,y_p=z$は$x$から$z$への$R$-経路である.

%The point is that we can turn any relation into a preorder in a canonical way. Here is a concrete case of the above idea.

重要な点は, 任意の関係は標準的な方法によって前順序に変換できるということである. 以下は上記のアイデアの具体的な例である.

%Let $X=\{a,b,c,d\}$ and suppose given the relation $\{(a,b),(b,c),(b,d),(d,c),(c,c)\}$. This is neither reflexive nor transitive, so it's not a preorder. To make it a preorder we follow the above prescription. Starting with $R$-paths of length $n=0$ we put  $\{(a,a), (b,b), (c,c), (d,d)\}$ into $\ol{R}$. The $R$-paths of length 1 add our original elements, $\{(a,b),(b,c),(b,d),(d,c),(c,c)\}$. We don't mind redundancy (e.g. $(c,c)$), but from now on in this example we will only write down the new elements. The $R$-paths of length 2 add $\{(a,c),(a,d)\}$ to $\ol{R}$. One can check that $R$-paths of length 3 and above do not add anything new to $\ol{R}$, so we are done. The relation $$\ol{R}=\{(a,a), (b,b), (c,c), (d,d), (a,b), (b,c), (b,d), (d,c), (a,c), (a,d)\}$$ is reflexive and transitive, hence a preorder.

$X=\{a,b,c,d\}$とし, 関係$\{(a,b),(b,c),(b,d),(d,c),(c,c)\}$が与えられたとする. この関係は反射的でなければ推移的でもなく, よって前集合ではない. これを前順序にするために, 上記の処方箋をたどっていこう. $n=0$の$R$-経路から開始するし, $\ol{R}$に$\{(a,a), (b,b), (c,c), (d,d)\}$を追加する. 長さ1の$R$-経路では元々のき要素$\{(a,b),(b,c),(b,d),(d,c),(c,c)\}$が追加される. 我々は重複(e.g. $(c,c)$)は気にしないが, この例ではここから先は新しい要素だけを書き下すことにする. 長さ2の$R$-経路によって$\ol{R}$に$\{(a,c),(a,d)\}$が追加される. 長さ3以上の$R$-経路は$\ol{R}$に新しい要素を何も追加しないことを確認することができ, よってこれで手続きは完了である. 関係$$\ol{R}=\{(a,a), (b,b), (c,c), (d,d), (a,b), (b,c), (b,d), (d,c), (a,c), (a,d)\}$$は反射的かつ推移的であり, すなわち前順序である.

\end{example}

\begin{exercise}

%Let $X=\{a,b,c,d,e,f\}$ and let $R=\{(a,b),(b,c),(b,d),(d,e),(f,a)\}$. 
%\sexc What is the preorder $\ol{R}$ generated by $R$?
%\next Is it a partial order?
%\endsexc
$X=\{a,b,c,d,e,f\}$および$R=\{(a,b),(b,c),(b,d),(d,e),(f,a)\}$とする.
\sexc $R$によって生成される前順序$\ol{R}$は何か?
\next これは半順序か?
\endsexc
\end{exercise}

\begin{exercise}
%Let $X$ be the set of people and let $R\ss X\times X$ be the relation with $(x,y)\in R$ if $x$ is the child of $y$. Describe the preorder generated by $R$.
$X$を人間の集合とし$R\ss X\times X$を$x$が$y$の子であるときに$(x,y)\in R$であるところの関係とする. $R$によって生成される前順序を記述せよ.
\end{exercise}

%%%% Subsection %%%%

%\subsection{Meets and joins}\label{sec:meets and joins}
\subsection{交わりと結び}\label{sec:meets and joins}

%Let $X$ be any set. Recall from Definition \ref{def:subobject classifier} that the powerset of $X$, denoted $\PP(X)$ is the set of subsets of $X$. There is a natural order on $\PP(X)$ given by the subset relationship, as exemplified in Exercise \ref{exc:power poset}. Given two elements $a,b\in\PP(X)$ we can consider them as subsets of $X$ and take their intersection as an element of $\PP(X)$ which we denote $a\wedge b$. We can also consider them as subsets of $X$ and take their union as an element of $\PP(X)$ which we denote $a\vee b$. The intersection and union operations are generalized in the following definition.

$X$を集合とする. Definition \ref{def:subobject classifier}より, $\PP(X)$で示される$X$のべき集合は$X$の部分集合の集合であることを思い出そう. Exercise \ref{exc:power poset}で例示されたように, 部分集合関係によって与えられる$\PP(X)$上の自然な順序が存在している. 二つの要素$a,b\in\PP(X)$が与えれたとき, 我々はこれらを$X$の部分集合とみなすことができ, そしてその共通部分を$a\wedge b$で示されるところの$\PP(X)$の要素としてとることができる. 我々はまたこれらを$X$の部分集合とみなすことができ, そしてそれらの合併を$a\vee b$で現わされるところの$\PP(X)$の要素としてとることができる. 共通部分と合併の操作は以下の定義によって一般化される.

\begin{definition}\label{def:meets and joins}\index{preorder!meet}\index{preorder!join}\index{meet}\index{join}

%Let $(S,\leq)$ be a preorder and let $s,t\in S$ be elements. A {\em meet of $s$ and $t$} is an element $w\in S$ satisfying the following universal property: 
%\begin{itemize}
%\item $w\leq s$ and $w\leq t$ and, 
%\item for any $x\in S$, if $x\leq s$ and $x\leq t$ then $x\leq w$.
%\end{itemize}
%If $w$ is a meet of $s$ and $t$, we write $w\iso s\wedge t$.

$(S,\leq)$を前順序とし, $s,t\in S$を要素とする. \emph{$s$と$t$の交わり(meet of $s$ and $t$)}とは以下の普遍的性質を満たす要素$w\in S$である.
\begin{itemize}
\item $w\leq s$かつ$w\leq t$,
\item 任意の$x\in S$に対して, $x\leq s$および$x\leq t$ならば$x\leq w$.
\end{itemize}
$w$が$s$と$t$の交わりのとき, 我々は$w\iso s\wedge t$と書く.

%A {\em join of $s$ and $t$} is an element $w\in S$ satisfying the following universal property: 
%\begin{itemize}
%\item $s\leq w$ and $t\leq w$ and, 
%\item for any $x\in S$, if $s\leq x$ and $t\leq x$ then $w\leq x$.
%\end{itemize}
%If $w$ is a join of $s$ and $t$, we write $w\iso s\vee t$.

\emph{$s$と$t$の結び(join of $s$ and $t$)}とは以下の普遍的性質を満たす要素$w\in S$である.
\begin{itemize}
\item $s\leq w$かつ$t\leq w$, 
\item 任意の$x\in S$に対して, $s\leq x$および$t\leq x$ならば$w\leq x$.
\end{itemize}
$w$が$s$と$t$の結びのとき, 我々は$w\iso s\vee t$と書く.

\end{definition}

%That is, the meet of $s$ and $t$ is the biggest thing smaller than both, i.e. a {\em greatest lower bound}, and the join of $s$ and $t$ is the smallest thing bigger than both, i.e. a {\em least upper bound}. Note that the meet of $s$ and $t$ might be $s$ or $t$ itself.  Note that $s$ and $t$ may have more than one meet (or more than one join). However, any two meets of $s$ and $t$ must be in the same clique, by the universal property (and the same for joins).

これはすなわち, $s$と$t$の交わりは両者より小さいものの中での最大, i.e. \emph{最大下界(greatest lower bound)}であり, $s$と$t$の結びは両者より大きいものの中での最小, i.e. \emph{最小上界(least upper bound)}である. $s$と$t$の交わりは$s$あるいは$t$自身であるかもしれないことに注意せよ. また$s$と$t$は複数の交わり(あるいは複数の結び)を持つかもしれないことに注意せよ. しかし, 任意の二つの$s$と$t$の交わりは, その普遍的性質によって同じクリークにいなければならない(同じことは結びにも言える).

\begin{exercise}
%Consider the partial order from Example \ref{ex:pre not par}. 
%\sexc What is the join of \fakebox{a diamond} and \fakebox{a heart}? 
%\next What is the meet of \fakebox{a black card} and \fakebox{a queen}? 
%\next What is the meet of \fakebox{a diamond} and \fakebox{a card}?
%\endsexc
Example \ref{ex:pre not par}での半順序を考える.
\sexc \fakebox{a diamond}と\fakebox{a heart}の結びはなにか?
\next \fakebox{a black card}と\fakebox{a queen}の交わりはなにか?
\next \fakebox{a diamond}と\fakebox{a card}の交わりはなにか?
\endsexc
\end{exercise}

%Not every two elements in a preorder need have a meet, nor need they have a join. 
前順序の全ての二要素が交わりを持つ必要はないし, 結びを持つ必要もない.

\begin{exercise}\label{exc:not all meets and joins}~
%\sexc If possible, find two elements in the partial order from Example \ref{ex:pre not par} that do not have a meet.
%\footnote{Use the displayed preorder, not any kind of ``completion of what's there".} 
%\next If possible, find two elements that do not have a join (in that preorder).
%\endsexc
\sexc もし可能であるならば, Example \ref{ex:pre not par}での半順序から交わりを持たない二つの要素を見出せ.
\footnote{表示されている前順序を用い, ``そこにあるものを補完する''といった類のことを使わないように.} 
\next もし可能であるならば, (その前順序から)結びを持たない二つの要素を見出せ.
\endsexc
\end{exercise}

\begin{exercise}
%As mentioned in the introduction to this section, the power set $S:=\PP(X)$ of any set $X$ naturally has the structure of a partial order. Its elements $s\in S$ correspond to subsets $s\ss X$, and we put $s\leq t$ if and only if $s\ss t$ as subsets of $X$. The meet of two elements is their intersection as subsets of $X$, $s\wedge t= s\cap t$, and the join of two elements is their union as subsets of $X$, $s\vee t=s\cup t$.
導入の節で言及したように, 任意の集合$X$のべき集合$S:=\PP(X)$は自然に半順序の構造を持つ. その要素$s\in S$は部分集合$s\ss X$に対応し, $X$の部分集合として$s\ss t$かつそのときに限り$s\leq t$とする. 二つの要素の交わりは$X$の部分集合としてのその共通部分, $s\vee t=s\cup t$であり, 二つの要素の結びは$X$の要素としてのその合併, $s\vee t=s\cup t$である.
%\sexc Is it possible to put a monoid structure on the set $S$ in which the multiplication formula is given by meets? If so, what would the identity element be?
%\next Is it possible to put a monoid structure on the set $S$ in which the multiplication formula is given by joins? If so, what would the identity element be?
%\endsexc
\sexc $S$上に, 積の式が交わりによって与えられるモノイド構造を入れることは可能だろうか? もし可能ならば, 単位元はなにになるだろうか?
\next $S$上に, 積の式が結びによって与えられるモノイド構造を入れることは可能だろうか? もし可能ならば, 単位元はなにになるだろうか?
\endsexc
\end{exercise}

%\begin{example}[Trees]\label{ex:tree}
\begin{example}[木]\label{ex:tree}

%A {\em tree}\index{tree}\index{order!tree}, i.e. a system of nodes and branches, all of which emanate from a single node called the {\em root}\index{tree!root}, is a partial order, but generally not a linear order. A tree $(T,\leq)$ can either be oriented toward the root (so the root is the largest element) or away from the root (so the root is the smallest element); let's only consider the latter. 

\emph{木(tree)}\index{tree}\index{order!tree}, i.e. 節(node)と枝(brancch)からなり, それら全てが\emph{根(root)}\index{tree!root}と呼ばれる単一の節から発している系, は半順序であるが, しかし一般には線形順序ではない. 木$(T,\leq)$は根の方に配向できるし(根は最大要素である), また根の反対方向に配向することもできる(根は最小要素である). ここでは後者のみを考えることにしよう.

%Below is a tree, pictured as a graph. The root is labeled $e$.
下記は木であり, グラフとして描かれている. 根は$e$と名付けられている.
\begin{align}\label{dia:tree}
\xymatrix@=10pt{
&&&&&&\LMO{a}\\
&&\LMO{b}\ar[rr]&&\LMO{c}\ar[urr]\ar[rr]\ar[drr]&&\LMO{d}\\
\LMO{e}\ar[urr]\ar[drr]&&&&&&\LMO{f}\\
&&\LMO{g}\ar[rr]\ar[drr]&&\LMO{h}\\
&&&&\LMO{i}
}
\end{align}

%In a tree, every pair of elements $s, t\in T$ has a meet $s\wedge t$ (their closest mutual ancestor). On the other hand if $s$ and $t$ have a join $c=s\vee t$ then either $c=s$ or $c=t$. 
この木では, 全ての要素の対$s, t\in T$は交わり$s\wedge t$(直近の共通の先祖)を持つ. その一方で, もし$s$と$t$が結び$c=s\vee t$を持つならば$c=s$あるいは$c=t$のいずれかである.

\end{example}

\begin{exercise}
%Consider the tree drawn in (\ref{dia:tree}).
%\sexc What is the meet $i\wedge h$?
%\next What is the meet $h\wedge b$?
%\next What is the join $b\vee a$?
%\next What is the join $b\vee g$?
%\endsexc
\eqref{dia:tree}で描かれた木について考える.
\sexc 交わり$i\wedge h$は何か?
\next 交わり$h\wedge b$は何か?
\next 結び$b\vee a$は何か?
\next 結び$b\vee g$は何か?
\endsexc
\end{exercise}

%\subsection{Opposite order}
\subsection{逆順序}

\begin{definition}\label{def:opposite order}\index{order!opposite}

%Let $\mcS:=(S,\leq)$ be a preorder. The {\em opposite preorder}, denoted $\mcS\op$ is the preorder $(S,\leq\op)$ having the same set of elements but where $s\leq\op s'$ iff $s'\leq s$.
$\mcS:=(S,\leq)$を前順序とする. $\mcS\op$で示される\emph{逆前順序(opposite preorder)}は, 同じ要素の集合を持つが$s'\leq s$のときかつそのときに限り$s\leq\op s'$である前順序$(S,\leq\op)$である.

\end{definition}

\begin{example}

%Recall the preorder $\mcN:=(\NN,{\tt divides})$ from Exercise \ref{exc:divides as po}. Then $\mcN\op$ is the set of natural numbers but where $m\leq n$ iff $m$ is a multiple of $n$. So $6\leq 2$ and $6\leq 3$.

Exercise \ref{exc:divides as po}での前順序$\mcN:=(\NN,{\tt divides})$を思い出そう. このとき$\mcN\op$は自然数の集合で$m$が$n$の倍数のときかつそのときに限り$m\leq n$である. よって$6\leq 2$かつ$6\leq 3$である.

\end{example}

\begin{exercise}
%Suppose that $\mcS:=(S,\leq)$ is a preorder. 
%\sexc If $\mcS$ is a partial order, is $\mcS\op$ also a partial order? 
%\next If $\mcS$ is a linear order, is $\mcS\op$ a linear order?
%\endsexc
$\mcS:=(S,\leq)$を前順序と仮定する.
\sexc もし$\mcS$が半順序なら, $\mcS\op$は半順序だろうか?
\next もし$\mcS$が線形順序なら, $\mcS\op$は線形順序だろうか?
\endsexc
\end{exercise}

\begin{exercise}
%Suppose that $\mcS:=(S,\leq)$ is a preorder, and that $s_1,s_2\in S$ have join $t$ in $\mcS$. The preorder $\mcS\op$ has the same elements as $\mcS$. Is $t$ the join of $s_1$ and $s_2$ in $\mcS\op$, or is it their meet, or is it not necessarily their meet nor their join?
$\mcS:=(S,\leq)$を前順序と仮定し, $s_1,s_2\in S$が$\mcS$に結び$t$を持つとする. 逆前順序$\mcS\op$は$\mcS$と同じ要素を持つ. $\mcS\op$において$t$は$s_1$と$s_2$の結びだろうか? あるいは交わりだろうか? あるいは交わりか結びである必要はないのだろうか?
\end{exercise}

%%%% Subsection %%%%

%\subsection{Morphism of orders}
\subsection{順序間の射}

%An order $(S,\leq)$, be it a preorder, a partial order, or a linear order, involves a set and a binary relations. For two orders to be comparable, their sets and their relations should be appropriately comparable.\index{appropriate comparison}

順序$(S,\leq)$は, それば前順序であれ, 半順序であれ, 線形順序であれ, 集合と二項関係を要件とする. 二つの順序が比較可能であるためには, その集合とその関係が適切に比較できるべきである.\index{appropriate comparison}

\begin{definition}\label{def:morphism of orders}\index{order!morphism}

%Let $\mcS:=(S,\leq)$ and $\mcS':=(S',\leq')$ be preorders (respectively partial orders or linear orders). A {\em morphism of preorders} (resp. {\em of partial orders} or {\em of linear orders}) $f$ {\em from $\mcS$ to $\mcS'$}, denoted $f\taking\mcS\to\mcS'$, is a function $f\taking S\to S'$ such that, for every pair of elements $s_1,s_2\in S$, if $s_1\leq s_2$ then $f(s_1)\leq' f(s_2)$.

$\mcS:=(S,\leq)$と$\mcS':=(S',\leq')$を前順序(あるいは半順序または線形順序)とする. \emph{$\mcS$から$\mcS'$への(from $\mcS$ to $\mcS'$)}
\emph{前順序間の射(morphism of preorders)} (あるいは\emph{半順序間の射(morphism of partial orders)}または\emph{線形順序間の射(morphism of linear orders)}) $f$ は$f\taking\mcS\to\mcS'$で示され, 全ての要素の対$s_1,s_2\in S$に対して$s_1\leq s_2$ならば$f(s_1)\leq' f(s_2)$を満たすところの函数$f\taking S\to S'$である.
\end{definition}

\begin{example}

%Let $X$ and $Y$ be sets, let $f\taking X\to Y$ be a function. Then for every subset $X'\ss X$, its image $f(X')\ss Y$ is a subset (see Section \ref{sec:functions}). Thus we have a function $F\taking\PP(X)\to\PP(Y)$, given by taking images. This is a morphism of partial orders $(\PP(X),\ss)\to(\PP(Y),\ss)$. Indeed, if $a\ss b$ in $\PP(X)$ then $f(a)\ss f(b)$ in $\PP(Y)$.

$X$と$Y$を集合とし, $f\taking X\to Y$を函数とする. このとき全ての部分集合$X'\ss X$に対して, その像$f(X')\ss Y$は部分集合である(Section \ref{sec:functions}を見よ). よって函数$F\taking\PP(X)\to\PP(Y)$を, 像をとることによって与えることができる. これは半順序間の射$(\PP(X),\ss)\to(\PP(Y),\ss)$である. 実際, もし$\PP(X)$において$a\ss b$であるならば$\PP(Y)$において$f(a)\ss f(b)$である.

\end{example}

\begin{application}

%It's often said that ``a team is only as strong as its weakest member". Is this true for materials? The hypothesis that a material is only as strong as its weakest constituent can be understood as follows. 

しばしば``チームの強さとは一番弱いメンバーの強さである''と言われる. これは物質に対しても真だろうか? 物質の強さはその一番弱い構成要素と同じの強さしかないという仮説は, 以下のようにして理解できる. 

%Recall from the introduction to this section (see \ref{sec:orders}, page \pageref{sec:orders}) that we can put several different orders on the set $M$ of materials. One example there was the order given by constituency ($m\leq_C m'$ if $m$ is an ingredient or constituent of $m'$). Another order is given by strength: $m\leq_S m'$ if $m'$ is stronger than $m$ (in some fixed setting). 

この章の導入(\ref{sec:orders}章, \pageref{sec:orders}ページを見よ)において, 物質の集合$M$上にいくつかの異なる順序を入れることができたのを思い出そう. 一つ目の例は構成要素によって与えられるものである($m$が$m'$の部分か構成要素であるならば$m\leq_C m'$). また別の順序は強度によって与えられる. $m\leq_S m'$となるのは(ある固定された設定の下で)$m'$が$m$より強度があるときである.

%Is it true that if material $m$ is a constituent of material $m'$ then the strength of $m'$ is less than or equal to the strength of $m$? This is the substance of our quote above. Mathematically the question would be posed, ``is there a morphism of preorders $(M,\leq_C)\too(M,\leq_S\op)$?"

物質$m$が物質$m'$の構成要素であるならば$m'$の強度は$m$の強度以下であるというのは真であろうか? これこそが我々が上で引用した句の本質である. 数学的にはこの問いは次のように提出されるだろう. ``前順序間の射$(M,\leq_C)\too(M,\leq_S\op)$は存在するか?''

\end{application}

\begin{exercise}
%Let $X$ and $Y$ be sets, let $f\taking X\to Y$ be a function. Then for every subset $Y'\ss Y$, its preimage $f^\m1(Y')\ss X$ is a subset (see Definition \ref{def:preimage}). Thus we have a function $F\taking\PP(Y)\to\PP(X)$, given by taking preimages. Is it a morphism of partial orders?
$X$と$Y$を集合とし, $f\taking X\to Y$を函数とする. このとき, 全ての部分集合$Y'\ss Y$に対して, その前像$f^\m1(Y')\ss X$は部分集合である(Definition \ref{def:preimage}を見よ). すなわち我々は前像をとることによって函数$F\taking\PP(Y)\to\PP(X)$を与えることができる. これは半順序間の射か?
\end{exercise}

\begin{example}\label{ex:discrete and indiscrete}

%Let $S$ be a set. The smallest preorder structure that can be put on $S$ is to say $a\leq b$ iff $a=b$. This is indeed reflexive and transitive, and it is called the {\em discrete preorder on $S$}.\index{preorder!discrete}

$S$を集合とする. $S$上に入れることができる最小の前順序構造は$a=b$であるときかつそのときに限り$a\leq b$としたものである. これは実際反射的かつ推移的であり, \emph{$S$上の離散前順序(discrete preorder on $S$)}と呼ばれる.\index{preorder!discrete}

%The largest preorder structure that can be put on $S$ is to say $a\leq b$ for all $a,b\in S$. This again is reflexive and transitive, and it is called the {\em indiscrete preorder on $S$}.\index{preorder!indiscrete}

$S$上に入れることができる最大の前順序構造は全ての$a,b\in S$に対して$a\leq b$としたものである. これもまた反射的かつ推移的であり, \emph{$S$上の密着前順序(indiscrete preorder on $S$)}と呼ばれる.\index{preorder!indiscrete}

\end{example}

\begin{exercise}
%Let $S$ be a set and let $(T,\leq_T)$ be a preorder. Let $\leq_D$ be the discrete preorder on $S$. Given a morphism of preorders $(S,\leq_D)\to (T,\leq_T)$ we get a function $S\to T$. 
%\sexc Which functions $S\to T$ arise in this way? 
%\next Given a morphism of preorders $(T,\leq_T)\to(S,\leq_D)$, we get a function $T\to S$. In terms of $\leq_T$, which functions $T\to S$ arise in this way?
%\endsexc
$S$を集合とし, $(T,\leq_T)$を前順序とする. $\leq_D$を$S$上の離散前順序とする. 前順序間の射$(S,\leq_D)\to (T,\leq_T)$が与えられたとき函数$S\to T$が得られる.
\sexc この方法でどの函数$S\to T$が生起するか?
\next 前順序間の射$(T,\leq_T)\to(S,\leq_D)$が与えられたとき函数$T\to S$が得られる. $\leq_T$の観点からは, この方法でどの函数$T\to S$が生起するか?
\endsexc
\end{exercise}

\begin{exercise}
%Let $S$ be a set and let $(T,\leq_T)$ be a preorder. Let $\leq_I$ be the indiscrete preorder on $S$. Given a morphism of preorders $(S,\leq_I)\to (T,\leq_T)$ we get a function $S\to T$. 
%\sexc In terms of $\leq_T$, which functions $S\to T$ arise in this way? 
%\next Given a morphism of preorders $(T,\leq_T)\to(S,\leq_I)$, we get a function $T\to S$. In terms of $\leq_T$, which functions $T\to S$ arise in this way?
%\endsexc
$S$を集合とし$(T,\leq_T)$を前順序とする. $\leq_I$を$S$上の密着前順序とする. 前順序間の射$(S,\leq_I)\to (T,\leq_T)$が与えられたとき函数$S\to T$が得られる.
\sexc $\leq_T$の観点からは, この方法でどの函数$S\to T$が生起するか?
\next 前順序間の射$(T,\leq_T)\to(S,\leq_I)$が与えられたとき, 函数$T\to S$が得られる. $\leq_T$の観点からは, この方法でどの函数$T\to S$が生起するか?
\endsexc
\end{exercise}

%%%% Subsection %%%%

%\subsection{Other applications}
\subsection{その他の応用}

%% Subsubsection %%

%\subsubsection{Biological classification}\index{biological classification}
\subsubsection{生物学的分類}\index{biological classification}

%\href{http://en.wikipedia.org/wiki/Biological_classification}{\text Biological classification} is a method for dividing the set of organisms into distinct classes, called taxa. In fact, it turns out that such a classification, say a phylogenetic tree, can be understood as a partial order $C$ on the set of taxa. The typical {\em ranking} of these taxa, including kingdom, phylum, etc., can be understood as morphism of orders $f\taking C\to [n]$, for some $n\in\NN$. 

\href{http://en.wikipedia.org/wiki/Biological_classification}{生物学的分類(Biological classification)}は有機体の集合を分類群(taxa)と呼ばれる相異なる種類に分割する方法である. 実際, このような分類, すなわち系統樹は, 分類群の集合上の半順序$C$として理解できる. これらの分類群を表象する\emph{階級(ranking)}, すなわち界, 門, etc., はある$n\in\NN$に対しての順序間の射$f\taking C\to [n]$として理解できる.

%For example we may have a tree (see Example \ref{ex:tree}) that looks like this 
例えば, 以下のように書ける木(Example \ref{ex:tree}を見よ)を得ることができるだろう. 
$$
\xymatrix@=10pt{
&&\LTO{Archaea}\ar[rr]&&\LTO{Pyrodicticum}\\
&&&&\LTO{Spirochetes}\\
\LTO{Life}\ar[rr]\ar[ddrr]\ar[uurr]&&\LTO{Bacteria}\ar[rr]\ar[rru]&&\LTO{Aquifex}\\
&&&&\LTO{Fungi}\\
&&\LTO{Eukaryota}\ar[rr]\ar[urr]&&\LTO{Animals}\ar[rrr]&&&\LTO{Homo Sapien}}
$$

%We also have a linear order that looks like this:
我々は, 以下のように書ける線形順序を得ることもできる.
$$
\xymatrix{\LTO{Life}\ar[r]&\LTO{Domain}\ar[r]&\LTO{Kingdom}\ar[r]&\LTO{Phylum}\ar[r]&\cdots\ar[r]&\LTO{Genus}\ar[r]&\LTO{Species}}
$$
%and the ranking system that puts Eukaryota at Domain and Hopo Sapien at Species is an order-preserving function from the dots upstairs to the dots downstairs; that is, it is a morphism of preorders.
このドメインにEukaryotaがあり種にHomo Sapienがある階級の系は, 上層階層の点から下層階層の点への順序保存函数である. これはすなわち, これは前順序間の射である.

\begin{exercise}
%Since the phylogenetic tree is a tree, it has all meets.
%\sexc Determine the meet of dogs and humans. 
%\next If we did not require the phylogenetic partial order to be a tree, what would it mean if two taxa (nodes in the phylogenetic partial order), say $a$ and $b$, had join $c$ with $c\neq a$ and $c\neq b$?
%\endsexc
系統樹は木であるから, その全てに交わりがある. 
\sexc 犬と人との交わりを決定せよ.
\next 系統の半順序が木であることを要求しなかった場合には, 二つの分類群(系統の半順序における節) $a$と$b$が$c\neq a$かつ$c\neq b$なる交わり$c$を持つということは何を意味するだろうか?
\endsexc
\end{exercise}

\begin{exercise}~
%\sexc In your favorite scientific realm, are there any interesting classification systems that are actually orders? 
%\next Choose one; what would meets and joins mean in that setting?
%\endsexc
\sexc 読者のお気に入りの科学領域には, 実際に順序となっている興味深い分類の系はあるだろうか?
\next その一つを選んでみよう. その設定の下では交わりと結びは何を意味するだろうか?
\endsexc
\end{exercise}

%% Subsubsection %%

%\subsubsection{Security}\index{security}
\subsubsection{セキュリティ}\index{security}

%Security, say of sensitive information, is based on two things: a security clearance and ``need to know." The former, security clearance might have levels like ``confidential", ``secret", ``top secret". But maybe we can throw in ``president" and some others too, like ``plebe". 

セキュリティ, 例えば機密情報などについてのそれは, 二つの物事からなる. セキュリティ許容度(security clearance)と最小権限原則(need-to-know)である. 前者のセキュリティ許容度は``confidential'', ``secret'', ``top secret''などのレベルからなるであろう. しかし我々は``president''やその他のもの, ''plebe''といったものに投げこむこともできるかもしれない. 

\begin{exercise}
%Does it appear that security clearance is a preorder, a partial order, or a linear order?
セキュリティ許容度は前順序か, 半順序か, それとも線形順序か?
\end{exercise}

%Need-to-know is another classification of people. For each bit of information, we do not necessarily want everyone to know about it, even everyone of the specified clearance. It is only disseminated to those that need to know. 

最小権限原則はまた別の人間の分類である. 情報のそれぞれのビットに対して, 我々は全ての人間がそれを知ることを必ずしも望まない. たとえ全ての人間が特定のセキュリティ許容度をみたしていたとしても. 機密情報はそれを知る必要がある(need to know)人間に対してのみ広げるべきである.

\begin{exercise}
%Let $P$ be the set of all people and let $\ol{I}$ be the set of all pieces of information known by the government. For each subset $I\ss\ol{I}$, let $K(I)\ss P$ be the set of people that need to know every piece of information in $I$. Let $S=\{K(I)\|I\ss\ol{I}\}$ be the set of all ``need-to-know groups", with the subset relation denoted $\leq$. 

$P$を全ての人間の集合とし, $\ol{I}$を政府が知る全ての情報の集合とする. それぞれの部分集合$I\ss\ol{I}$に対して, $K(I)\ss P$を$I$の情報の全ての知る必要がある人間の集合とする. $S=\{K(I)\|I\ss\ol{I}\}$を全ての``最小権限を持つグループ''で, $\leq$によって示される部分集合関係を持つものとする. 

%\sexc Is $(S,\leq)$ a preorder? If not, find a nearby preorder. 
%\next If $I_1\ss I_2$ do we always have $K(I_1)\ss K(I_2)$ or $K(I_2)\ss K(I_1)$ or possibly neither? 
%\next Should the preorder $(S,\leq)$ have all meets? 
%\next Should $(S,\leq)$ have all joins?
%\endsexc

\sexc $(S,\leq)$は前順序か? もしそうでないならば, よく似た前順序を見出せ.
\next $I_1\ss I_2$ならば常に$K(I_1)\ss K(I_2)$あるいは$K(I_2)\ss K(I_1)$が得られるか, あるいはどちらも得られないだろうか?
\next 前順序$(S,\leq)$は全て交わりを持つか?
\next $(S,\leq)$は全て結びを持つか?
\endsexc
\end{exercise}

%% Subsubsection %%

%\subsubsection{Spaces, e.g. geography}\index{space}
\subsubsection{空間, e.g. 地理}\index{space}

%Consider closed curves that can be drawn in the plane $\RR^2$, e.g. circles, ellipses, and kidney-bean shaped curves. The interiors of these closed curves (not including the boundary itself) are called {\em basic open sets in $\RR^2$}. The good thing about such an interior $U$ is that any point $p\in U$ is not on the boundary, so no matter how close $p$ is to the boundary of $U$, there will always be a tiny basic open set surrounding $p$ and completely contained in $U$. In fact, the union of any collection of basic open sets still has this property. An {\em open set in $\RR^2$} is any subset $U\ss \RR^2$ that can be formed as the union of a collection of basic open sets.

平面$\RR^2$上に描かれた閉曲線, e.g. 円, 楕円, いんげん豆の型の曲線などを考える. これらの曲線の内部領域(境界それ自身は含まない)は\emph{$\RR^2$の基本開集合(basic open sets in $\RR^2$)}と呼ばれる. このような内部領域$U$のよい性質は, 任意の点$p\in U$は境界にはなく, よって$p$が$U$の境界にどれだけ近くとも, $p$を囲み$U$に完全に包まれている小さな基本開集合が常に存在している. 実際, 基本開集合の任意の集まりの合併は依然としてこの性質を持っている. \emph{$\RR^2$の開集合(open set in $\RR^2$)}は任意の部分集合$U\ss \RR^2$であり, 基本開集合の集まりの合併として表現できるものである.

\begin{example}

%Let $U=\{(x,y)\in\RR^2\|x>0\}$. To see that $U$ is open, define the following sets: for any $a,b\in\RR$, let $S(a,b)$ be the square parallel to the axes, with side length 1, where the upper left corner is $(a,b)$. Let $S'(a,b)$ be the interior of $S(a,b)$. Then each $S'(a,b)$ is open, and $U$ is the union of $S'(a,b)$ over the collection of all $a>0$ and all $b$,$$U=\bigcup_{\parbox{.35in}{\tiny$a,b\in\RR,\\~\;\;a>0$}}S'(a,b).$$ 

$U=\{(x,y)\in\RR^2\|x>0\}$とする. $U$が開集合であることを見るために, 以下の集合を定義する. 任意の$a,b\in\RR$に対して, $S(a,b)$を軸に平行な四角形で, 横の長さが1, 左上の角が$(a,b)$にあるものとする. $S'(a,b)$を$S(a,b)$の内部領域とする. このときそれぞれの$S'(a,b)$は開集合であり, $U$は全ての$a>0$と全て$b$の集まりの上における$S'(a,b)$の合併である. $$U=\bigcup_{\parbox{.35in}{\tiny$a,b\in\RR,\\~\;\;a>0$}}S'(a,b).$$

\end{example}\index{geography}

%The idea of open sets extends to spaces beyond $\RR^2$. For example, on the earth one could define a basic open set to be the interior of any region one can ``draw a circle around" (with a metaphorical pen), and define open sets to be unions of basic open sets. 

開集合のアイデアは$\RR^2$を越えた空間へと拡張される. 例えば, 地球上において誰かが(比喩的なペンで)``描いた円''の領域の内部として基本開集合を定義することができ, そして基本開集合の合併として開集合を定義することができる. 

\begin{exercise}
%Let $S$ be the set of open subsets on earth, as defined in the above paragraph. 
%\sexc If $\leq$ is the subset relation, is $(S,\leq)$ a preorder or a partial order? 
%\next Does it have meets, does it have joins?
%\endsexc
$S$を, 上の段落のように定義された, 地球上の開部分集合の集合とする. 
\sexc $\leq$が部分集合関係のとき, $(S,\leq)$は前順序かあるいは半順序か?
\next これは交わりを持つか. また結びを持つか?
\endsexc
\end{exercise}

\begin{exercise}\label{exc:cosheaf of temps}

%Let $S$ be the set of open subsets of earth as defined above. To each open subset of earth suppose we know the range of recorded temperature throughout $s$ (i.e. the low and high throughout the region). Thus to each element $s\in S$ we assign an interval $T(s):=\{x\in\RR\|a\leq x\leq b\}$. If we order the set $V$ of intervals of $\RR$ by the subset relation, it gives a partial order on $V$. 
%\sexc Does our assignment $T\taking S\to V$ amount to a morphism of orders? 
%\next Does it preserve meets or joins? (Hint: it doesn't preserve both.)
%\endsexc
$S$を上記のように定義された地球上の開部分集合の集合とする. それぞれの地球上の開部分集合に対して, $s$全体で記録された温度の範囲(i.e. 領域全体での最高気温と最低気温)を, 我々は知っていると仮定する. すなわちそれぞれの要素$s\in S$に対して区間$T(s):=\{x\in\RR\|a\leq x\leq b\}$を割り当てることができる. もし我々が$\RR$の区間の集合$V$を部分集合関係によって順序付けするならば, これは$V$上の半順序を与える.
\sexc 我々の割り当て$T\taking S\to V$は順序間の射になるだろうか?
\next これは交わりあるいは結びを保存するだろうか? (ヒント: どちらも保存しない.)
\endsexc
\end{exercise}

\begin{exercise}~
%\sexc Can you think of a space relevant to your favorite area of science for which it makes sense to assign an interval of real numbers to each open set somehow, analogously to Exercise \ref{exc:cosheaf of temps}? For example for a sample of some material under stress, perhaps the strain on each open set is somehow an interval? 
%\next Repeat the questions from Exercise \ref{exc:cosheaf of temps}.
%\endsexc
\sexc Exercise \ref{exc:cosheaf of temps}と同様に, 読者のお気に入りの科学分野で, それに対してそれぞれの開区間に実数の区間をどうにかして割りあてることが意味を持つところのものを, 考えることができるだろうか? 例えば応力下でのある物質のサンプルに対して, それぞれの開区間での歪みはどうにかすると区間になるだろうか? 
\next Exercise \ref{exc:cosheaf of temps}の問いに対して上を繰り返せ.
\endsexc
\end{exercise}


%%%%%% Section %%%%%%

%\section{Databases: schemas and instances}\label{sec:databases}
\section{データベース: スキーマと事例}\label{sec:databases}

%The first three sections of this chapter were about classical objects from mathematics. The present section is about databases, which are classical objects from computer science. These are truly ``categories and functors, without admitting it" (see Theorem \ref{thm:equivalence of categories and schemas}).

この章の最初の三節では数学における古典的な対象についてを述べた. 本節ではデータベース, 計算機科学での古典的対象についてを述べる. これらは真に``様々な圏と函手を, 圏論を使わずに''述べたものである (Theorem \ref{thm:equivalence of categories and schemas}を見よ).

%%%% Subsection %%%%

%\subsection{What are databases?}\label{sec:what are dbs}\index{database!tables}
\subsection{データベースとは何か?}\label{sec:what are dbs}\index{database!tables}

%Data, in particular the set of observations made during experiment, plays
%\footnote{The word data is generally considered to be the plural form of the word datum. However, individual datum elements are only useful when they are organized into structures (e.g. if one were to shuffle the cells in a spreadsheet, most would consider the data to be destroyed). It is the whole organized structure that really houses the information; the data must be in formation in order to be useful. Thus I will use the word {\em data} as a collective noun (akin to the word ``sand"); it bridges the divide between the {\em individual datum elements} (akin to the grains of sand) and the {\em data set} (akin to a sand pile). In particular, I will often use the word data as a singular noun.\index{data}}
%a primary role in science of any kind. To be useful data must be organized, often in a row-and-column display called a table. Columns existing in different tables can refer to the same data.

データ(data), 特に実験中に測定された観測量の集合は, あらゆる種の科学において中心的な役割を果たす.
\footnote{dataという単語は一般的にdatumという単語の複数形だとみなされている. しかしながら, 個々のデータ要素(datum)は, それらが構造(structure)の中に組織づけられているときにのみ有用である(e.g. もしスプレードシート上の升目の内容が切り混ぜられたならば, ほとんどの人がそのデータは破壊されたとみなすであろう). 全てが組織付けられた構造こそが実際に情報(information)が住まう場所である. 有用であるためには, データは編成されて(in formation)いなければならない. よって我々は単語\emph{データ(data)}を(単語``sand``と同様の)集合名詞として使う. この単語は(砂の粒に相当する)個々のdatum要素と, (砂山に相当する)\emph{データ集合(data set)}の間に橋を架ける. 特に, 本書ではしばしばdataという単語を単数と考えて用いることにする.\index{data}}
有用なデータは組織付けられており, しばしば行-列の外見をとり, テーブル(表)と呼ばれる. 異なったテーブルに存在している同じ列は同じデータを参照している.

%A database is a collection of tables, each table $T$ of which consists of a set of columns and a set of rows. We roughly explain the role of tables, columns, and rows as follows. The existence of table $T$ suggests the existence of a fixed methodology for observing objects or events of a certain type. Each column $c$ in $T$ prescribes a single kind or method of observation, so that the datum inhabiting any cell in column $c$ refers to an observation of that kind. Each row $r$ in $T$ has a fixed sourcing event or object, which can be observed using the methods prescribed by the columns. The cell $(r,c)$ refers to the observation of kind $c$ made on event $r$. All of the rows in $T$ should refer to uniquely identifiable objects or events of a single type, and the name of the table $T$ should refer to that type.

データベース(database)はテーブル(table)の集まりであり, そのテーブル$T$のそれぞれは列(column)の集合と行(row)の集合からなる\footnote{訳注: テーブル, 行, 列はそれぞれ関係(relation), タプル(tuple), 属性(attribute)と呼ばれることもある.}. おおざっぱにテーブル, 列, 行の役割を説明すると以下のようになる. テーブル$T$の存在はある型の観測対象(object)あるいは事象(event)に対するある定められた方法論が存在する示唆している. $T$におけるそれぞれの列$c$は単一の測定の種類あるいは方法を規定している. よって列$c$の任意の升目にあるデータ要素はその種類の観測を参照している. テーブル$T$のそれぞれの列はある定められたデータの源となる対象あるいは事象であり, この対象や事象は列によって規定された方法を用いて観測することができる. 升目(cell) $(r,c)$は事象$r$に対して行なわれた種$c$の観測を参照する. $T$の全ての行は一意に識別可能な単一の型の対象あるいは事象を参照しているべきであり, テーブル$T$の名前はその型を参照しているべきである. 

\begin{example}\label{ex:graphene}

%When graphene is strained (lengthened by a factor of $x\geq 1$), it becomes stressed (carries a force in the direction of the lengthening). The following is a made-up set of data.

グラフェン(graphene)が引っ張られた(因子$x\geq 1$だけ引き伸ばされた)時, グラフェンは応力を受ける(伸ばされた方向に力を媒介する). 以下は作成されたデータである.

\begin{align}\label{ex:first tables}\footnotesize
\begin{tabular}{| l || l | l | l |}\bhline
%\multicolumn{4}{|c|}{Graphene sample}\\\bhline
\multicolumn{4}{|c|}{\texttt{Graphene sample}}\\\bhline
%{\bf ID}&{\bf Source}&{\bf Stress}&{\bf Strain}\\\bbhline
\textbf{ID}&\textbf{Source}&\textbf{Stress}&\textbf{Strain}\\\bbhline
A118-1&C Smkt&0&0\\\hline
A118-2&C Smkt&0.02&20\\\hline
A118-3&C Smkt&0.05&40\\\hline
A118-4&AC&0.04&37\\\hline
A118-5&AC&0.1&80\\\hline
A118-6&C Plat&0.1&82\\\bhline
\end{tabular}\hsp
\begin{tabular}{| l || l | l |}\bhline
%\multicolumn{3}{|c|}{Supplier}\\\bhline
\multicolumn{3}{|c|}{\texttt{Supplier}}\\\bhline
%{\bf ID}&{\bf Full name}&{\bf Phone}\\\bbhline
\textbf{ID}&\textbf{Full name}&\textbf{Phone}\\\bbhline
%C Smkt&Carbon Supermarket&(541)781-6611\\\hline
C Smkt&Carbon Supermarket&(541) 781-6611\\\hline
AC&Advanced Chemical&(410) 693-0818\\\hline
C Plat&Carbon Platform&(510) 719-2857\\\hline
McD&McDonard's Burgers&(617) 244-4400\\\hline
APP&Acme Pen and Paper&(617) 823-5603\\\bhline
\end{tabular}
\end{align}

%In the first table, titled ``Graphene sample", the rows refer to graphene samples, and the table is so named. Each graphene sample can be observed according to the source supplier from which it came, the strain that it was subjected to, and the stress that it carried. These observations are the columns.  In the second table, the rows refer to suppliers of various things, and the table is so named. Each supplier can be observed according to its full name and its phone number; these are the columns.

``Graphene sample''と題された最初のテーブルでは, 行はグラフェンの試料(graphene sample)を参照しており, そしてテーブルはそのように題されている. それぞれのグラフェン試料はそれの出自であるところの供給者によって, それが受けた伸びとそれが受けた応力を測定されていることがある. これらの測定はテーブルの列である\footnote{訳注: \pageref{translator footnote dimension and uncertainty}ページの脚注もみよ.}. 二番目のテーブルでは, 行はいろいろなものの供給者であり, そしてテーブルもそのように題されている. それぞれの供給者はその氏名と電話番号によって観測できる. これらはテーブルの行である.

%In the left-hand table it appears either that each graphene sample was used only once, or that the person recording the data did not keep track of which samples were reused. If such details become important later, the lab may want to change the layout of the first table by adding on the appropriate column. This can be accomplished using morphisms of schemas, which will be discussed in Section \ref{sec:sch as category}.

左側のテーブルでは, それぞれのグラフェン試料は一度だけしか使われていないか, あるいはデータの記録者はどの試料が再利用されたかを追跡していないかのどちらかのようである. もしこのような詳細が後に重要になるのならば, 実験室は最初のテーブルに対して, 適切な列を加えることによる設計の変更を望むかもしれない. これはスキーマの射を用いることによって達成でき, Section \ref{sec:sch as category}で議論することになる.

\end{example}

%% Subsubsection %%

%\subsubsection{Primary keys, foreign keys, and data columns}\index{database!primary key}\index{database!foreign key}
\subsubsection{主キー, 外部キー, データ列}\index{database!primary key}\index{database!foreign key}

%There is a bit more structure in the above tables (Example \ref{ex:first tables}) then may first meet the eye. Each table has a {\em primary ID column}, found on the left, as well as some {\em data columns} and some {\em foreign key columns}. The primary key column is tasked with uniquely identifying different rows. Each data column houses elementary data of a certain sort. Perhaps most interesting from a structural point of view are the foreign key columns, because they link one table to another, creating a connection pattern between tables. Each foreign key column houses data that needs to be further unpacked. It thus refers us to another {\em foreign} table, in particular the primary ID column of that table. In Example \ref{ex:first tables} the {\tt Source} column was a foreign key to the {\tt Supplier} table.

上記のテーブル(Example \ref{ex:first tables})には, 最初に目に入るよりも少しだけ多くの構造が存在している. それぞれのテーブルには, 左側に\emph{主ID列(primary ID column)}が, いくつかの\emph{データ列(data column)}やいくかつの\emph{外部キー列(foreign key column)}に加えて存在している. 主キー列は異なった行は一意に識別するという仕事を担っている. それぞれのデータ列にはなんらか種類の基礎的なデータがいる. おそらく構造という観点においてもっとも興味深いのは外部キー列である. なぜなら外部キー列はあるテーブルと他のテーブルとを結びつけ, テーブル間を結ぶパターンを作るからだ. それぞれの外部キー列にはそこからさらに展開されることとなるデータがある. すなわち外部キーによって\emph{外部の(foreign)}テーブル, 特にそのテーブルの主キーID列を我々は参照することになる. 例えばExample \ref{ex:first tables}では\texttt{Source}列は\texttt{Supplier}テーブルへの外部キーである.

%Here is another example, lifted from \cite{Sp2}.
以下は, \cite{Sp2}から借用してきた, また別の例である.

\begin{example}\label{ex:department store 1}

%Consider the bookkeeping necessary to run a department store. We keep track of a set of employees and a set of departments. For each employee $e$, we keep track of
%\begin{enumerate}[\hsp E.1\;]
%\item the {\bf first} name of $e$, which is a {\tt FirstNameString},
%\item the {\bf last} name of $e$, which is a {\tt LastNameString},
%\item the {\bf manager} of $e$, which is an {\tt Employee}, and
%\item the department that $e$ {\bf works in}, which is a {\tt Department}.
%\end{enumerate}
%For each department $d$, we keep track of
%\begin{enumerate}[\hsp D.1\;]
%\item the {\bf name} of $d$, which is a {\tt DepartmentNameString}, and
%\item the {\bf secretary} of $d$, which is an {\tt Employee}.
%\end{enumerate}

百貨店を経営するにあたって必要な帳簿について考える. 我々は従業員の集合と部署の集合を注視している. それぞれの従業員$e$に対して, 我々は以下に注目する.
\begin{enumerate}[\hsp E.1\;]
\item $e$の\textbf{名前}(first name), これは\texttt{FirstNameString}である.
\item $e$の\textbf{名字}(last name), これは\texttt{LastNameString}である.
\item $e$の\textbf{管理者}(manager), これは\texttt{Employee}である.
\item $e$の\textbf{働いている}部署(department), これは\texttt{Department}である.
\end{enumerate}
それぞれの部署$d$に対して, 我々は以下に注目する.
\begin{enumerate}[\hsp D.1\;]
\item $d$の\textbf{部署名}(name), これを\texttt{DepartmentNameString}である.
\item $d$の\textbf{秘書}(secretary), これは\texttt{Employee}である.
\end{enumerate}

%Above we can suppose that E.1, E.2, and D.1 are data columns (referring to names of various sorts), and E.3, E.4, and D.2 are foreign key columns (referring to managers, secretaries, etc.). 

上記において我々はE.1, E.2, D.1を(様々なものごとの名前を参照する)データ列, そしてE.3, E.4, D.2を外部キー列(管理者, 秘書, etc.を参照する)外部キー列と, 考えることができる.

%Display (\ref{dia:instance on maincat}) shows how such a database might look at a particular moment in time. 
%\begin{align}\label{dia:instance on maincat}\index{a schema!department store}
%&\footnotesize
%\begin{tabular}{| l || l | l | l | l |}\bhline
%\multicolumn{5}{| c |}{{\tt Employee}}\\\bhline 
%{\bf ID}&{\bf first}&{\bf last}&{\bf manager}&{\bf worksIn}\\\bbhline 101&David&Hilbert&103&q10\\\hline 102&Bertrand&Russell&102&x02\\\hline 103&Emmy&Noether&103&q10\\\bhline
%\end{tabular}&\hsp\footnotesize
%\begin{tabular}{| l || l | l |}\bhline
%\multicolumn{3}{| c |}{{\tt Department}}\\
%\bhline {\bf ID}&{\bf name}&{\bf secretary}\\\bbhline q10&Sales&101\\\hline x02&Production&102\\\bhline
%\end{tabular}
%\end{align}\vspace{.1in}

Display (\ref{dia:instance on maincat})はある時点においてこのようなデータベースがとりうるであろう姿を示している.
\begin{align}\label{dia:instance on maincat}\index{a schema!department store}
&\footnotesize
\begin{tabular}{| l || l | l | l | l |}\bhline
\multicolumn{5}{| c |}{\texttt{Employee}}\\\bhline 
{\bf ID}&{\bf first}&\textbf{last}&\textbf{manager}&\textbf{worksIn}\\\bbhline 101&David&Hilbert&103&q10\\\hline 102&Bertrand&Russell&102&x02\\\hline 103&Emmy&Noether&103&q10\\\bhline
\end{tabular}&\hsp\footnotesize
\begin{tabular}{| l || l | l |}\bhline
\multicolumn{3}{| c |}{\texttt{Department}}\\
\bhline \textbf{ID}&\textbf{name}&\textbf{secretary}\\\bbhline q10&Sales&101\\\hline x02&Production&102\\\bhline
\end{tabular}
\end{align}\vspace{.1in}

\end{example}

%% Subsubsection %%

%\subsubsection{Business rules}\index{database!business rules}
\subsubsection{仕事でのきまり}\index{database!business rules}

%Looking at the tables from Example \ref{ex:department store 1}, one may notice a few patterns. First, every employee works in the same department as his or manager. Second, every department's secretary works in that department. Perhaps the business counts on these rules for the way it structures itself. In that case the database should enforce those rules, i.e. it should check that whenever the data is updated, it conforms to the rules: 

Example \ref{ex:department store 1}でのテーブルを見てみると, いくつかのパターンに気づくだろう. 一つめは, 各々の従業員はその管理者と同じ部署で働いている. 二つめは, 各々の部署の秘書はその部署で働いている. おそらく仕事では, それ自身の構造をきめるための方法としてこれらのきまりにたよっているのだろう. このような場合, データベースはこれらのきまりを強制するべきである, i.e. データが更新されるときは, いつ何時でも以下のきまりに従っているか確認するべきである. 

%\begin{enumerate}[\hsp Rule 1\;]
%\item For every employee $e$, the {\bf manager} of $e$ {\bf works in} the same department that $e$ {\bf works in}.
%\item For every department $d$, the {\bf secretary} of $d$ {\bf works in} department $d$.
%\end{enumerate}
%\vspace{-.3in}\begin{align}\label{dia:rules}\end{align}\vspace{-.3in}

\begin{enumerate}[\hsp Rule 1\;]
\item 各々の従業員$e$に対して, $e$の\textbf{管理者}は$e$が\textbf{働いている}部署と同じ部署で\textbf{働いている}.
\item 各々の部署$d$に対して, $d$の\textbf{秘書}は部署$d$で\textbf{働いている}.
\end{enumerate}
\vspace{-.3in}\begin{align}\label{dia:rules}\end{align}\vspace{-.3in}

%Together, the statements E.1, E.2, E.3, E.4, D.1, and D.2 from Example \ref{ex:department store 1} and Rule 1 and Rule 2, constitute what we will call the {\em schema} of the database.\index{schema!of a database}\index{database!schema} We will formalize this idea in Section \ref{sec:schemas}.

これらを併せたもの, すなわちstatement Example \ref{ex:department store 1} における E.1, E.2, E.3, E.4, D.1, D.2, およびRule 1とRule 2は, 我々がデータベースの\emph{スキーマ(schema)}と呼ぶことになるところのものを構成する. \index{schema!of a database}\index{database!schema} 我々はSection \ref{sec:schemas}でこのアイデアを形式化する.

%% Subsubsection %%

%\subsubsection{Data columns as foreign keys}
\subsubsection{外部キーとしてのデータ列}

%To make everything consistent, we could even say that data columns are specific kinds of foreign keys. That is, each data column constitutes a foreign key to some non-branching {\em leaf table}\index{schema!leaf table}, which has no additional data. 

全てを一貫性のあるものにするためには, データ列は特殊な外部キーであるともいえなくはない. これはすなわち, それぞれのデータ列はある枝分れのない\emph{葉のテーブル}\index{schema!leaf table}から構成され, そこには追加のデータがないとみなすということである.

\begin{example}\label{ex:department store 2}

%Consider again Example \ref{ex:department store 1}. Note that first names and last names had a particular type, which we all but ignored above. We could cease to ignore them by adding three tables, as follows.

Example \ref{ex:department store 1}を再び考察する. 名前と名字にはある特定の型があるが, それを以前の我々はほとんど無視していたことに注意しよう. 我々は, 3つのテーブルを以下のように加えることによって, これらを無視することを止めることができる.

\begin{align}\label{dia:instance on maincat 2}\footnotesize
\begin{tabular}{| l ||}\bhline
\multicolumn{1}{| c |}{{\tt FirstNameString}}\\\bhline
{\bf ID}\\\bbhline Alan\\\hline Alice\\\hline Bertrand\\\hline Carl\\\hline David\\\hline Emmy\\\hline\hspace{.25in}\vdots\\\bhline
\end{tabular}\hspace{.6in}\footnotesize
\begin{tabular}{| l ||}\bhline
\multicolumn{1}{| c |}{{\tt LastNameString}}\\\bhline
{\bf ID}\\\bbhline Arden\\\hline Hilbert\\\hline Jones\\\hline Noether\\\hline Russell\\\hline\hspace{.25in}\vdots\\\bhline
\end{tabular}\hspace{.6in}\footnotesize
\begin{tabular}{| l ||}\bhline
\multicolumn{1}{| c |}{{\tt DepartmentNameString}}\\\bhline
{\bf ID}\\\bbhline Marketing\\\hline Production\\\hline Sales\\\hline\hspace{.25in}\vdots\\\bhline
\end{tabular}
\end{align}

%In combination, Displays (\ref{dia:instance on maincat}) and (\ref{dia:instance on maincat 2}) form a collection of tables with the property that every column is either a primary key or a foreign key. The notion of data column is now subsumed under the notion of foreign key column. Everything is either a primary key (one per table, labeled ID) or a foreign key column (everything else).

組み合わせれば, Displays \eqref{dia:instance on maincat}と\eqref{dia:instance on maincat 2}は全ての列が主キーであるか外部キーであるかのどちらかであるという性質を持つテーブルの集まりを形成する. データ列という概念はいまや外部キー列の概念に包摂される. 全ては主キー(テーブルあたり一つの, 名付けられたID)であるか, あるいは外部キー列(それ以外の全て)である.

\end{example}

%%%% Subsection %%%%

\subsection{Schemas}\label{sec:schemas}

The above section may all seem intuitive or reasonable in some ways, but also a bit difficult to fully grasp, perhaps. It would be nice to summarize what is happening in a picture. Such a picture, which will basically be a graph, should capture the {\em conceptual layout} to which the data conforms, without yet being concerned with the individual data that may populate the tables in this instant. We proceed at first by example, giving the precise definition in Definition \ref{def:schema}.

\begin{example}\label{ex:department store 3}

In Examples \ref{ex:department store 1} and \ref{ex:department store 2}, the conceptual layout for a department store was given, and some example tables were shown. We were instructed to keep track of employees, departments, and six types of data (E.1, E.2, E.3, E.4, D.1, and D.2), and we were instructed to follow two rules (Rule 1, Rule 2). All of this is summarized in the following picture:
\begin{align}\label{dia:maincat schema}
\MainCatLarge{\mcC:=\tn{ Schema for tables (\ref{dia:instance on maincat}) and (\ref{dia:instance on maincat 2}) conforming to (\ref{dia:rules})}}
\end{align}
The five tables from (\ref{dia:instance on maincat}) and (\ref{dia:instance on maincat 2}) are seen as five vertices; this is also the number of primary ID columns. The six foreign key columns from (\ref{dia:instance on maincat}) and (\ref{dia:instance on maincat 2}) are seen as six arrows; each points from a table to a foreign table. The two rules from (\ref{dia:rules}) are seen as statements at the top of Display (\ref{dia:maincat schema}).We will explain path equivalences in Definition \ref{def:congruence}.

\end{example}

\begin{exercise}\label{exc:schema for first tables}
Come up with a schema (consisting of dots and arrows) describing the conceptual layout of information presented in Example \ref{ex:graphene}. 
\end{exercise}

In order to define schemas, we must first define the notion of schematic equivalence relation, which is to hold on the set of paths of a graph $G$ (see Section \ref{sec:paths in graph}). Such an equivalence relation (in addition to being reflexive, symmetric, and transitive) has two sorts of additional properties: equivalent paths must have the same source and target, and the composition of equivalent paths with other equivalent paths must yield equivalent paths. Formally we have Definition \ref{def:congruence}.

\begin{definition}\label{def:congruence}\index{PED}\index{congruence}\index{schema!Path equivalence declaration (PED)}\index{schema!congruence}\

Let $G=(V,A,src,tgt)$ be a graph, and let $\Path_G$ denote the set of paths in $G$ (see Definition \ref{def:paths in graph}). A {\em path equivalence declaration} (or {\em PED}) is an expression of the form $p\simeq q$ where $p,q\in\Path_G$ have the same source and target, $src(p)=src(q)$ and $tgt(p)=tgt(q)$. 

A {\em congruence} on $G$ is a relation $\simeq$ on $\Path_G$ that has the following properties: 
\begin{enumerate}
\item The relation $\simeq$ is an equivalence relation.
\item If $p\simeq q$ then $src(p)=src(q)$.
\item If $p\simeq q$ then $tgt(p)=tgt(q)$.
\item Suppose $p,q\taking b\to c$ are paths, and $m\taking a\to b$ is an arrow. If $p\simeq q$ then $mp\simeq mq$. 
\item Suppose $p,q\taking a\to b$ are paths, and $n\taking b\to c$ is an arrow. If $p\simeq q$ then $pn\simeq qn$.
\end{enumerate}

\end{definition}

Any set of path equivalence declarations (PEDs) generates a congruence. We tend to elide the difference between a congruence and the set of PEDs that generates it.

\begin{exercise}\label{exc:generating congruence}
Consider the graph shown in (\ref{dia:maincat schema}), and the two declarations shown at the top. They generate a congruence. 
\sexc Is it true that the following PED is an element of this congruence? $$\tn{{\tt Employee} manager manager worksIn $\stackrel{?}{\simeq}$ {\tt Employee} worksIn}$$ \next What about this one? $$\tn{{\tt Employee} worksIn secretary $\stackrel{?}{\simeq}$ {\tt Employee}}$$ 
\next What about this one? $$\tn{{\tt Department} secretary manager worksIn name $\stackrel{?}{\simeq}$ {\tt Department} name}$$
\endsexc
\end{exercise}

\begin{lemma}\label{lemma:composing PEDs}

Suppose that $G$ is a graph and $\simeq$ is a congruence on $G$. Suppose $p\simeq q\taking a\to b$ and $r\simeq s\taking b\to c$. Then $pr\simeq qs$.

\end{lemma}

\begin{proof}

The picture to have in mind is this: $$\xymatrix@=13pt{&\bullet\ar[r]&\cdots\ar[r]&\bullet\ar[dr]&&\bullet\ar[r]&\cdots\ar[r]&\bullet\ar[dr]\\\LMO{a}\ar@{}[rrrr]|{\simeq}\ar[ur]\ar[dr]\ar@{-->}@/^1.5pc/[rrrr]_p\ar@{-->}@/_1.5pc/[rrrr]^q&&&&\LMO{b}\ar@{}[rrrr]|{\simeq}\ar[ur]\ar[dr]\ar@{-->}@/^1.5pc/[rrrr]_r\ar@{-->}@/_1.5pc/[rrrr]^s&&&&\LMO{c}\\&\bullet\ar[r]&\cdots\ar[r]&\bullet\ar[ur]&&\bullet\ar[r]&\cdots\ar[r]&\bullet\ar[ur]}$$ Applying condition (3) from Definition \ref{def:congruence} to each arrow in path $p$, it follows by induction that $pr\simeq ps$. Applying condition (4) to each arrow in path $s$, it follows similarly that $ps\simeq qs$. Because $\simeq$ is an equivalence relation, it follows that $pr\simeq qs$. 

\end{proof}

\begin{definition}\label{def:schema}\index{schema}\index{database!schema}

A {\em database schema} (or simply {\em schema}) $\mcC$ consists of a pair $\mcC:=(G,\simeq)$ where $G$ is a graph and $\simeq$ is a congruence on $G$. 

\end{definition}

\begin{example}

The picture drawn in (\ref{dia:maincat schema}) has the makings of a schema. Pictured is a graph with two PEDs; these generate a congruence, as discussed in Exercise \ref{exc:generating congruence}.  

\end{example}

A schema can be converted into a system of tables each with a primary key and some number of foreign keys referring to other tables, as discussed in Section \ref{sec:what are dbs}. Definition \ref{def:schema} gives a precise conceptual understanding of what a schema is, and the following rules describe how to convert such a thing into a table layout.

\begin{rules}\label{rules:schema to tables}\index{olog!rules}

Converting a schema $\mcC=(G,\simeq)$ into a table layout should be done as follows:
\begin{enumerate}[(i)]
\item There should be a table for every vertex in $G$ and if the vertex is named, the table should have that name;
\item Each table should have a left-most column called ID, set apart from the other columns by a double vertical line; and
\item To each arrow $a$ in $G$ having source vertex $s:=src(a)$ and target vertex $t:=tgt(a)$, there should be a foreign key column $a$ in table $s$, referring to table $t$; if the arrow $a$ is named, column $a$ should have that name.
\end{enumerate}

\end{rules}

\begin{example}[Discrete dynamical system]\label{ex:dds}\index{dynamical system!discrete}

Consider the schema 
\begin{align}\label{dia:loop}
\Loop:=\LoopSchema
\end{align}
in which the congruence is trivial (i.e. generated by the empty set of PEDs.) This schema is quite interesting. It encodes a set $s$ and a function $f\taking s\to s$. Such a thing is called a {\em discrete dynamical system}. One imagines $s$ as the set of states and, for any state $x\in s$, a notion of ``next state" $f(x)\in s$. For example
\begin{align}\label{dia:dds data}
\begin{tabular}{| l || c |}\bhline
\multicolumn{2}{| c |}{s}\\\bhline 
{\bf ID}&{\bf f}\\\bbhline
A & B\\\hline
B & C\\\hline
C & C\\\hline
D & B\\\hline
E & C\\\hline
F & G\\\hline
G & H\\\hline
H & G\\\hline
\end{tabular}
\hspace{.5in}\text{...pictured...}\hspace{.5in}
\parbox{1.4in}{\fbox{\xymatrix@=7pt{
\LMO{A}\ar[rr]&&\LMO{B}\ar[rr]&&\LMO{C}\ar@(u,r)[]^~\\
\LMO{D\ar[urr]}&&\LMO{E}\ar[urr]\\
\LMO{F}\ar[rr]&&\LMO{G}\ar@/^.5pc/[rr]&&\LMO{H}\ar@/^.5pc/[ll]^~
}}}
\end{align}

\end{example}

\begin{application}

Imagine a \href{http://en.wikipedia.org/wiki/Chronon}{\text quantum-time} universe in which there are discrete time steps. We model it as a discrete dynamical system, i.e. a table of the form (\ref{dia:dds data}). For every possible state of the universe we include a row in the table. The state in the next instant is recorded in the second column.

\end{application}

\begin{example}[Finite hierarchy]\label{ex:finite hierarchy}\index{hierarchy}

The schema $\Loop$ can also be used to encode hierarchies, such as the manager relation from Examples \ref{ex:department store 1} and \ref{ex:department store 3}, 
$$\fbox{\xymatrix{\LTO{E}\ar@(l,u)[]^{\tn{mgr}}}}$$
One problem with this, however, is if a schema has even one loop, then it can have infinitely many paths (corresponding, e.g. to an employees manager's manager's manager's ... manager). 

Sometimes we know that in a given company that process eventually ends, a famous example being that at Ben and Jerry's ice cream, there were only seven levels. In that case we know that an employee's 8th level manager is equal to his or her 7th level manager. This can be encoded by the PED $${\tt E} \tn{ mgr}\tn{ mgr}\tn{ mgr}\tn{ mgr}\tn{ mgr}\tn{ mgr}\tn{ mgr}\tn{ mgr}\simeq{\tt E}\tn{ mgr}\tn{ mgr}\tn{ mgr}\tn{ mgr}\tn{ mgr}\tn{ mgr}\tn{ mgr}$$ or more concisely, $\tn{mgr}^8=\tn{mgr}^7$.

\end{example}

\begin{exercise}
Is there any nontrivial PED on $\Loop$ that holds for the data in Example \ref{ex:dds}? If so, what is it and how many equivalence classes of paths in $\Loop$ are there after you impose that relation?
\end{exercise}

\begin{exercise}
Let $P$ be a chess-playing program. Given any position (including the history of the game and choice of whose turn it is), $P$ will make a move. 
\sexc Is this an example of a discrete dynamical system? 
\next How do the rules for ending the game in a win or draw play out in this model? (Look up online how chess games end if you don't know.)
\endsexc
\end{exercise}

%% Subsubsection %%

\subsubsection{Ologging schemas}\label{sec:olog as db schema}\index{olog!as database schema}

It should be clear that a database schema is nothing but an olog in disguise. The difference is basically the readability requirements for ologs. There is an important new addition in this section, namely that we can fill out an olog with data. Conversely, we have seen that databases are not any harder to understand than ologs are.

\begin{example}\label{ex:orbits}

Consider the olog 
\begin{align}\label{dia:moon1}\obox{}{.5in}{a moon}\Too{\tn{orbits}}\obox{}{.5in}{a planet}\end{align}
We can document some instances of this relationship using the following tables: 
\begin{align}\label{dia:moon2}
\begin{tabular}{| c || c |}\bhline
\multicolumn{2}{| c |}{\bf orbits}\\\bhline
{\bf a moon}&{\bf a planet}\\\bbhline
The Moon&Earth\\\hline 
Phobos&Mars\\\hline 
Deimos&Mars\\\hline 
Ganymede & Jupiter\\\hline
Titan & Saturn\\\bhline
\end{tabular}
\end{align}  

Clearly, this table of instances can be updated as more moons are discovered by the author (be it by telescope, conversation, or research).

\end{example}

\begin{exercise}
In fact, Example \ref{ex:orbits} did not follow Rules \ref{rules:schema to tables}. Strictly following those rules, copy over the data from (\ref{dia:moon2}) into tables that are in accordance with schema (\ref{dia:moon1}).
\end{exercise}

\begin{exercise}~
\sexc Write down a schema, in terms of the boxes \fakebox{a thing I own} and \fakebox{a place} and one additional arrow, that might help one remember where they decided to put ``random" things. 
\next What is a good label for the arrow? 
\next Fill in some rows of the corresponding set of tables for your own case.
\endsexc
\end{exercise}

\begin{exercise}\label{exc:father and child}
Consider the olog 
$$
\xymatrix{\obox{C}{.4in}{a child}\LA{rr}{has}&&\obox{F}{.5in}{a father}\ar@/^1pc/[ll]^{\tn{has as first}}\ar@/_1pc/[ll]_{\tn{has as tallest}}}
$$
\sexc What path equivalence declarations would be appropriate for this olog? You can use $f\taking F\to C$, $t\taking F\to C$, and $h\taking C\to F$ if you prefer. 
\next How many PEDs are in the congruence?
\endsexc
\end{exercise}

%%%% Subsection %%%%

\subsection{Instances}

Given a database schema $(G,\simeq)$, an instance of it is just a bunch of tables whose data conform to the specified layout. These can be seen throughout the previous section, most explicitly in the relationship between schema (\ref{dia:maincat schema}) and tables (\ref{dia:instance on maincat}) and (\ref{dia:instance on maincat 2}), and between schema (\ref{dia:loop}) and table (\ref{dia:dds data}). Below is the mathematical definition.

\begin{definition}\label{def:instance}\index{database!instance}\index{instance}

Let $\mcC=(G,\simeq)$ where $G=(V,A,src,tgt)$. An {\em instance on $\mcC$}, denoted $(\PK,\FK)\taking\mcC\to\Set$, is defined as follows: One announces some constituents (A. primary ID part, B. foreign key part) and asserts that they conform to a law (1. preservation of congruence). Specifically, one announces
\begin{enumerate}[\hsp A.]
\item a function $\PK\taking V\to \Set$; i.e. to each vertex $v\in V$ one provides a set $\PK(v)$;\footnote{The elements of $\PK(v)$ will be listed as the rows of table $v$, or more precisely as the leftmost cells of these rows.} and
\item for every arrow $a\in A$ with $v=src(a)$ and $w=tgt(a)$, a function $\FK(a)\taking\PK(v)\to\PK(w)$.
\footnote{The arrow $a$ will correspond to a column, and to each row $r\in\PK(v)$ the $(r,a)$ cell will contain the datum $\FK(a)(r)$.}
\end{enumerate}
One asserts that the following law holds for any vertices $v, w$ and paths $p=va_1a_2\ldots a_m$ and $q=va_1'a_2'\ldots a_n'$ from $v$ to $w$:
\begin{enumerate}[\hsp 1.]
\item If $p\simeq q$ then for all $x\in\PK(v)$, we have $$\FK(a_m)\circ\cdots\circ\FK(a_2)\circ\FK(a_1)(x)=\FK(a_n')\circ\cdots\circ\FK(a_2')\circ\FK(a_1')(x)$$ in $\PK(w).$
\end{enumerate}

\end{definition}

\begin{exercise}\label{ex:self email}
Consider the olog pictured below: 
$$\mcC:=
\fbox{\parbox{3.1in}{
\xymatrix{
\obox{}{.7in}{a self-email}\LA{r}{is}&\obox{}{.5in}{an email}\ar@/^1pc/[r]^{\tn{is sent by}}\ar@/_1pc/[r]_{\tn{is sent to}}&\obox{}{.5in}{a person}}~\\\\
\parbox{3.1in}{Given $x$, a self-email, consider the following. \\
We know that $x$ is a self-email, which is an email, which is sent by a person that we'll call $P(x)$.\\
We also know that $x$ is a self-email, which is an email, which is sent to a person that we'll call $Q(x)$.\\
Fact: whenever $x$ is a self-email, we will have $P(x)=Q(x)$}
}}
$$
\begin{align}\label{dia:self email}
\begin{tabular}{| l || l |}\bhline
\multicolumn{2}{| c |}{{\tt a self-email}}\\\bhline
{\bf ID}&{\bf is}\\\bbhline 
SEm1207&Em1207\\\hline 
SEm1210&Em1210\\\hline 
SEm1211&Em1211\\\bhline
\end{tabular}&\hsp
\begin{tabular}{| l || l | l |}\bhline
\multicolumn{3}{| c |}{{\tt an email}}\\\bhline 
{\bf ID}&{\bf is sent by}&{\bf is sent to}\\\bbhline 
Em1206&Bob&Sue\\\hline 
Em1207 &Carl&Carl\\\hline 
Em1208&Sue & Martha\\\hline 
Em1209&Chris&Bob\\\hline 
Em1210&Chris&Chris\\\hline 
Em1211&Julia&Julia\\\hline 
Em1212&Martha&Chris\\\bhline
\end{tabular}\hsp
\begin{tabular}{| l ||}\bhline
\multicolumn{1}{| c |}{{\tt a person}}\\\bhline 
{\bf ID}\\\bbhline 
Bob\\\hline 
Carl\\\hline 
Chris\\\hline 
Julia\\\hline 
Martha\\\hline 
Sue\\\bhline
\end{tabular}
\end{align}\normalsize 

\sexc What is the set $\PK(\fakebox{an email})$? 
\next What is the set $\PK(\fakebox{a person})$? 
\next What is the function $\FK(\tn{is sent by})\taking\PK(\fakebox{an email})\to\PK(\fakebox{a person})$?
\next Interpret the sentences at the bottom of $\mcC$ as the Englishification of a simple path equivalence declaration. Is it satisfied by the instance (\ref{dia:self email}); that is, does law 1. from Definition \ref{def:instance} hold?\index{Englishifiication}
\endsexc
\end{exercise}

\begin{example}[Monoid action table]\label{ex:monoid action table}

In Example \ref{ex:monoid as olog}, we saw how a monoid $\mcM$ could be captured as an olog with only one object. As a database schema, this means there is only one table. Every generator of $\mcM$ would be a column of the table. The notion of database instance for such a schema is precisely the notion of action table from Section \ref{sec:monoid action table}. Note that a monoid can act on itself, in which case this action table is the monoid's multiplication table as in Example \ref{ex:multiplication table}, but it can also act on any other set as in Example \ref{ex:action table}. If $\mcM$ acts on a set $S$, then the set of rows in the action table will be $S$.

\end{example}

\begin{exercise}
Draw (as a graph) the schema for which Table \ref{dia:action table for FSM} is an instance.
\end{exercise}

\begin{exercise}
Suppose that $\mcM$ is a monoid and some instance of it is written out in table form. It's possible that $\mcM$ is a group. What evidence in an instance table for $\mcM$ might suggest that $\mcM$ is a group? 
\end{exercise}

%% Subsubsection %%

\subsubsection{Paths through a database}

Let $\mcC:=(G,\simeq)$ be a schema and let $(\PK,\FK)\taking\mcC\to\Set$ be an instance on $\mcC$. Then for every arrow $a\taking v\to w$ in $G$ we get a function $\FK(a)\taking\PK(v)\to\PK(w)$. Functions can be composed, so in fact for every path through $G$ we get a function. Namely, if $p=v_0a_1,a_2,\ldots,a_n$ is a path from $v_0$ to $v_n$ then the instance provides a function $$\FK(p):=\FK(a_n)\circ\cdots\FK(a_2)\circ\FK(a_1)\taking\PK(v_0)\to\PK(v_n),$$ which first made an appearance as part of Law 1 in Definition \ref{def:instance}.

\begin{example}\label{ex:paths as functions}

Consider the department store schema from Example \ref{ex:department store 3}, and in (\ref{dia:maincat schema}) the path $[\tn{worksIn, secretary, last}]$ which points from {\tt Employee} to {\tt LastNameString}. The instance will let us interpret this path as a function from the set of employees to the set of last names; this could be a useful function to have around. The instance from (\ref{dia:instance on maincat}) would yield the following function 

\begin{align*}
\begin{tabular}{| l || l |}\bhline
\multicolumn{2}{| c |}{{\tt Employee}}\\\bhline 
{\bf ID}&{\bf Secr. name}\\\bbhline 
101&Hilbert\\\hline 
102&Russell\\\hline 
103&Hilbert\\\bhline
\end{tabular}
\end{align*}

\end{example}

\begin{exercise}
Consider the path $p:=[f,f]$ on the $\Loop$ schema from (\ref{dia:loop}). Using the instance from (\ref{dia:dds data}), where $\PK(s)=\{A,B,C,D,E,F,G,H\}$, interpret $p$ as a function $\PK(s)\to\PK(s)$, and write this as a 2-column table, as above in Example \ref{ex:paths as functions}.
\end{exercise}

\begin{exercise}~
\sexc Given an instance $(\PK,\FK)$ on a schema $\mcC$, and given a trivial path $p$ (i.e. $p$ has length 0; it starts at some vertex but doesn't go anywhere), what function does $p$ yield?
\next What are the domain and codomain of $p$?
\endsexc
\end{exercise}



