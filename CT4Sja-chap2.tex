

%%%%%%%% Chapter %%%%%%%%

%\chapter{The category of sets}\label{chap:sets}

\chapter{集合の圏}\label{chap:sets}

%The theory of sets was invented as a foundation for all of mathematics. The notion of sets and functions serves as a basis on which to build our intuition about categories in general. In this chapter we will give examples of sets and functions and then move on to discuss commutative diagrams. At this point we can introduce ologs which will allow us to use the language of category theory to speak about real world concepts. Then we will introduce limits and colimits, and their universal properties. All of this material is basic set theory, but it can also be taken as an investigation of our first category, the {\em category of sets}, which we call $\Set$. We will end this chapter with some other interesting constructions in $\Set$ that do not fit into the previous sections.

集合論は全数学の基礎として発明された. 集合と函数についての記述は一般の圏について我々の直感を構築するための基礎となる. この章では我々は集合と函数の例を出した後に, 可換図式(commutative diagram)の議論に移行する. この時点で我々はologを導入することができるようになる. ologにより我々は現実世界の概念について語る際に圏論の言葉を使うことができるようになる. 続いて我々は極限(limit)と余極限(colimit), およびその普遍的な性質(universal properties)を導入する. これらの全ては基本的な集合論であるが, 一方で我々の最初の圏---集合の圏$\Set$---の調査ともとらえることができる.
%
それまでの各章にはうまく当てはまらない, また別の興味深い$\Set$の構成をもって, 我々の本章を終えることにする.

%%%%%% Section %%%%%%

%\section{Sets and functions}\index{set} 

\section{集合と函数}\index{set} 

%%%% Subsection %%%%

%\subsection{Sets}

\subsection{集合}

%In this course I'll assume you know what a set is. We can think of a set $X$ as a collection of things $x\in X$, each of which is recognizable as being in $X$ and such that for each pair of named elements $x,x'\in X$ we can tell if $x=x'$ or not.
%\footnote{Note that the symbol $x'$, read ``x-prime", has nothing to do with calculus or derivatives. It is simply notation that we use to name a symbol that is suggested as being somehow like $x$. This suggestion of kinship between $x$ and $x'$ is meant only as an aid for human cognition, and not as part of the mathematics.}
%The set of pendulums is the collection of things we agree to call pendulums, each of which is recognizable as being a pendulum, and for any two people pointing at pendulums we can tell if they're pointing at the same pendulum or not. 

この教程では, 著者は集合が何であるかを読者がよく知っていることを想定している. 我々は集合$X$を要素$x \in X$の集まりだと考えることができる. 要素それぞれは$X$の中にあると認識でき, また名前付きの要素の組$x,x'\in X$に対して我々は$x=x'$であるかそうでないかを答えることができる.
\footnote{記号$x'$---``xプライム''と読む---はcalculusや微分とは全く関係がない. これは単に$x$となにかしら似ていることを示唆する記号として我々が用いる記号の名前である. この$x$と$x'$との間の類似性の示唆が意味するものは人間の認知のみを目的にしており, 数学の一部ではない.}
振り子の集合は我々が振り子と呼ぶことを認めたものの集合であり, 要素のそれぞれは振り子であると認識される. また任意の二人の人間が指差した振り子に対して, 我々は彼らが同じ振り子を指差しているかどうかを答えることができる.

\begin{figure}
\begin{center}
\includegraphics[height=2in]{aSet}
\end{center}
%\caption{A set $X$ with $9$ elements and a set $Y$ with no elements, $Y=\emptyset$.}
\caption{要素が$9$つある集合$X$と要素がない集合$Y=\emptyset$.}
\end{figure}

\begin{notation}\label{not:basic math notation}

%The symbol $\emptyset$\index{a symbol!$\emptyset$} denotes the set with no elements. The symbol $\NN$\index{a symbol!$\NN$} denotes the set of natural numbers, which we can write as 
%$$\NN:=\{0,1,2,3,4,\ldots,877,\ldots\}.$$
%The symbol $\ZZ$\index{a symbol!$\ZZ$} denotes the set of integers, which contains both the natural numbers and their negatives, 
%$$\ZZ:=\{\ldots,-551,\ldots,-2,-1,0,1,2,\ldots\}.$$ 

記号$\emptyset$\index{a symbol!$\emptyset$}は要素がない集合を示す. 記号$\NN$\index{a symbol!$\NN$}は自然数の集合を示す. これは
$$\NN:=\{0,1,2,3,4,\ldots,877,\ldots\}.$$
と書くことができる.
記号$\ZZ$\index{a symbol!$\ZZ$}は整数の集合を示す. これは自然数とその負の要素を両方含む.
$$\ZZ:=\{\ldots,-551,\ldots,-2,-1,0,1,2,\ldots\}.$$ 

%If $A$ and $B$ are sets, we say that $A$ is a {\em subset}\index{subset} of $B$, and write $A\ss B$, if every element of $A$ is an element of $B$. So we have $\NN\ss\ZZ$. Checking the definition, one sees that for any set $A$, we have (perhaps uninteresting) subsets $\emptyset\ss A$ and $A\ss A$. We can use {\em set-builder notation}\index{set!set builder notation} to denote subsets. For example the set of even integers can be written $\{n\in\ZZ\|n\tn{ is even}\}$. The set of integers greater than $2$ can be written in many ways, such as $$\{n\in\ZZ\|n>2\} \hsp\tn{or}\hsp\{n\in\NN\|n>2\}\hsp\tn{or}\hsp\{n\in\NN\|n\geq 3\}.$$

$A$と$B$が集合であり, $A$の全ての要素が$B$の要素であるとき, $A$は$B$の\emph{部分集合}(subset)\index{subset}であると言い, $A\ss B$と書く. よって$\NN\ss\ZZ$が得られる. 定義を確認すれば, 任意の集合$A$について, (おそらく興味をひくことはない)部分集合$\emptyset\ss A$と$A\ss A$が得られることが分かる. 部分集合を示すのに\emph{内含表記(set-builder notation)}\index{set!set builder notation}を使うこともできる. 例えば偶数の集合は$\{n\in\ZZ\|n\tn{ は偶数}\}$と書くことができる. $2$より大きな整数の集合の書き方は数多くある. 例えば$$\{n\in\ZZ\|n>2\} \hsp\tn{or}\hsp\{n\in\NN\|n>2\}\hsp\tn{or}\hsp\{n\in\NN\|n\geq 3\}.$$

%The symbol $\exists$ means ``there exists".\index{a symbol!$\exists$} So we could write the set of even integers as $$\{n\in\ZZ\|n\tn{ is even}\}\hsp=\hsp\{n\in\ZZ\|\exists m\in\ZZ\tn{ such that } 2m=n\}.$$ The symbol $\exists!$\index{a symbol!$\exists$"!} means ``there exists a unique". So the statement ``$\exists! x\in\RR\tn{ such that } x^2=0$" means that there is one and only one number whose square is 0. Finally, the symbol $\forall$ means ``for all".\index{a symbol!$\forall$} So the statement ``$\forall m\in\NN\;\exists n\in\NN\tn{ such that } m<n$" means that for every number there is a bigger one.

記号$\exists$は``少なくとも一つ存在する''ことを意味する.\index{a symbol!$\exists$} よって偶数は$$\{n\in\ZZ\|n\tn{は偶数}\}\hsp=\hsp\{n\in\ZZ\|\exists m\in\ZZ\tn{ such that } 2m=n\}.$$と書くこともできた. 記号$\exists!$\index{a symbol!$\exists$"!}は``一意的に(唯一)存在する''ことを意味する. よって``$\exists! x\in\RR\tn{ such that } x^2=0$''という言明は, 二乗が0である数が存在し, それがただ一つだけであることを意味している. 最後に, 記号$\forall$は``全ての''を意味している.\index{a symbol!$\forall$} よって``$\forall m\in\NN\;\exists n\in\NN\tn{ such that } m<n$''という言明は全ての数に対してそれより大きい数が存在することを意味している.

%As you may have noticed, we use the colon-equals notation `` $A:=XYZ$ " to mean something like ``define $A$ to be $XYZ$".\index{a symbol!:=} That is, a colon-equals declaration is not denoting a fact of nature (like $2+2=4$), but a choice of the speaker. It just so happens that the notation above, such as $\NN:=\{0,1,2,\ldots\}$, is a widely-held choice.

既に気付いている読者もいるであろうが, 我々はコロン-等号記法を用い, `` $A:=XYZ$''が``$A$を$XYZ$と定義する''ことを意味するとしている.\index{a symbol!:=} これは, コロン-等号による宣言は自然界における事実(例えば$2+2=4$というようなもの)を示しているのではなく, 話者の選択を示しているということである. 上記の, 例えば$\NN:=\{0,1,2,\ldots\}$といった記法は, たまたま広く取られる選択である.

\end{notation}

\begin{exercise}
%Let $A=\{1,2,3\}$. What are all the subsets of $A$? Hint: there are 8.
$A=\{1,2,3\}$とする. $A$の部分集合を全て求めよ. ヒント: 8つある.
\end{exercise}

%%%% Subsection %%%%

%\subsection{Functions}\label{sec:functions}
\subsection{函数}\label{sec:functions}

%If $X$ and $Y$ are sets, then a {\em function $f$ from $X$ to $Y$},\index{function} denoted $f\taking X\to Y$, is a mapping that sends each element $x\in X$ to an element of $Y$, denoted $f(x)\in Y$. We call $X$ the {\em domain}\index{function!domain} of the function $f$ and we call $Y$ the {\em codomain}\index{function!codomain} of $f$. 

$X$と$Y$が集合であるならば, \emph{$X$から$Y$への函数$f$}\index{function}は$f\taking X\to Y$と表記され, これはそれぞれの要素$x\in X$を$f(x)\in Y$と表記される$Y$の要素へ送る写像である. $X$は函数$f$の\emph{始域(domain)}\index{function!domain}と呼ばれ, $Y$は$f$の\emph{終域(codomain)}\index{function!codomain}と呼ばれる.

\begin{align}\label{dia:setmap}
\parbox{2.3in}{\includegraphics[height=2in]{SetMap}}
\end{align}

%Note that for every element $x\in X$, there is exactly one arrow emanating from $x$, but for an element $y\in Y$, there can be several arrows pointing to $y$, or there can be no arrows pointing to $y$. 

全ての要素$x\in X$に対して, $x$から出る矢印が正確に一本存在するが, しかしある要素$y\in Y$に対しては, $y$を指す矢印が何本も存在するかもしれないし, また$y$を指す矢印が存在しないかもしれないことに注意しよう.

\begin{application}\label{app:force-extension}\index{materials!force-extension curves}

%In studying the mechanics of materials, one wishes to know how a material responds to tension. For example a rubber band responds to tension differently than a spring does. To each material we can associate a \href{http://en.wikipedia.org/wiki/Stress–strain_curve}{\text force-extension curve}, recording how much force the material carries when extended to various lengths. Once we fix a methodology for performing experiments, finding a material's force-extension curve would ideally constitute a function from the set of materials to the set of curves.
%\footnote{In reality, different samples of the same material, say samples of different sizes or at different temperatures, may have different force-extension curves. If we want to see this as a true function whose codomain is curves it should have as domain something like the set of material samples.}

物質の力学を研究する時に, 張力に対する応答を知りたくなることがある. 例えばゴムバンドは張力に対してバネとは違う応答を示す. いろいろな長さに伸ばした時に, 物質がどれだけ力を生みだしたかを記録することによって, 我々はそれぞれの物質に対して\href{http://en.wikipedia.org/wiki/Stress–strain_curve}{応力-ひずみ曲線(force-extension curve)}を関連付けることができる. 一度実験を行なう方法を固定したのならば, 物質の応力-ひずみ曲線の探索は理想的には物質の集合から曲線の集合への函数の構築となるであろう.
\footnote{実際には, 同じ物質の異なったサンプル, 例えば異なった大きさのサンプルやあるいは異なった温度でのサンプルは異なった応力-ひずみ曲線を持つだろう. もし我々がこれをその終域が曲線である本物の函数であると見なしたいのであれば, それは物質のサンプルの集合といったものを始域としているべきである.}

\end{application}

\begin{exercise}

%Here is a simplified account of how the \href{http://en.wikipedia.org/wiki/Retina}{\text brain receives light}. The eye contains about 100 million photoreceptor (PR) cells. Each connects to a retinal ganglion (RG) cell. No PR cell connects to two different RG cells, but usually many PR cells can attach to a single RG cell. 

以下の記述は, どのようにして\href{http://en.wikipedia.org/wiki/Retina}{脳が光を感じとるか}を単純化したものである. 眼には約1億個の光受容細胞(photoreceptor cell)が含まれている. それぞれの細胞は網膜神経節細胞(retinal ganglion cell)に繋がっている. 二つの異なった網膜神経節細胞に繋がっている光受容細胞は存在しないが, 通常は複数の光受容細胞が一つの網膜神経節細胞に接続することができる.

%Let $PR$ denote the set of photoreceptor cells and let $RG$ denote the set of retinal ganglion cells. 
%\sexc According to the above account, does the connection pattern constitute a function $RG\to PR$, a function $PR\to RG$ or neither one? 
%\next Would you guess that the connection pattern that exists between other areas of the brain are ``function-like"?
%\endsexc

$\mathit{PR}$は光受容細胞の集合, $\textit{RG}$は網膜神経節細胞の集合を示すものとする.
\sexc 上記の記述に従えば, 結合パターンは函数$\textit{RG}\to \textit{PR}$, あるいは函数$\textit{PR}\to \textit{RG}$を構成するだろうか? もしくはどちらも函数ではないのだろうか?
\next 脳の他の領域の間に存在する結合パターンが``函数のように''ふるまうかを推測してみよう.
\endsexc
\end{exercise}

\begin{example}\label{ex:subset as function}\index{subset!as function}

%Suppose that $X$ is a set and $X'\ss X$ is a subset. Then we can consider the function $X'\to X$ given by sending every element of $X'$ to ``itself" as an element of $X$. For example if $X=\{a,b,c,d,e,f\}$ and $X'=\{b,d,e\}$ then $X'\ss X$ and we turn that into the function $X'\to X$ given by $b\mapsto b, d\mapsto d, e\mapsto e$.
%\footnote{This kind of arrow,\;\;$\mapsto$\;\;, is read aloud as ``maps to". A function $f\taking X\to Y$ means a rule for assigning to each element $x\in X$ an element $f(x)\in Y$. We say that ``$x$ maps to $f(x)$" and write $x\mapsto f(x)$.}\index{a symbol!$\mapsto$}

$X$が集合で$X'\ss X$がその部分集合であると仮定する. そのときには$X'$の全ての要素を$X$における``要素それ自身''に対応付ける函数$X'\to X$を考えることができる. 例えば, $X=\{a,b,c,d,e,f\}$として$X'=\{b,d,e\}$としたならば$X'\ss X$
であり, そこから函数$X'\to X$を$b\mapsto b, d\mapsto d, e\mapsto e$とすることによって得ることができる.
\footnote{この\;\;$\mapsto$\;\;という種類の矢印は, ``対応付ける(maps to)''と音読される. 函数$f\taking X\to Y$はそれぞれの要素$x\in X$に要素$f(x)\in Y$を割りあてる法則を意味している. 我々はこれを``$x$を$f(x)$に対応付ける''と読み, $x\mapsto f(x)$と書く.}\index{a symbol!$\mapsto$}

%As a matter of notation, we may sometimes say something like the following: Let $X$ be a set and let $i\taking X'\ss X$ be a subset. Here we are making clear that $X'$ is a subset of $X$, but that $i$ is the name of the associated function.

記法として, 我々は時々``$X$を集合, $i\taking X'\ss X$を部分集合とする''というようなことを言うだろう. ここで$X'$は$X$の部分集合であり, $i$はそれに関連付けられた函数であることを, ここで明確に述べておく.

\end{example}

\begin{exercise}
%Let $f\taking\NN\to\NN$ be the function that sends every natural number to its square, e.g. $f(6)=36$. First fill in the blanks below, then answer a question.
%\sexc $2\mapsto\ul{\hspace{.5in}}$
%\next $0\mapsto\ul{\hspace{.5in}}$
%\next $-2\mapsto\ul{\hspace{.5in}}$
%\next $5\mapsto\ul{\hspace{.5in}}$
%\next Consider the symbol $\to$ and the symbol $\mapsto$. What is the difference between how these two symbols are used in this book?
%\endsexc
$f\taking\NN\to\NN$を, 全ての自然数をその二乗に対応付ける函数とする, e.g. $f(6)=36$. 最初に以下の空白を埋め, それから問題に答えよ.
\sexc $2\mapsto\ul{\hspace{.5in}}$
\next $0\mapsto\ul{\hspace{.5in}}$
\next $-2\mapsto\ul{\hspace{.5in}}$
\next $5\mapsto\ul{\hspace{.5in}}$
\next 記号$\to$と記号$\mapsto$について考えよ. この本の中において, 二つの記号の使用され方の間にある違いはなんだろうか?
\endsexc
\end{exercise}

%Given a function $f\taking X\to Y$, the elements of $Y$ that have at least one arrow pointing to them are said to be {\em in the image} of $f$; that is we have \index{image}
%\begin{align}\label{dia:image}
%\im(f):=\{y\in Y\| \exists x\in X \tn{ such that } f(x)=y\}.
%\end{align} 

函数$f\taking X\to Y$が与えられたとき, $Y$の要素でそれを指す矢印が一つ以上あるものの集合を$f$の\emph{像(image)}と呼ぶ. これは\index{image}
\begin{align}\label{dia:image}
\im(f):=\{y\in Y\| \exists x\in X \tn{ such that } f(x)=y\}
\end{align}
と書ける.

\begin{exercise}
%If $f\taking X\to Y$ is depicted by (\ref{dia:setmap}) above, write its image, $\im(f)$ as a set.
$f\taking X\to Y$が\eqref{dia:setmap}で描写されるとき, 像$\im(f)$を集合として書け.
\end{exercise}

%Given a function $f\taking X\to Y$ and a function $g\taking Y\to Z$, where the codomain of $f$ is the same set as the domain of $g$ (namely $Y$), we say that $f$ and $g$ are composable 
%$$X\Too{f}Y\Too{g}Z.$$ The {\em composition of $f$ and $g$}\label{function composition}\index{function!composition}\index{composition!of functions}\index{a symbol!$\circ$} is denoted by $g\circ f\taking X\to Z$. 

函数$f\taking X\to Y$と函数$g\taking Y\to Z$が与えられ, $f$の終域が$g$の始域と同じ集合($Y$)であるとき, 我々は$f$と$g$は合成可能(composable)であるという.
$$X\Too{f}Y\Too{g}Z.$$ \emph{$f$と$g$の合成(composition of $f$ and $g$)}\label{function composition}\index{function!composition}\index{composition!of functions}\index{a symbol!$\circ$}は$g\circ f\taking X\to Z$と表記される. 

\begin{figure}[h]
\begin{center}
\includegraphics[height=2in]{composition}
\end{center}
\caption{Functions $f\taking X\to Y$ and $g\taking Y\to Z$ compose to a function $g\circ f\taking X\to Z$; just follow the arrows.}
\end{figure}

%Let $X$ and $Y$ be sets. We write $\Hom_\Set(X,Y)$\index{a symbol!$\Hom_\Set$} to denote the set of functions $X\to Y$.
%\footnote{The strange notation $\Hom_\Set(-,-)$ will make more sense later, when it is seen as part of a bigger story.} 
%Note that two functions $f,g\taking X\to Y$ are equal\index{function!equality of} if and only if for every element $x\in X$ we have $f(x)=g(x)$. 

$X$と$Y$を集合とする. 我々は函数$X\to Y$の集合を$\Hom_\Set(X,Y)$\index{a symbol!$\Hom_\Set$}と書く.
\footnote{後程, より大きな筋書きの一部として見たときに, $\Hom_\Set(-,-)$という奇妙な記法がさらなる意味を持つことになる.}
二つの函数$f,g\taking X\to Y$が等しい\index{function!equality of}とは, 全ての要素$x\in X$に対して$f(x)=g(x)$が得られる時かつその時に限ることに注意しよう.

\begin{exercise}
%Let $A=\{1,2,3,4,5\}$ and $B=\{x,y\}.$ 
%\sexc How many elements does $\Hom_\Set(A,B)$ have? 
%\next How many elements does $\Hom_\Set(B,A)$ have?
%\endsexc
$A=\{1,2,3,4,5\}$で$B=\{x,y\}$であるとする.
\sexc $\Hom_\Set(A,B)$の要素はいくつあるか?
\next $\Hom_\Set(B,A)$の要素はいくつあるか?
\endsexc
\end{exercise}

\begin{exercise}~
%\sexc Find a set $A$ such that for all sets $X$ there is exactly one element in $\Hom_\Set(X,A)$. Hint: draw a picture of proposed $A$'s and $X$'s.
%\next Find a set $B$ such that for all sets $X$ there is exactly one element in $\Hom_\Set(B,X)$.
%\endsexc 
\sexc 全ての集合$X$に対して$\Hom_\Set(X,A)$がただ一つだけ要素を持つ, そのような集合$A$を求めよ. ヒント: 考えた $A$と$X$の要素に関しての絵を書け.
\next 全ての集合$X$に対して$\Hom_\Set(B, X)$がただ一つだけ要素を持つ, そのような集合$B$を求めよ.
\endsexc
\end{exercise}

%For any set $X$, we define the {\em identity function on $X$}\index{function!identity}, denoted $\id_X\taking X\to X$, to be the function such that for all $x\in X$ we have $\id_X(x)=x$.\index{a symbol!$\id_X$}

任意の集合$X$に対して, \emph{$X$上の恒等写像(identity function on $X$)}\index{function!identity}を, 全ての$x\in X$に対して$\id_X(x)=x$.\index{a symbol!$\id_X$}である函数として定義し, $\id_X\taking X\to X$で示す.

%\begin{definition}[Isomorphism]\label{def:iso in set}
\begin{definition}[同型写像(Isomorphism)]\label{def:iso in set}

%Let $X$ and $Y$ be sets. A function $f\taking X\to Y$ is called an {\em isomorphism}\index{function!isomorphism}\index{isomorphism!of sets}, denoted $f\taking X\To{\iso}Y$, if there exists a function $g\taking Y\to X$ such that $g\circ f=\id_X$ and $f\circ g=\id_Y$. We also say that $f$ is {\em invertible} and we say that $g$ is {\em the inverse}\index{function!inverse} of $f$. If there exists an isomorphism $X\To\iso Y$ we say that $X$ and $Y$ are {\em isomorphic} sets and may write $X\iso Y$. \index{a symbol!$\iso$}

$X$と$Y$を集合とする. 函数$f\taking X\to Y$は, $g\circ f=\id_X$かつ$f\circ g=\id_Y$である函数$g\taking Y\to X$が存在するとき, \emph{同型写像(isomorphism)}\index{function!isomorphism}\index{isomorphism!of sets}であるといい, $f\taking X\To{\iso}Y$と書いて示す. またこのとき$f$は\emph{可逆(invertible)}であるといい, $g$は$f$の\emph{逆函数(the inverse)}\index{function!inverse}であるという. 同型$X\To\iso Y$が存在するとき, $X$と$Y$は\emph{同型(isomorphic)}な集合であるといい, $X\iso Y$と書くこともある. \index{a symbol!$\iso$}

\end{definition}

\begin{example}

%If $X$ and $Y$ are sets and $f\taking X\to Y$ is an isomorphism then the analogue of Diagram \ref{dia:setmap} will look like a perfect matching, more often called a {\em one-to-one correspondence}\index{one-to-one correspondence}\index{correspondence!one-to-one}. That means that no two arrows will hit the same element of $Y$, and every element of $Y$ will be in the image. For example, the following depicts an isomorphism $X\To{\iso}Y$.

$X$と$Y$が集合で$f\taking X\to Y$が同型写像であるならば, 図式\ref{dia:setmap}の類似物は完全対応となり, よりしばしば\emph{一対一対応(one-to-one correspondence)}\index{one-to-one correspondence}\index{correspondence!one-to-one}と呼ばれる. これが意味するところは, どの二つの矢印も$Y$の同じ要素に当たることがなく, $Y$の全ての要素がその像の中に含まれるということである. 例えば, 次の図は同型写像$X\To{\iso}Y$を描いている.

\begin{align}\label{dia:setmapiso}
\parbox{2.3in}{\includegraphics[height=2in]{SetMapIso}}
\end{align}

\end{example}

\begin{application}\label{app:DNA RNA}\index{RNA transcription}

%There is an isomorphism between the set $\tn{Nuc}_\tn{DNA}$ of \href{http://en.wikipedia.org/wiki/Nucleotides}{\text nucleotides} found in DNA and the set $\tn{Nuc}_\tn{RNA}$ of nucleotides found in RNA. Indeed both sets have four elements, so there are 24 different isomorphisms. But only one is useful. Before we say which one it is, let us say there is also an isomorphism $\tn{Nuc}_\tn{DNA}\iso\{A,C,G,T\}$ and an isomorphism $\tn{Nuc}_\tn{RNA}\iso\{A,C,G,U\}$, and we will use the letters as abbreviations for the nucleotides. 

DNAの中にある\href{http://en.wikipedia.org/wiki/Nucleotides}{ヌクレオチド(nucleotides)}の集合$\tn{Nuc}_\tn{DNA}$と, RNAの中にあるヌクレオチドの集合$\tn{Nuc}_\tn{RNA}$の間には, 同型写像が存在している. 実際にはどちらの集合も4つの要素を持つから, 24個の異なった同型写像が存在しうる. しかしその中で一つだけが有用である. どれがその一つかを述べる前に, また別の同型写像$\tn{Nuc}_\tn{DNA}\iso\{A,C,G,T\}$および同型写像$\tn{Nuc}_\tn{RNA}\iso\{A,C,G,U\}$が存在するということを述べておこう. 今後はこれらの文字をヌクレオチドの略記として用いることにする.

%The convenient isomorphism $\tn{Nuc}_\tn{DNA}\To{\iso}\tn{Nuc}_\tn{RNA}$ is that given by RNA transcription; it sends 
%$$A\mapsto U, C\mapsto G, G\mapsto C, T\mapsto A.$$ 
%(See also Application \ref{app:polymerase}.) There is also an isomorphism $\tn{Nuc}_\tn{DNA}\To{\iso}\tn{Nuc}_\tn{DNA}$ (the matching in the double-helix) given by 
%$$A\mapsto T, C\mapsto G, G\mapsto C, T\mapsto A.$$

有用な同型写像$\tn{Nuc}_\tn{DNA}\To{\iso}\tn{Nuc}_\tn{RNA}$はRNA転写によって与えられる. これは
$$A\mapsto U, C\mapsto G, G\mapsto C, T\mapsto A.$$ 
と移す. (Application \ref{app:polymerase}も見よ.) また同型写像$\tn{Nuc}_\tn{DNA}\To{\iso}\tn{Nuc}_\tn{DNA}$ (二重螺旋の対合)が存在し, 
$$A\mapsto T, C\mapsto G, G\mapsto C, T\mapsto A.$$
で与えられる.

%Protein production can be modeled as a function from the set of 3-nucleotide sequences to the set of eukaryotic amino acids. However, it cannot be an isomorphism because there are $4^3=64$ triplets of RNA nucleotides, but only 21 eukaryotic amino acids. 

たんぱく質の合成は, 3要素のヌクレオチド列から真核生物の持つアミノ酸の集合への函数として模型化される. しかしこれは同型写像ではない. なぜならばRNAの三つ組は$4^3=64$種類存在しているが, 真核生物の持つアミノ酸は21種類しかないからだ.

\end{application}

\begin{exercise}
%Let $n\in\NN$ be a natural number and let $X$ be a set with exactly $n$ elements. 
%\sexc How many isomorphisms are there from $X$ to itself? 
%\next Does your formula from part a.) hold when $n=0$?
%\endsexc

$n\in\NN$を自然数とし, $X$を正確に$n$個の要素を持つ集合とする.
\sexc $X$から$X$自身への同型写像はいくつあるか? 
\next a.) での式は$n=0$の時にも成立するか?
\endsexc
\end{exercise}

\begin{lemma}\label{lemma:isomorphic ER in Set}

%The following facts hold about isomorphism.
%\begin{enumerate}
%\item Any set $A$ is isomorphic to itself; i.e. there exists an isomorphism $A\To{\iso} A$.
%\item For any sets $A$ and $B$, if $A$ is isomorphic to $B$ then $B$ is isomorphic to $A$.
%\item For any sets $A, B,$ and $C$, if $A$ is isomorphic to $B$ and $B$ is isomorphic to $C$ then $A$ is isomorphic to $C$.
%\end{enumerate}

同型写像に関して以下が成立する.
\begin{enumerate}
\item 任意の集合$A$はそれ自身に対して同型である. i.e. 同型写像$A\To{\iso} A$が存在する.
\item 任意の集合$A$と$B$に対して, $A$が$B$に同型ならば$B$は$A$に同型である.
\item 任意の集合$A, B,$および$C$に対して, もし$A$が$B$に同型で$B$が$C$に同型ならば, $A$は$C$に同型である.
\end{enumerate}

\end{lemma}

\begin{proof}

%\begin{enumerate}
%\item The identity function $\id_A\taking A\to A$ is invertible; its inverse is $\id_A$ because $\id_A\circ\id_A=\id_A$.
%\item If $f\taking A\to B$ is invertible with inverse $g\taking B\to A$ then $g$ is an isomorphism with inverse $f$.
%\item If $f\taking A\to B$ and $f'\taking B\to C$ are each invertible with inverses $g\taking B\to A$ and $g'\taking C\to B$ then the following calculations show that $f'\circ f$ is invertible with inverse $g\circ g'$: 
%\begin{align*}
%(f'\circ f)\circ(g\circ g')=f'\circ(f\circ g)\circ g'=f'\circ\id_B\circ g'=f'\circ g'=\id_C\\
%(g\circ g')\circ(f'\circ f)=g\circ(g'\circ f')\circ f=g\circ\id_B\circ f=g\circ f=\id_A
%\end{align*}
%\end{enumerate}

\begin{enumerate}
\item 恒等写像$\id_A\taking A\to A$は可逆である. $\id_A\circ\id_A=\id_A$であるから逆函数は$\id_A$である.
\item もし$f\taking A\to B$が可逆でその逆函数が$g\taking B\to A$であるならば, $g$は同型写像でその逆函数は$f$である.
\item もし$f\taking A\to B$および$f'\taking B\to C$が可逆でそれぞれの逆函数が$g\taking B\to A$および$g'\taking C\to B$であるならば, 以下の計算によって$f'\circ f$が可逆でありその逆函数が$g\circ g'$であることが示される.
\begin{align*}
(f'\circ f)\circ(g\circ g')=f'\circ(f\circ g)\circ g'=f'\circ\id_B\circ g'=f'\circ g'=\id_C\\
(g\circ g')\circ(f'\circ f)=g\circ(g'\circ f')\circ f=g\circ\id_B\circ f=g\circ f=\id_A
\end{align*}
\end{enumerate}

\end{proof}

\begin{exercise}\label{exc:functions are not iso invariant}
%Let $A$ and $B$ be the sets drawn below:
%$$
%\parbox{1.1in}{\boxtitle{A:=}\fbox{\xymatrix@=1pt{\\&\LMO{\;a\;}&&&\LMO{\;\;\;7\;\;}&\\\\\\&&&\LMO{Q}\\&}}}
%\hspace{.8in}
%\parbox{1.2in}{\boxtitle{B:=}\fbox{\xymatrix@=1pt{&&&\LMO{r8}&&\\\\\\\\&\LMO{``Bob"}\\&&\LMO{\clubsuit}}}}
%$$
%Note that the sets $A$ and $B$ are isomorphic. Supposing that $f\taking B\to\{1,2,3,4,5\}$ sends ``Bob" to $1$, sends $\clubsuit$ to $3$, and sends $r8$ to $4$, is there a canonical function $A\to\{1,2,3,4,5\}$ corresponding to $f$?
%\footnote{Canonical means something like ``best choice", a choice that stands out as the only reasonable one.}\index{canonical}
$A$と$B$が集合であり以下のように描写されるとする.
$$
\parbox{1.1in}{\boxtitle{A:=}\fbox{\xymatrix@=1pt{\\&\LMO{\;a\;}&&&\LMO{\;\;\;7\;\;}&\\\\\\&&&\LMO{Q}\\&}}}
\hspace{.8in}
\parbox{1.2in}{\boxtitle{B:=}\fbox{\xymatrix@=1pt{&&&\LMO{r8}&&\\\\\\\\&\LMO{``Bob"}\\&&\LMO{\clubsuit}}}}
$$
$A$と$B$が同型であることに注意しよう. $f\taking B\to\{1,2,3,4,5\}$が, ``Bob''を$1$に移し, $\clubsuit$を$3$に移し, $r8$を$4$に移すと仮定したとき, $f$に対応する標準函数(canonical function)$A\to\{1,2,3,4,5\}$は存在するだろうか?
\footnote{標準(canonical)とは, 唯一の妥当なものとして際だっているような選びかたである, すなわち``もっともよい選択''であるというような意味である.}\index{canonical}
\end{exercise}

\begin{exercise}\label{exc:generator for set}
%Find a set $A$ such that for any set $X$ there is a isomorphism of sets $$X\iso\Hom_\Set(A,X).$$ Hint: draw a picture of proposed $A$'s and $X$'s.
任意の集合$X$に対して同型写像$$X\iso\Hom_\Set(A,X).$$が存在する集合$A$を求めよ. ヒント: 考えた$A$の要素と$X$の要素についての絵を描け.
\end{exercise}

%For any natural number $n\in\NN$, define a set 
%\begin{align}\label{dia:underline n}\index{a symbol!$\ul{n}$}
%\ul{n}:=\{1,2,3,\ldots,n\}.
%\end{align}
%So, in particular, $\ul{2}=\{1,2\}, \ul{1}=\{1\}$, and $\ul{0}=\emptyset$. 

任意の自然数$n\in\NN$に対して, 集合 
\begin{align}\label{dia:underline n}\index{a symbol!$\ul{n}$}
\ul{n}:=\{1,2,3,\ldots,n\}.
\end{align}
を定義する. よって, 特に$\ul{2}=\{1,2\}, \ul{1}=\{1\}$および$\ul{0}=\emptyset$である.

%Let $A$ be any set. A function $f\taking\ul{n}\to A$ can be written as a sequence $$f=(f(1),f(2),\ldots,f(n)).$$

$A$を任意の集合とする. 函数$f\taking\ul{n}\to A$は列$$f=(f(1),f(2),\ldots,f(n)).$$として書くことができる.

\begin{exercise}\label{exc:sequence}~
%\sexc Let $A=\{a,b,c,d\}$. If $f\taking\ul{10}\to A$ is given by $(a,b,c,c,b,a,d,d,a,b)$, what is $f(4)$?
%\next Let $s\taking\ul{7}\to\NN$ be given by $s(i)=i^2$. Write $s$ out as a sequence.
%\endsexc
\sexc $A=\{a,b,c,d\}$とする. もし$f\taking\ul{10}\to A$が$(a,b,c,c,b,a,d,d,a,b)$で与えられたならば, $f(4)$はどうなるか? 
\next $s\taking\ul{7}\to\NN$が$s(i)=i^2$で与えられるとする. $s$を列として書き下せ.
\endsexc
\end{exercise}

%\begin{definition}[Cardinality of finite sets]\label{def:cardinality}
\begin{definition}[有限集合の濃度(Cardinality)]\label{def:cardinality}

%Let $A$ be a set and $n\in\NN$ a natural number. We say that $A$ is {\em has cardinality $n$}\index{cardinality}, denoted $$|A|=n,$$ if there exists an isomorphism of sets $A\iso\ul{n}$. If there exists some $n\in\NN$ such that $A$ has cardinality $n$ then we say that $A$ is {\em finite}. Otherwise, we say that $A$ is {\em infinite} and write $|A|\geq\infty$.

$A$を集合とし$n\in\NN$を自然数とする. 集合間の同型写像$A\iso\ul{n}$が存在するならば, $A$の\emph{濃度(cardinality)は$n$}\index{cardinality}であると言い, $$|A|=n,$$と書く. もし$A$の濃度が$n$である$n\in\NN$が存在するならば$A$は\emph{有限である}と言う. そうでなければ, $A$は\emph{無限である}と言い, $|A|\geq\infty$と書く.

\end{definition}

\begin{exercise}~
%\sexc Let $A=\{5,6,7\}$. What is $|A|$? 
%\next What is $|\NN|$? 
%\next What is $|\{n\in\NN\|n\leq 5\}|$?
%\endsexc
\sexc $A=\{5,6,7\}$とする. $|A|$はどうなるか?
\next $|\NN|$はどうなるか? 
\next $|\{n\in\NN\|n\leq 5\}|$はどうなるか?
\endsexc
\end{exercise}

\begin{lemma}

%Let $A$ and $B$ be finite sets. If there is an isomorphism of sets $f\taking A\to B$ then the two sets have the same cardinality, $|A|=|B|$.

$A$と$B$を有限集合とする. もし集合間の同型写像$f\taking A\to B$が存在したならば, 二つの集合は同じ濃度を持つ, すなわち$|A|=|B|$である.

\end{lemma}

\begin{proof}

%Suppose $f\taking A\to B$ is an isomorphism. If there exists natural numbers $m,n\in\NN$ and isomorphisms $a\taking\ul{m}\To\iso A$ and $b\taking\ul{n}\To\iso B$ then $\ul{m}\To{a^\m1}A\To{f}B\To{b}\ul{n}$ is an isomorphism. One can prove by induction that the sets $\ul{m}$ and $\ul{n}$ are isomorphic if and only if $m=n$. 

$f\taking A\to B$が同型写像であると仮定する. もし自然数$m,n\in\NN$が存在して同型写像$a\taking\ul{m}\To\iso A$および$b\taking\ul{n}\To\iso B$が存在するならば, $\ul{m}\To{a^\m1}A\To{f}B\To{b}\ul{n}$も同型写像である. 帰納法により, 集合$\ul{m}$と$\ul{n}$が同型であるのは$m=n$である時かつその時に限られることが証明できる.

\end{proof}


%%%%%% Section %%%%%%

%\section{Commutative diagrams}\label{sec:comm diag}
\section{可換図式}\label{sec:comm diag}
%\addtocounter{subsection}{1}\setcounter{subsubsection}{0}

%At this point it is difficult to precisely define diagrams or commutative diagrams in general, but we can give the heuristic idea.
%\footnote{We will define commutative diagrams precisely in Section \ref{sec:diagrams in a category}.}
%Consider the following picture: 
%\begin{align}\label{dia:triangle}
%\xymatrix{A\ar[r]^f\ar[rd]_h&B\ar[d]^g\\&C}
%\end{align}
%We say this is a {\em diagram of sets}\index{diagram!in $\Set$} if each of $A,B,C$ is a set and each of $f,g,h$ is a function. We say this diagram {\em commutes}\index{commuting diagram}\index{diagam!commutes} if $g\circ f = h$. In this case we refer to it as a commutative triangle of sets.

この段階では, 図式(diagram)あるいは可換図式(commutative diagram)を正確に定義するのは一般には難しいが, 
heuristicな考えを与えることならばできる.
\footnote{我々は第\ref{sec:diagrams in a category}章で可換図式を正確に定義することになる.}
次の絵を考える.
\begin{align}\label{dia:triangle}
\xymatrix{A\ar[r]^f\ar[rd]_h&B\ar[d]^g\\&C}
\end{align}
$A,B,C$が集合で$f,g,h$が函数であるとき, 我々はこれを\emph{集合の図式(diagram of sets)}\index{diagram!in $\Set$}と言う. もし$g\circ f = h$であるならば, この図式は\emph{可換である(commutes)}\index{commuting diagram}\index{diagam!commutes}と言う. 可換な場合の上図を, 我々は集合の可換三角形として参照する.

\begin{application}

%\href{http://en.wikipedia.org/wiki/Central_dogma_of_molecular_biology}{\text The central dogma of molecular biology} is that ``DNA codes for RNA codes for protein". That is, there is a function from DNA triplets to RNA triplets and a function from RNA triplets to amino acids. But sometimes we just want to discuss the translation from DNA to amino acids, and this is the composite of the other two. The commutative diagram is a picture of this fact.

\href{http://en.wikipedia.org/wiki/Central_dogma_of_molecular_biology}{分子生物学のセントラルドグマ}は``DNAはRNAを符号化しRNAはたんぱく質を符号化する''. これは, DNAの三つ組からRNAの三つ組への函数と, RNAの三つ組からアミノ酸への函数が存在しているということである. しかし, DNAからアミノ酸への変換だけを議論したいこともしばしばある. そしてこれは二つの函数の合成である. 可換図式はこの事実に関する絵である.

\end{application}

%Consider the following picture:
%$$\xymatrix{A\ar[r]^f\ar[d]_h&B\ar[d]^g\\C\ar[r]_i&D}$$
%We say this is a {\em diagram of sets} if each of $A,B,C,D$ is a set and each of $f,g,h,i$ is a function. We say this diagram {\em commutes} if $g\circ f=i\circ h$. In this case we refer to it as a commutative square of sets.

次の絵を考える.
$$\xymatrix{A\ar[r]^f\ar[d]_h&B\ar[d]^g\\C\ar[r]_i&D}$$
$A,B,C,D$が集合であり$f,g,h,i$が函数であるとき, 我々はこれを\emph{集合の図式}と言う. もし$g\circ f=i\circ h$であるならば, この図式は\emph{可換である}と言う. 可換な場合の上図を, 我々は集合の可換四角形として参照する.

\begin{application}

%Given a physical system $S$, there may be two mathematical approaches $f\taking S\to A$ and $g\taking S\to B$ that can be applied to it. Either of those results in a prediction of the same sort, $f'\taking A\to P$ and $g'\taking B\to P$. For example, in \href{http://en.wikipedia.org/wiki/Hamiltonian_mechanics#As_a_reformulation_of_Lagrangian_mechanics}{\text mechanics} we can use either Lagrangian approach or the Hamiltonian approach to predict future states. To say that the diagram 
%$$
%\xymatrix{S\ar[r]\ar[d]&A\ar[d]\\B\ar[r]&P}
%$$
%commutes would say that these approaches give the same result.

物理系$S$が与えられたとき, 適用できる数学的な取り組み方に$f\taking S\to A$と$g\taking S\to B$という二種類があるかもしれない. そのどちらからも, 同じ種類の予言が得られる. すなわち$f'\taking A\to P$と$g'\taking B\to P$. 例えば
\href{http://en.wikipedia.org/wiki/Hamiltonian_mechanics#As_a_reformulation_of_Lagrangian_mechanics}{力学}において, 未来の状態を予言するために我々はLagrangian形式とHamiltonian形式のどちらかを使うことができる. 図式
$$
\xymatrix{S\ar[r]\ar[d]&A\ar[d]\\B\ar[r]&P}
$$
は可換であると言えるならば, どちらの方法をとっても同じ結果が得られることが言えるだろう.

\end{application}

%And so on. Note that diagram (\ref{dia:triangle}) is considered to be the same diagram as each of the following:
%$$
%\xymatrix{A\ar[r]^f\ar[d]_h&B\ar[dl]^g\\C}\hspace{.8in}
%\xymatrix{A\ar[r]^f\ar@/_1pc/[rr]_h&B\ar[r]^g&C}\hspace{.8in}
%\xymatrix{B\ar[rd]^g\\&C\\A\ar[ru]_h\ar[uu]^f}$$

以下も同様である. 図式\eqref{dia:triangle}は次のそれぞれと同じ図式であることに注意しよう.
$$
\xymatrix{A\ar[r]^f\ar[d]_h&B\ar[dl]^g\\C}\hspace{.8in}
\xymatrix{A\ar[r]^f\ar@/_1pc/[rr]_h&B\ar[r]^g&C}\hspace{.8in}
\xymatrix{B\ar[rd]^g\\&C\\A\ar[ru]_h\ar[uu]^f}$$


\section{Olog}\label{sec:ologs}\index{olog}

%In this course we will ground the mathematical ideas in applications whenever possible. To that end we introduce ologs, which will serve as a bridge between mathematics and various conceptual landscapes. The following material is taken from \cite{SK}, an introduction to ologs.
%\begin{align}\label{dia:arginine}\fbox{\xymatrixnocompile{\obox{D}{1in}{\rr an amino acid found in dairy}\LAL{dr}{is}&\obox{A}{.5in}{arginine}\ar@{}[dl]|(.3){\checkmark}\ar@{}[dr]|(.3){\checkmark}\LA{r}{has}\LAL{l}{is}\LA{d}{is}&\obox{E}{.9in}{\rr an electrically-charged side chain}\LA{d}{is}\\&\obox{X}{.9in}{an amino acid}\LAL{dl}{has}\LA{dr}{has}\LA{r}{has}&\smbox{R}{a side chain}\\\mebox{N}{an amine group}&&\mebox{C}{a carboxylic acid}}}\end{align}  

この教程では, 我々は数学的なアイデアを可能な限り実際の応用に基づかせようとしている. その目的に沿って, 我々はologを導入する. ologは様々な数学と概念の風景との間への架け橋となる. 以下の題材はologの入門書である\cite{SK}から取っている.
\footnote{訳注: ologは英語で記述されることを前提としているようである. 訳においては, 日本語でologを記述することは試みておらず, また日本語用に文章を置き換えたりもしていない.}
\begin{align}\label{dia:arginine}\fbox{\xymatrixnocompile{\obox{D}{1in}{\rr an amino acid found in dairy}\LAL{dr}{is}&\obox{A}{.5in}{arginine}\ar@{}[dl]|(.3){\checkmark}\ar@{}[dr]|(.3){\checkmark}\LA{r}{has}\LAL{l}{is}\LA{d}{is}&\obox{E}{.9in}{\rr an electrically-charged side chain}\LA{d}{is}\\&\obox{X}{.9in}{an amino acid}\LAL{dl}{has}\LA{dr}{has}\LA{r}{has}&\smbox{R}{a side chain}\\\mebox{N}{an amine group}&&\mebox{C}{a carboxylic acid}}}\end{align}  


%\cite{SGWB}. 
%\newpage
%\newgeometry{left=.7in,right=.4in,top=1.4in,bottom=1.4in}
%\begin{figure}
%\includegraphics[height=7in]{olog--ProteinSocial}
%\caption{This olog, taken from \cite{SGWB}, describes both a particular kind of social network and a particular kind of protein material in terms of the same arrangement of 23 sets and 44 functions. The elements of these sets should be known to the olog's author, but may not be interpretable by an arbitrary reader of the olog; for example, {\bf V}=\fakebox{a real number} should be interpretable by most readers, but it is unlikely that {\bf U}=\fakebox{a building block} is interpretable without reading that paper.}
%\label{fig:protein social olog}
%\end{figure}
%\newgeometry{left=1.6in,right=1.6in,top=1.4in,bottom=1.4in}

%%%% Subsection %%%%

%\subsection{Types}\index{olog!types}
\subsection{型}\index{olog!types}

%A type is an abstract concept, a distinction the author has made.  We represent each type as a box containing a {\em singular indefinite noun phrase.}   Each of the following four boxes is a type: \begin{align}\label{dia:types}\xymatrixnocompile{\fbox{a man}&\fbox{an automobile}\\\obox{}{1.5in}{a pair $(a,w)$, where $w$ is a woman and $a$ is an automobile}&\obox{}{1.5in}{a pair $(a,w)$ where $w$ is a woman and $a$ is a blue automobile owned by $w$}}\end{align}

型(type)は抽象的な概念であり, ologの作者が行なった区分を示す. 我々はそれぞれの型を\emph{不定な(定冠詞をともなわない)単数の名詞句}を含む箱で表現する. 次の四つの箱は型である. \begin{align}\label{dia:types}\xymatrixnocompile{\fbox{a man}&\fbox{an automobile}\\\obox{}{1.5in}{a pair $(a,w)$, where $w$ is a woman and $a$ is an automobile}&\obox{}{1.5in}{a pair $(a,w)$ where $w$ is a woman and $a$ is a blue automobile owned by $w$}}\end{align}

%Each of the four boxes in (\ref{dia:types}) represents a type of thing, a whole class of things, and the label on that box is what one should call {\em each example} of that class.  Thus \fakebox{a man} does not represent a single man, but the set of men, each example of which is called ``a man".  Similarly, the bottom right box represents an abstract type of thing, which probably has more than a million examples, but the label on the box indicates the common name for each such example.  

\eqref{dia:types}の四つの箱はそれぞれ物の型, すなわち物の種類の全てを表しており, 箱の上の見出しはその種類の\emph{例の一つ}と呼ばれるべきものである. それゆえに, \fakebox{a man}は一人の男性(man)を示しているわければなく, その例の一つが``a man''と呼ばれるであろう男性の集合を表わしている. 同様に右下の箱は抽象的の物---百万以上の例がありうるだろう---の型を示しており, 箱の見出しはそれぞれの個々の例をまとめた一般的な名前を示している.

%Typographical problems emerge when writing a text-box in a line of text, e.g. the text-box \fbox{a man} seems out of place here, and the more in-line text-boxes there are, the worse it gets.  To remedy this, I will denote types which occur in a line of text with corner-symbols; e.g. I will write \fakebox{a man} instead of \fbox{a man}.

一行の中に文章が入った箱を書くときには組版上の問題が生じてくる. 例えば\fbox{a man}という文章が入った箱はここであるべき場所からはみだしているように見えるし, 文書が入った箱がもっとたくさん本文中にある場合には状況はますます悪くなる. これを直すために, 本文中では上隅の鉤の記号をともなった文書で型を示すことにする. 例えば, \fbox{a man}の代わりに\fakebox{a man}と書く.

%% Subsubsection %%

%\subsubsection{Types with compound structures}
\subsubsection{複合的な構造を持つ型}

%Many types have compound structures; i.e. they are composed of smaller units.  Examples include \begin{align}\label{dia:compound}\xymatrixnocompile{\obox{}{.7in}{\rr a man and a woman}&\obox{}{1.3in}{\rr a food portion $f$ and a child $c$ such that $c$ ate all of $f$}&\labox{}{a triple $(p,a,j)$ where $p$ is a paper, $a$ is an author of $p$, and $j$ is a journal in which $p$ was published}}\end{align}  It is good practice to declare the variables in a ``compound type", as I did in the last two cases of (\ref{dia:compound}).  In other words, it is preferable to replace the first box above with something like $$\obox{}{.8in}{a man $m$ and a woman $w$}\hsp\tn{or}\hsp\obox{}{1.1in}{\rr a pair $(m,w)$ where $m$ is a man and $w$ is a woman}$$ so that the variables $(m,w)$ are clear.

多くの型は複合的な構造を持つ. i.e. それらはより小さな単位から構成されている. 例としては, 以下のようなものがある. \begin{align}\label{dia:compound}\xymatrixnocompile{\obox{}{.7in}{\rr a man and a woman}&\obox{}{1.3in}{\rr a food portion $f$ and a child $c$ such that $c$ ate all of $f$}&\labox{}{a triple $(p,a,j)$ where $p$ is a paper, $a$ is an author of $p$, and $j$ is a journal in which $p$ was published}}\end{align} \eqref{dia:compound}の後半二つの例で行なっているように, ``複合的な型''では変数(variable)を宣言するのがよい習慣である. 言いかえれば, 上記の例での最初の箱は$$\obox{}{.8in}{a man $m$ and a woman $w$}\hsp\tn{or}\hsp\obox{}{1.1in}{\rr a pair $(m,w)$ where $m$ is a man and $w$ is a woman}$$のように置き換えるのがよい. これは変数$(m,w)$を明確にするためである.

\begin{rules}\label{rules:types}\index{olog!rules}

%A type is presented as a text box.  The text in that box should 
%\begin{enumerate}[(i)]
%\item begin with the word ``a" or ``an";
%\item refer to a distinction made and recognizable by the olog's author;
%\item refer to a distinction for which instances can be documented;
%\item declare all variables in a compound structure. 
%\end{enumerate}

型は文章が入った箱で表現される. 箱の中の文章は以下の規則を守ることが望ましい.
\begin{enumerate}[(i)]
\item 不定冠詞``a''か``an''で始まるべし.
\item ologの作者がなしている区分と認識を反映しているべし.
\item 区分を目的として事例を説明文章化できる, そのような区分の仕方を反映すべし.
\item 複合的な構造を持っている場合は全ての変数を宣言するべし.
\end{enumerate}

\end{rules}

%The first, second, and third rules ensure that the class of things represented by each box appears to the author as a well-defined set.  The fourth rule encourages good ``readability" of arrows, as will be discussed next in Section \ref{sec:aspects}.  

一番目, 二番目, そして三番目の規則は, それぞれの箱が表現している物の種類が, well-definedな集合として作者には見えていることを保証している. 四番目の規則は矢印の''読み易さ(readability)''が高くあるべきということを推奨している. それについては次の\ref{sec:aspects}章で議論しよう.

%I will not always follow the rules of good practice throughout this document.  I think of these rules being followed ``in the background" but that I have ``nicknamed" various boxes.  So \fakebox{Steve} may stand as a nickname for \fakebox{a thing classified as Steve} and \fakebox{arginine} as a nickname for \fakebox{a molecule of arginine}. However, when pressed, one should always be able to rename each type according to the rules of good practice.

我々はこの文書全体を通して常にこのよき実践のための規則に従うわけではない. これらの規則は``背後では''守られているべきではあると思うが, しかしながら``別名を持つ''様々な箱も使うことにする. だから\fakebox{Steve}は\fakebox{a thing classified as Steve}の別名として, \fakebox{arginine}は\fakebox{a molecule of arginine}の別名として理解されるだろう. しかしながら, 求められた際には, 常によき実践のための規則に従って, それぞれの型を改名できてしかるべきだ.

%%%% Subsection %%%%

%\subsection{Aspects}\label{sec:aspects}\index{olog!aspects}
\subsection{様相}\label{sec:aspects}\index{olog!aspects}

%An aspect of a thing $x$ is a way of viewing it, a particular way in which $x$ can be regarded or measured.  For example, a woman can be regarded as a person; hence ``being a person" is an aspect of a woman.  A molecule has a molecular mass (say in daltons), so ``having a molecular mass" is an aspect of a molecule.  In other words, by {\em aspect} we simply mean a function. The domain $A$ of the function $f\taking A\to B$ is the thing we are measuring, and the codomain is the set of possible ``answers" or results of the measurement. 
%\begin{align}\label{dia:aspect 1}\xymatrixnocompile{\fbox{a woman}\LA{r}{is}&\fbox{a person}}\end{align}\begin{align}\label{dia:aspect 2}\xymatrixnocompile{\fbox{a molecule}\LA{rr}{has as molecular mass (Da)}&\hspace{.7in}&\fbox{a positive real number}}\end{align}

物$x$の様相(aspect)はそれを見方であり, $x$をそうであると見なしたりそれを通じて評価したりする具体的な方法である. 例えば女性(a woman)は人間(a person)であるとみなすことができる. それゆえに``人間である''は女性の様相である. 分子(a molecule)は分子質量(a molecular mass, 単位はダルトン)を持ち, よって``分子質量を持つ''は分子の様相である. 言いかえれば, 我々は\emph{様相}を単純に函数の意味で使う. 函数$f\taking A\to B$の始域$A$は我々が測定する物であり, 終域はありうる``答え''あるいは測定結果の集合である.
\begin{align}\label{dia:aspect 1}\xymatrixnocompile{\fbox{a woman}\LA{r}{is}&\fbox{a person}}\end{align}\begin{align}\label{dia:aspect 2}\xymatrixnocompile{\fbox{a molecule}\LA{rr}{has as molecular mass (Da)}&\hspace{.7in}&\fbox{a positive real number}}\end{align}

%So for the arrow in (\ref{dia:aspect 1}), the domain is the set of women (a set with perhaps 3 billion elements); the codomain is the set of persons (a set with perhaps 6 billion elements).   We can imagine drawing an arrow from each dot in the ``woman" set to a unique dot in the ``person" set, just as in (\ref{dia:setmap}).  No woman points to two different people, nor to zero people --- each woman is exactly one person --- so the rules for a function are satisfied.  Let us now concentrate briefly on the arrow in (\ref{dia:aspect 2}).  The domain is the set of molecules, the codomain is the set $\RR_{>0}$ of positive real numbers.  We can imagine drawing an arrow from each dot in the ``molecule" set to a single dot in the ``positive real number" set.  No molecule points to two different masses, nor can a molecule have no mass: each molecule has exactly one mass.  Note however that two different molecules can point to the same mass.

よって\eqref{dia:aspect 1}での矢印にとって, 始域は女性の集合(おそらく30億の要素がある集合)であり, 終域は人間の集合(おそらく60億の要素がある集合)である. 我々は, \eqref{dia:setmap}でやったのと同じように, ``女性(woman)''の集合の中のそれぞれの点から``人間(person)''の集合の中の一意な点に矢印を描くことを想像できる. いかなる女性からでる矢印も二人の異なった人間を指すことはないし, またどの人間も指さないということもない---それぞれの女性は正確に一人の人間である---だから函数であるための規則は満たされている. 次は, \eqref{dia:aspect 2}での矢印にしばし着目してみよう. 始域は分子の集合であり, 終域は正の実数からなる集合$\RR_{>0}$である. 我々は``分子(molecule)''の集合の中のそれぞれの点から``正の実数(positive real number)''の集合の中の一点に矢印を描くことを想像することができる. どの分子も異なった二つの質量を指し示すことはないし, また分子が質量を持たないということもありえない. それぞれの分子は正確に一つだけ質量を持つ. しかしながら二つの異なった分子が同じ質量を指し示すことがありうることに注意しよう.

%% Subsubsection %%

%\subsubsection{Invalid aspects}\label{sec:invalid aspect}\index{olog!invalid aspects}
\subsubsection{無効な様相}\label{sec:invalid aspect}\index{olog!invalid aspects}

%I tried above to clarify what it is that makes an aspect ``valid", namely that it must be a ``functional relationship."  In this subsection I will show two arrows which on their face may appear to be aspects, but which on closer inspection are not functional (and hence are not valid as aspects).  
 
これまでのところ, 著者はある様相が``有効(valid)''であるのは何によってかということを明確にしようとしてきた. それはすなわち``函数としての関係''でなければならないという点である. この小節では, その表向きは一見したところ様相に見えるものの, より細やかな精査の上では函数ではない(それゆえに有効な様相ではない)二本の矢印を示すことにしよう.
 
%Consider the following two arrows:
%\begin{align}\tag{\arabic{subsection}.\arabic{equation}*}\addtocounter{equation}{1}\label{dia:invalid 1}
%\xymatrixnocompile{\fbox{a person}\LA{r}{has}&\fbox{a child}}
%\end{align}
%\vspace{-.13in}
%\begin{align}\tag{\arabic{subsection}.\arabic{equation}*}\addtocounter{equation}{1}\label{dia:invalid 2}
%\xymatrixnocompile{\fbox{a mechanical pencil}\LA{r}{uses}&\fbox{a piece of lead}}
%\end{align}  
%A person may have no children or may have more than one child, so the first arrow is invalid: it is not a function.  Similarly, if we drew an arrow from each mechanical pencil to each piece of lead it uses, it would not be a function.

以下の二本の矢印を考えよう.
\begin{align}\tag{\arabic{subsection}.\arabic{equation}*}\addtocounter{equation}{1}\label{dia:invalid 1}
\xymatrixnocompile{\fbox{a person}\LA{r}{has}&\fbox{a child}}
\end{align}
\vspace{-.13in}
\begin{align}\tag{\arabic{subsection}.\arabic{equation}*}\addtocounter{equation}{1}\label{dia:invalid 2}
\xymatrixnocompile{\fbox{a mechanical pencil}\LA{r}{uses}&\fbox{a piece of lead}}
\end{align}  
ある人間は子供を持たないかもしれないし, あるいは一人よりも多くの子供を持つかもしれない. よって最初の矢印は無効である. それは函数ではない. 同様に, もし我々がそれぞれのシャープペンシル(mechanical pencil)からそれが使用している芯に矢印を書くことができたのであるのならば, それが函数ではないことが分かるだろう.

\begin{warning}\label{warn:worldview}\index{a warning!different worldviews}

%The author of an olog has a world-view, some fragment of which is captured in the olog.  When person A examines the olog of person B, person A may or may not ``agree with it."  For example, person B may have the following olog $$\fbox{\xymatrix{&\fbox{a marriage}\LA{dr}{ includes}\LAL{dl}{includes }\\\fbox{a man}&&\fbox{a woman}}}$$ which associates to each marriage a man and a woman.  Person A may take the position that some marriages involve two men or two women, and thus see B's olog as ``wrong."  Such disputes are not ``problems" with either A's olog or B's olog, they are discrepancies between world-views.  Hence, throughout this paper, a reader R may see a displayed olog and notice a discrepancy between R's world-view and my own, but R should not worry that this is a problem.  This is not to say that ologs need not follow rules, but instead that the rules are enforced to ensure that an olog is structurally sound, rather than that it ``correctly reflects reality," whatever that may mean.

ologの作者はなんらかの世界観(world-view)を持っており, olongの中にはその一片が捉えられている. ある人物Aが人物Bによるologを検査するとき, 人物Aはそれを``認める''ことがあったりなかったりするだろう. 例えば, 人物Bは以下のolog$$\fbox{\xymatrix{&\fbox{a marriage}\LA{dr}{ includes}\LAL{dl}{includes }\\\fbox{a man}&&\fbox{a woman}}}$$を持っているかもしれない. これはそれぞれの結婚をある男性とある女性に関連付けている. 人物Aは結婚は二人の男性あるいは二人の女性によることもあるという立場を取っており, それゆえにBのologは``悪い''ものと受けとめるかもしれない. このような論争はAのologあるいはBのologにおける``問題点''ではなく, 世界観の間の矛盾である. それゆえに, この文章を通して, 読者Rは表示されたologを見てRの世界観と著者のそれとの間の矛盾に気付くかもしれないが, しかしRはそのことを問題ではないかと気に病むべきではない. これはologが規則に従わなくてもよいと言っているのではない. 規則が課されているのは, それが何を意味しているのであれ``現実を正確に反映する''ためではなく, むしろologが構造的に健全であることを保証するためである.

%Consider the aspect $\fakebox{an object}\Too{\tn{has}}\fakebox{a weight}$. At some point in history, this would have been considered a valid function. Now we know that the same object would have a different weight on the moon than it has on earth. Thus as world-views change, we often need to add more information to our olog. Even the validity of $\fakebox{an object on earth}\Too{\tn{has}}\fakebox{a weight}$ is questionable. However to build a model we need to choose a level of granularity and try to stay within it, or the whole model evaporates into the nothingness of truth!

様相$\fakebox{an object}\Too{\tn{has}}\fakebox{a weight}$を考える. 歴史上のある時点では, これは有効な函数であったであろう. 今や我々は同じ物体でも月の上と地球の上では異なる重さを持つであろうことを知っている. それゆえに世界観の変化に従って我々はしばしばologにさらなる情報を加える必要が出てくる. $\fakebox{an object on earth}\Too{\tn{has}}\fakebox{a weight}$の有効性でさえも疑問である. しかし, 模型を構築するにあたって我々は粒度の水準を選びその中に留まろうとする必要がある. そうでなければ, 全ての模型はなんの真実もない虚無へと霧散してしまう.

\end{warning}

\begin{remark}

%In keeping with Warning \ref{warn:worldview}, the arrows (\ref{dia:invalid 1}) and (\ref{dia:invalid 2}) may not be wrong but simply reflect that the author has a strange world-view or a strange vocabulary.  Maybe the author believes that every mechanical pencil uses exactly one piece of lead.  If this is so, then $\fakebox{a mechanical pencil}\To{\tn{uses}}\fakebox{a piece of lead}$ is indeed a valid aspect!   Similarly, suppose the author meant to say that each person {\em was once} a child, or that a person has an inner child.  Since every person has one and only one inner child (according to the author), the map $\fakebox{a person}\To{\tn{has as inner child}}\fakebox{a child}$ is a valid aspect.  We cannot fault the olog if the author has a view, but note that we have changed the name of the label to make his or her intention more explicit.

Warning \ref{warn:worldview}を念頭に置くと, \eqref{dia:invalid 1}および\eqref{dia:invalid 2}の矢印は悪いものではなく, 作者が奇妙な世界観あるいは奇妙な語彙を持っているということの単純な反映なのであろう. おそらく作者は全てのシャープペンシルは正確に一本だけの芯を使うものだと信じているのだろう. もしそうであるならば, $\fakebox{a mechanical pencil}\To{\tn{uses}}\fakebox{a piece of lead}$は実際に有効な様相となる! 同様に, 全ての人間は\emph{一度は}子供である, あるいはある人間は内なる子(inner child)を持っているということを, 作者が言おうと意図していると仮定してみよう. (このologの作者によると)全ての人間は内なる子をただ一人だけ持つから, 写像$\fakebox{a person}\To{\tn{has as inner child}}\fakebox{a child}$は有効な様相である. ologの作者が世界観を持っているならば, 我々はologを非難することはできない. しかし, 作者の意図するところをより明示的にするために, 我々は見出しの名前は変えている.

\end{remark}

%% Subsubsection %%

%\subsubsection{Reading aspects and paths as English phrases}
\subsubsection{英語の句として様相と経路を読む}

%Each arrow (aspect) $X\To{f} Y$ can be read by first reading the label on its source box (domain of definition) $X$, then the label on the arrow $f$, and finally the label on its target box (set of values) $Y$.  For example, the arrow \begin{align}\label{dia:first author}\fbox{\xymatrixnocompile{\smbox{}{a book}\LA{rrr}{has as first author}&&&\smbox{}{a person}}}\end{align} is read ``a book has as first author a person".  

それぞれの矢印(様相)$X\To{f} Y$は, 最初に出発元の箱の見出し(定義の始域)$X$を読み, 次に矢印$f$の見出しを読み, 最後にその到着先の箱の見出し(値の集合)$Y$を読むことによって, (英語の)文として読むことができる. 例えば, 矢印\begin{align}\label{dia:first author}\fbox{\xymatrixnocompile{\smbox{}{a book}\LA{rrr}{has as first author}&&&\smbox{}{a person}}}\end{align}は``a book has as first author a person''と読むことができる.

\begin{remark}

%Note that the map in (\ref{dia:first author}) is a valid aspect, but that a similarly benign-looking map $\fakebox{a book}\To{\tn{has as author}}\fakebox{a person}$ would not be valid, because it is not functional.  The authors of an olog must be vigilant about this type of mistake because it is easy to miss and it can corrupt the olog.

\eqref{dia:first author}での写像は有効な様相であるが, よく似ていて一見害はなさそうに見える写像$\fakebox{a book}\To{\tn{has as author}}\fakebox{a person}$は函数的ではなく, それゆえに有効ではないことに注意しよう. この種の間違いは非常に犯しやすくかつologを破壊するものであるから, ologの作者は必ず警戒しなければならない.

\end{remark}

%Sometimes the label on an arrow can be shortened or dropped altogether if it is obvious from context.  We will discuss this more in Section \ref{sec:facts} but here is a common example from the way I write ologs. \begin{align}\label{dia:pair of integers}\fbox{\xymatrixnocompile{&\obox{A}{1.2in}{\rr a pair $(x,y)$ where $x$ and $y$ are integers}\ar[dl]_x\ar[dr]^y\\\smbox{B}{an integer}&&\smbox{B}{an integer}}}\end{align}  Neither arrow is readable by the protocol given above (e.g. ``a pair $(x,y)$ where $x$ and $y$ are integers $x$ an integer" is not an English sentence), and yet it is obvious what each map means.  For example, given $(8,11)$ in $A$, arrow $x$ would yield $8$ and arrow $y$ would yield $11$.  The label $x$ can be thought of as a nickname for the full name ``yields, via the value of $x$," and similarly for $y$.  I do not generally use the full name for fear that the olog would become cluttered with text.

文脈が明らかな場合には, 矢印の上の見出しはしばしば縮められたりあるいは完全に落とされてしまいうる. 我々は\ref{sec:facts}章でさらなる議論を行なうが, ここでは著者がologを書く方法から一般的な例をとりあげよう. \begin{align}\label{dia:pair of integers}\fbox{\xymatrixnocompile{&\obox{A}{1.2in}{\rr a pair $(x,y)$ where $x$ and $y$ are integers}\ar[dl]_x\ar[dr]^y\\\smbox{B}{an integer}&&\smbox{B}{an integer}}}\end{align} どの矢印も上記で与えられた規約によって読むことはできない(e.g. ``a pair $(x,y)$ where $x$ and $y$ are integers $x$ an integer''は英語の文ではない). しかしそれでもそれぞれの写像が何を意味しているかは明らかである. 例えば, $A$の要素として$(8,11)$が与えられたとき, 矢印$x$は$8$をもたらし矢印$y$は$11$をもたらすだろう. 見出し$x$はフルネーム``yields, via the value of $x$''のあだ名と考えることができ, また$y$に関しても同様である. ologが文書まみれで取り散らかる虞れがあるため, 著者は一般的にフルネームを使うことはない.

%One can also read paths through an olog by inserting the word ``which" after each intermediate box.
%\footnote{If the intended elements of an intermediate box are humans, it is polite to use ``who" rather than ``which", and other such conventions may be upheld if one so desires.}
%For example the following olog has two paths of length 3 (counting arrows in a chain): \small\begin{align}\label{olog:paths}\fbox{\xymatrixnocompile{\fbox{a child}\LA{r}{is}&\fbox{a person}\LA{rr}{has as parents}\LAL{dr}{has, as birthday}&&\obox{}{.8in}{\rr a pair $(w,m)$ where $w$ is a woman and $m$ is a man}\LA{r}{$w$}&\fbox{a woman}\\&&\fbox{a date}\LA{r}{includes}&\fbox{a year}}}\end{align}  \normalsize The top path is read ``a child is a person, who has as parents a pair $(w,m)$ where $w$ is a woman and $m$ is a man, which yields, via the value of $w$, a woman."  The reader should read and understand the content of the bottom path, which associates to every child a year.  

ologの中に走る経路は, それぞれの間にある箱の後ろ側に単語``which''を挿入するめによっても英文として読むことができる.
\footnote{間に入る箱の要素として意図されるものが人間であるならば, ``which''ではなくむしろ``who''を使うのが礼儀である. 他のこのような慣習についても, もし望まれるのであるならば是認されよう.}
例えば次のologは長さ3 (連鎖における矢印を数える)の二本の経路を含んでいる. {\small\begin{align}\label{olog:paths}\fbox{\xymatrixnocompile{\fbox{a child}\LA{r}{is}&\fbox{a person}\LA{rr}{has as parents}\LAL{dr}{has, as birthday}&&\obox{}{.8in}{\rr a pair $(w,m)$ where $w$ is a woman and $m$ is a man}\LA{r}{$w$}&\fbox{a woman}\\&&\fbox{a date}\LA{r}{includes}&\fbox{a year}}}\end{align} } 上側の経路は``a child is a person, who has as parents a pair $(w,m)$ where $w$ is a woman and $m$ is a man, which yields, via the value of $w$, a woman.''と読むことができる. きっと読者は下側の経路を読んで内容が理解できるはずである. この経路は全ての子をある年に関連付けている.


%% Subsubsection %%

%\subsubsection{Converting non-functional relationships to aspects}\label{sec:relations}
\subsubsection{函数的でない関係を様相へ変換する}\label{sec:relations}

%There are many relationships that are not functional, and these cannot be considered aspects.  Often the word ``has" indicates a relationship --- sometimes it is functional as in $\fakebox{a person}\To{\tn{ has }}\fakebox{a stomach}$, and sometimes it is not, as in $\fakebox{a father}\To{\tn{has}}\fakebox{a child}$. Obviously, a father may have more than one child. This one is easily fixed by realizing that the arrow should go the other way: there is a function $\fakebox{a child}\To{\tn{has}}\fakebox{a father}$. 

多くの函数的ばない関係が存在しており, それらは様相とみなすことはできない. しばしば単語``has''は関係を示唆している---ある時は$\fakebox{a person}\To{\tn{ has }}\fakebox{a stomach}$でみられるように函数的であるし, またある時は$\fakebox{a father}\To{\tn{has}}\fakebox{a child}$でみられるように函数的ではない. 明らかに, 父親は二人以上の子を持つかもしれない. この図は, 矢印を別の方向に走らせればよいということに気がつくことによって簡単に修正される. 函数$\fakebox{a child}\To{\tn{has}}\fakebox{a father}$があるからだ.

%What about $\fakebox{a person}\To{\tn{owns}}\fakebox{a car}$. Again, a person may own no cars or more than one car, but this time a car can be owned by more than one person too. A quick fix would be to replace it by $\fakebox{a person}\To{\tn{owns}}\fakebox{a set of cars}$.   This is ok, but the relationship between \fakebox{a car} and \fakebox{a set of cars} then becomes an issue to deal with later.  There is another way to indicate such ``non-functional" relationships. In this case it would look like this:
%$$
%\fbox{\xymatrix{&\obox{}{1.15in}{a pair $(p,c)$ where $p$ is a person, $c$ is a car, and $p$ owns $c$.}\ar[ddl]_p\ar[ddr]^c\\\\
%\obox{}{.5in}{a person}&&\obox{}{.3in}{a car}}}
%$$
%This setup will ensure that everything is properly organized. In general, relationships can involve more than two types, and the general situation looks like this $$\fbox{\xymatrixnocompile{&&\fbox{$R$}\ar[ddll]\ar[ddl]\ar[ddr]\\\\\fbox{$A_1$}&\fbox{$A_2$}&\cdots&\fbox{$A_n$}}}$$  For example, $$\fbox{\xymatrixnocompile{&\labox{R}{a sequence $(p,a,j)$ where $p$ is a paper, $a$ is an author of $p$, and $j$ is a journal in which $p$ was published}\ar[ddl]_p\ar[dd]_a\ar[ddr]^j\\\\\smbox{A_1}{a paper}&\smbox{A_2}{an author}&\smbox{A_3}{a journal}}}$$ 

$\fakebox{a person}\To{\tn{owns}}\fakebox{a car}$の場合はどうだろうか. ある人物は一台も車を持っていないかもしれないし二台以上持っているかもしれない. しかしこの場合には, ある車は二人以上の人物に所有されているかもしれない. 手短に修正するならば$\fakebox{a person}\To{\tn{owns}}\fakebox{a set of cars}$で置き換えればよいかもしれない. これはこれでよいが, しかし今度は\fakebox{a car}と\fakebox{a set of cars}との間の関係性が, 後々処理すべき問題となる. このような``函数的ではない''関係性を指示するには他の方法もある. この場合は以下のようになるだろう.
$$
\fbox{\xymatrix{&\obox{}{1.15in}{a pair $(p,c)$ where $p$ is a person, $c$ is a car, and $p$ owns $c$.}\ar[ddl]_p\ar[ddr]^c\\\\
\obox{}{.5in}{a person}&&\obox{}{.3in}{a car}}}
$$
この設定は全てが適切に組織されていることを保証するであろう. 一般に, 関係性には二つ以上の型が関わることがあり, これら一般の状況は以下のように見ることができる
$$\fbox{\xymatrixnocompile{&&\fbox{$R$}\ar[ddll]\ar[ddl]\ar[ddr]\\\\\fbox{$A_1$}&\fbox{$A_2$}&\cdots&\fbox{$A_n$}}}$$ 例えば, $$\fbox{\xymatrixnocompile{&\labox{R}{a sequence $(p,a,j)$ where $p$ is a paper, $a$ is an author of $p$, and $j$ is a journal in which $p$ was published}\ar[ddl]_p\ar[dd]_a\ar[ddr]^j\\\\\smbox{A_1}{a paper}&\smbox{A_2}{an author}&\smbox{A_3}{a journal}}}$$


\begin{exercise}
%On page \pageref{dia:invalid 1} we indicate a so-called invalid aspect, namely 
%\begin{align}\tag{\ref{dia:invalid 1}}\xymatrixnocompile{\fbox{a person}\LA{r}{has}&\fbox{a child}}
%\end{align}
%Create a (valid) olog that captures the parent-child relationship; your olog should still have boxes %\fakebox{a person} and \fakebox{a child} but may have an additional box.
\pageref{dia:invalid 1}で我々はいわゆる無効な様相, すなわち\begin{align}\tag{\ref{dia:invalid 1}}\xymatrixnocompile{\fbox{a person}\LA{r}{has}&\fbox{a child}}\end{align}を指摘した.
両親-子供の関係を捉えた(有効な)ologを作成せよ. 作成されたologは依然\fakebox{a person}および\fakebox{a child}を持っているべきだが, 追加の箱も持っているかもしれない.
\end{exercise}

\begin{rules}\label{rules:aspects}\index{olog!rules}

%An aspect is presented as a labeled arrow, pointing from a source box to a target box.  The arrow text should

様相は, 出発元から到着先を指し示す見出し付けられた矢印として表示される. 矢印の文章は以下を守ることが望ましい.

%\begin{enumerate}[(i)]
%\item begin with a verb;
%\item yield an English sentence, when the source-box text followed by the arrow text followed by the target-box text is read; and
%\item refer to a functional relationship: each instance of the source type should give rise to a specific instance of the target type.
%\end{enumerate}

\begin{enumerate}[(i)]
\item 動詞から始まるべし.
\item 出発元の箱の文書, 矢印の文書, 到着先の箱の文書の順で読んだとき, 英語の文書がもたらされるべし. 
\item 函数的な関係が適用されるべし. すなわち出発元の型の具体例は, 到着先の型のある特定の具体例をもたらすべし.
\end{enumerate}

\end{rules}

%%%% Subsection %%%%

%\subsection{Facts}\label{sec:facts}\index{olog!facts}
\subsection{事実}\label{sec:facts}\index{olog!facts}

%In this section I will discuss facts, which are simply ``path equivalences" in an olog. It is the notion of path equivalences that make category theory so powerful. 

この章では``事実(fact)''について議論したい. ologにおいて事実とは単純に``経路等価性(path equivalences)''である. 経路等価性の概念こそが圏論をかくも強力なものとしている.

%A {\em path}\index{olog!path in} in an olog is a head-to-tail sequence of arrows. That is, any path starts at some box $B_0$, then follows an arrow emanating from $B_0$ (moving in the appropriate direction), at which point it lands at another box $B_1$, then follows any arrow emanating from $B_1$, etc, eventually landing at a box $B_n$ and stopping there. The number of arrows is the {\em length} of the path. So a path of length 1 is just an arrow, and a path of length 0 is just a box. We call $B_0$ the {\em source} and $B_n$ the {\em target} of the path.

ologにおいて\emph{経路(path)}\index{olog!path in}とは矢印の先頭から末尾までの列である. これはすなわち, ある箱から$B_0$から出発する任意の経路は$B_0$を出発し, $B_0$から(適切な方向に向かって)発せられる矢印が直後に続き, その矢印が指すところの他の箱$B_1$に到着し, さらに$B_1$から発せられる任意の矢印が後に続き, これらが繰り返された後, ある箱$B_n$に到着しそこで終了する. 矢印の数は経路の\emph{長さ(length)}である. よって長さ1の経路は単なる矢印であり, 長さ0の経路は単なる箱である. 我々は$B_0$を経路の\emph{源泉(source)}, $B_n$を経路の\emph{標的(target)}と呼ぶことにする.

%Given an olog, the author may want to declare that two paths are equivalent.  For example consider the two paths from $A$ to $C$ in the olog 
%\begin{align}\label{olog:commute}\fbox{\xymatrixnocompile{\smbox{A}{a person}\LA{rr}{has as parents}\LAL{drr}{\parbox{.8in}{has as mother}}&&\obox{B}{.8in}{\rr a pair $(w,m)$ where $w$ is a woman and $m$ is a man}\ar@{}[dll]|(.4){\checkmark}\LA{d}{yields as $w$}\\&&\smbox{C}{a woman}}}\end{align}  We know as English speakers that a woman parent is called a mother, so these two paths $A\to C$ should be equvalent.  A more mathematical way to say this is that the triangle in Olog (\ref{olog:commute}) {\em commutes}. That is, path equivalences are simply commutative diagrams as in Section \ref{sec:comm diag}. In the example above we concisely say ``a woman parent is equivalent to a mother."  We declare this by defining the diagonal map in (\ref{olog:commute}) to be {\em the composition} of the horizontal map and the vertical map. 

ologが与えられた時, 作者は二つの経路が等価であると明確に述べたくなるかもしれない. 例えば, 以下のologでの$A$から$C$への二つの経路を考えてみる.
\begin{align}\label{olog:commute}\fbox{\xymatrixnocompile{\smbox{A}{a person}\LA{rr}{has as parents}\LAL{drr}{\parbox{.8in}{has as mother}}&&\obox{B}{.8in}{\rr a pair $(w,m)$ where $w$ is a woman and $m$ is a man}\ar@{}[dll]|(.4){\checkmark}\LA{d}{yields as $w$}\\&&\smbox{C}{a woman}}}\end{align} 我々は英語話者として女性の親は母と呼ばれることを知っている. よって$A$から$C$への経路は等価であるべきである. より数学的な言い方では, Olog \eqref{olog:commute}は{可換である(commute)}. すなわち, 経路等価性とは
単純に\ref{sec:comm diag}章での可換図式である. 上記の例では我々はconcisely``a woman parent is equivalent to a mother''と言える. これを明確に述べるには, 我々は\eqref{olog:commute}での対角線の写像が水平な写像と垂直な写像の\emph{合成(composition)}として定義するとする.

%I generally prefer to indicate a commutative diagram by drawing a check-mark, $\checkmark$, in the region bounded by the two paths, as in Olog (\ref{olog:commute}).  Sometimes, however, one cannot do this unambiguously on the 2-dimensional page.  In such a case I will indicate the commutative diagrams (fact) by writing an equation.  For example to say that the diagram $$\xymatrix{A\ar[r]^f\ar[d]_h&B\ar[d]^g\\C\ar[r]_i&D}$$ commutes, we could either draw a checkmark inside the square or write the equation $A\;f\;g\simeq A\;h\;i$ above it\index{a symbol!$\simeq$}.
%\footnote{We defined function composition on page \ref{function composition}, but here we're using a different notation.\index{a warning!notation for composition} There we would have said $g\circ f = i\circ h$, which is in the backwards-seeming {\em classical order}.\index{composition!classical order} Category theorists and others often prefer the {\em diagrammatic order}\index{composition!diagrammatic order} for writing compositions, which is $f;g = h;i$. For ologs, we follow the latter because it makes for better English sentences, and for the same reason we add the source object to the equation, writing $A f g \simeq A h i$.}
% Either way, it means that ``$f$ then $g$" is equivalent to ``$h$ then $i$".  

著者は, Olog \eqref{olog:commute}でのように, 二つの経路に囲まれた領域の中にチェックマーク$\checkmark$を描くことによって可換図式をしめす記法を一般的に好んでいる. しかしながら, 二次元的な紙の上では, しばしばこれを曖昧なく行うことが不可能になる. このような場合, 可換図式(事実)を等式の形で示すことにしよう. 例えば, 図式$$\xymatrix{A\ar[r]^f\ar[d]_h&B\ar[d]^g\\C\ar[r]_i&D}$$が可換であると言うために, 我々は四角の中にチェックマークを描くか, あるいは等式$A\;f\;g\simeq A\;h\;i$を図の上に書く\index{a symbol!$\simeq$}.
\footnote{我々は\ref{function composition}ページで函数合成を定義したが, ここでは異なった記法を使っている.\index{a warning!notation for composition} \eqref{function composition}ページの記法では$g\circ f = i\circ h$となったであろう. これは後ろからみていく(backwards-seeming) \emph{古典的な順番(classcal order)}である.\index{composition!classical order} 圏論の理論家を代表とする人々は, 合成を書くときにしばしば\emph{図式的な順序(diagrammatic order)}\index{composition!diagrammatic order}を好む. これは$f;g=h;i$である. ologに対しては, 我々は後者を使う. なぜならば後者はよりよく英文になるからである. 同じ理由で等式に源泉の箱を追加して, $A f g \simeq A h i$と書くことにする.
}
どちらの方法をとっても, 意味するところは``$f$ then $g$''と``$h$ then $i$''は等しいということである..  

%Here is another, more scientific example:
%\begin{align*}
%\fbox{\xymatrix{
%\obox{}{1in}{a DNA sequence}\LA{rr}{is transcribed to}\LAL{drr}{codes for}&\hspace{.1in}&\obox{}{1.1in}{an RNA sequence}\ar@{}[dll]|(.35){\checkmark}\LA{d}{is translated to}\\
%&&\obox{}{.6in}{a protein}}}
%\end{align*}
%Note how this diagram gives us the established terminology for the various ways in which DNA, RNA, and protein are related in this context.

また別の, より科学的な例を挙げる.
\begin{align*}
\fbox{\xymatrix{
\obox{}{1in}{a DNA sequence}\LA{rr}{is transcribed to}\LAL{drr}{codes for}&\hspace{.1in}&\obox{}{1.1in}{an RNA sequence}\ar@{}[dll]|(.35){\checkmark}\LA{d}{is translated to}\\
&&\obox{}{.6in}{a protein}}}
\end{align*}
この図によって, DNA, RNA, タンパク質がこの文脈において関係しているところの様々な面で確立している用語が与えられる.

\begin{exercise}\label{exc:family olog}

%Create an olog for human nuclear biological families that includes the concept of person, man, woman, parent, father, mother, and child. Make sure to label all the arrows, and make sure each arrow indicates a valid aspect in the sense of Section \ref{sec:invalid aspect}. Indicate with check-marks ($\checkmark$) the diagrams that are intended to commute. If the 2-dimensionality of the page prevents a check-mark from being unambiguous, indicate the intended commutativity with an equation.

男性(man), 女性(woman), 親(parent), 父(father), 母(mother), 子(child)という概念を含んだ, 人間の生物的核家族のologを作成せよ. 全ての矢印には見出しがつけられていることを確認し, それぞれの矢印は\ref{sec:invalid aspect}章での意味において有効な様相を表していることを確認せよ. 可換図式を意図した図をチェックマーク($\checkmark$)で示せ. もし曖昧さなくチェックマークをつけることが紙の二次元性のせいでできない場合は意図した可換性を等式で示せ.
\end{exercise}

\begin{example}[Non-commuting diagram]

%In my conception of the world, the following diagram does not commute:
%\begin{align}\label{dia:non-commuting}
%\xymatrixnocompile@=50pt{\obox{}{.5in}{a person}\LA{r}{has as father}\LAL{dr}{lives in}&\obox{}{.4in}{a man}\LA{d}{lives in}\\&\obox{}{.4in}{a city}}
%\end{align}
%The non-commutativity of Diagram (\ref{dia:non-commuting}) does not imply that, in my conception, no person lives in the same city as his or her father. Rather it implies that, in my conception, it is not the case that {\em every} person lives in the same city as his or her father.

著者の世界に関する概念においては, 次の図式は可換ではない.
\begin{align}\label{dia:non-commuting}
\xymatrixnocompile@=50pt{\obox{}{.5in}{a person}\LA{r}{has as father}\LAL{dr}{lives in}&\obox{}{.4in}{a man}\LA{d}{lives in}\\&\obox{}{.4in}{a city}}
\end{align}
図式\eqref{dia:non-commuting}での非可換性は, 著者の概念において, その人の父と同じ都市に住む人物がいないということを含意しているわけではない. そうではなくて, 著者の概念において, \emph{全ての}人物がその人の父と同じ都市に住むとは限らないということを含意している.

\end{example}

\begin{exercise}
%Create an olog about a scientific subject, preferably one you think about often. The olog should have at least five boxes, five arrows, and one commutative diagram. 

科学的な話題, 望ましくは読者がよく考える対象についてのologを作成せよ. 作成するologには最低でも5つの箱, 5本の矢印, そして１つの可換図式を含めること.
\end{exercise}

%% Subsubsection %%

%\subsubsection{A formula for writing facts as English}\index{olog!facts in English}
\subsubsection{英語として事実を書くための公式}\index{olog!facts in English}

%Every fact consists of two paths, say $P$ and $Q$, that are to be declared equivalent. The paths $P$ and $Q$ will necessarily have the same source, say $s$, and target, say $t$, but their lengths may be different, say $m$ and $n$ respectively.
%\footnote{If the source equals the target, $s=t$, then it is possible  to have $m=0$ or $n=0$, and the ideas below still make sense.} 
%We draw these paths as 
%\begin{align}\label{dia:two paths for equivalence}
%P:&\hsp\xymatrix@=22pt{\LMO{a_0=s}\ar[r]^{f_1}&\LMO{a_1}\ar[r]^{f_2}&\LMO{a_2}\ar[r]^{f_3}&\cdots\ar[r]^{f_{m-1}}&\LMO{a_{m-1}}\ar[r]^{f_m}&\LMO{a_m=t}}\\\nonumber
%Q:&\hsp\xymatrix@=23pt{\LMO{b_0=s}\ar[r]^{g_1}&\LMO{b_1}\ar[r]^{g_2}&\LMO{b_2}\ar[r]^{g_3}&\cdots\ar[r]^{g_{n-1}}&\LMO{b_{n-1}}\ar[r]^{g_n}&\LMO{b_n=t}}
%\end{align}
%Every part $\ell$ of an olog (i.e. every box and every arrow) has an associated English phrase, which we write as $\qt{\ell}$. Using a dummy variable $x$ we can convert a fact into English too. The following general formula is a bit difficult to understand, see Example \ref{ex:English fact}, but here goes. The fact $P\simeq Q$ from (\ref{dia:two paths for equivalence}) can be Englishified as follows:

全ての事実は二つの経路(ここでは$P$と$Q$としよう)からなり, それらが等しいと宣言することにより成立する. 経路$P$と$Q$は同じ源泉($s$としよう)と同じ標的($t$としよう)を持つ必要があるだろう. しかしその長さ(それぞれ$m$と$n$とする)は異なっているかもしれない.
\footnote{源泉と標的が同じ, すなわち$s=t$である場合, $m=0$あるいは$n=0$であることが可能であり, その場合を以下のアイデアは依然として意味を持つ.} 
我々はこれらの経路を
\begin{align}\label{dia:two paths for equivalence}
P:&\hsp\xymatrix@=22pt{\LMO{a_0=s}\ar[r]^{f_1}&\LMO{a_1}\ar[r]^{f_2}&\LMO{a_2}\ar[r]^{f_3}&\cdots\ar[r]^{f_{m-1}}&\LMO{a_{m-1}}\ar[r]^{f_m}&\LMO{a_m=t}}\\\nonumber
Q:&\hsp\xymatrix@=23pt{\LMO{b_0=s}\ar[r]^{g_1}&\LMO{b_1}\ar[r]^{g_2}&\LMO{b_2}\ar[r]^{g_3}&\cdots\ar[r]^{g_{n-1}}&\LMO{b_{n-1}}\ar[r]^{g_n}&\LMO{b_n=t}}
\end{align}
のように描く.
ologの全ての部分$\ell$(i.e. 全ての箱および全ての矢印)は英語の節に関連しており, 我々はその節を$\qt{\ell}$と書く. ダミー変数$x$を使って, 我々は事実を英語に変換することもできる. 以下の一般的な公式を理解するのは少々難しい. しかし\ref{ex:English fact}ではそれが実践されているのを見ることができる. \eqref{dia:two paths for equivalence}での事実$P\simeq Q$は次のようにして英語化することができる.

\begin{align}\label{dia:Englishification}\index{Englishification}
&\tn{Given }x,\qt{s},\tn{ consider the following. We know that }x\tn{ is }\qt{s}, \\
\nonumber&\tn {which } \qt{f_1}\;\qt{a_1}, \tn{ which } \qt{f_2}\;\qt{a_2}, \tn { which }\ldots \; \qt{f_{m-1}}\;\qt{a_{m-1}}, \tn { which } \qt{f_m}\;\qt{t}\\
\nonumber&\tn{that we'll call } P(x).\\
\nonumber&\tn{We also know that }x\tn{ is } \qt{s},\\
\nonumber&\tn {which } \qt{g_1}\;\qt{b_1}, \tn{ which }\qt{g_2}\;\qt{b_2}, \tn { which }\ldots\;\qt{g_{n-1}}\;\qt{b_{n-1}}, \tn { which } \qt{g_n}\;\qt{t}\\
\nonumber&\tn{that we'll call } Q(x).\\
\nonumber&\tn{Fact: whenever }x\tn{ is }``s",\tn{ we will have }P(x)=Q(x).
\end{align}

\begin{example}\label{ex:English fact}

%Consider the olog
%\begin{align}\label{olog:commute2}\fbox{\xymatrixnocompile{\smbox{A}{a person}\LA{rr}{has}\LAL{drr}{\parbox{.8in}{lives in}}&&\obox{B}{.7in}{\rr an address}\ar@{}[dll]|(.4){\checkmark}\LA{d}{is in}\\&&\smbox{C}{a city}}}
%\end{align}
%To put the fact that Diagram \ref{olog:commute2} commutes into English, we first Englishify the two paths: $F$=``a person has an address which is in a city" and $G$=``a person lives in a city". The source of both is $s$=``a person" and the target of both is $t$=``a city".
%write:
%\begin{align*}
%&\tn{Given }x,\tn{a person, consider the following. We know that } x\tn{ is a person,}\\
%&\tn{which has an address, which is in a city}\\
%&\tn{that we'll call } P(x).\\
%&\tn{We also know that }x\tn{ is a person,}\\
%&\tn{which lives in a city}\\
%&\tn{that we'll call } Q(x).\\
%&\tn{Fact: whenever }x\tn{ is a person, we will have }P(x)=Q(x).
%\end{align*}

次のologを考える. 
\begin{align}\label{olog:commute2}\fbox{\xymatrixnocompile{\smbox{A}{a person}\LA{rr}{has}\LAL{drr}{\parbox{.8in}{lives in}}&&\obox{B}{.7in}{\rr an address}\ar@{}[dll]|(.4){\checkmark}\LA{d}{is in}\\&&\smbox{C}{a city}}}
\end{align}
図式\ref{olog:commute2}が交換する事実を英語に落とすために, 我々は最初に二つの経路$F$=``a person has an address which is in a city''および$G$=``a person lives in a city''を英語化する. 両者の源泉は$s$=``a person''であり, 標的は$t$=``a city''である. 書き下すと以下となる.
\begin{align*}
&\tn{Given }x,\tn{a person, consider the following. We know that } x\tn{ is a person,}\\
&\tn{which has an address, which is in a city}\\
&\tn{that we'll call } P(x).\\
&\tn{We also know that }x\tn{ is a person,}\\
&\tn{which lives in a city}\\
&\tn{that we'll call } Q(x).\\
&\tn{Fact: whenever }x\tn{ is a person, we will have }P(x)=Q(x).
\end{align*}

\end{example}

\begin{exercise}
%This olog was taken from \cite{Sp1}.
%\begin{align}\label{dia:phone paths}\xymatrix{&\obox{N}{1in}{a phone number}\LA{rr}{has}&&\obox{C}{.8in}{an area code}\ar@{}[dll]|{\checkmark}\LA{d}{corresponds to}\\\obox{OLP}{1.2in}{an operational landline phone}\LA{ru}{is assigned}\LAL{r}{is}&\obox{P}{1in}{a physical phone}\LAL{rr}{\parbox{.55in}{\scriptsize is currently located in}}&&\obox{R}{.5in}{a region}}
%\end{align} 
%It says that a landline phone is physically located in the region that its phone number is assigned. Translate this fact into English using the formula from \ref{dia:Englishification}.

このologは\cite{Sp1}から取った.
\begin{align}\label{dia:phone paths}\xymatrix{&\obox{N}{1in}{a phone number}\LA{rr}{has}&&\obox{C}{.8in}{an area code}\ar@{}[dll]|{\checkmark}\LA{d}{corresponds to}\\\obox{OLP}{1.2in}{an operational landline phone}\LA{ru}{is assigned}\LAL{r}{is}&\obox{P}{1in}{a physical phone}\LAL{rr}{\parbox{.55in}{\scriptsize is currently located in}}&&\obox{R}{.5in}{a region}}
\end{align} 
これは, 固定電話は電話番号が割り当てられた地域に物理的に設置されていることを言っている. \ref{dia:Englishification}の公式を使って, この事実を英語に翻訳せよ.
\end{exercise}

\begin{exercise}
%In the above olog (\ref{dia:phone paths}), suppose that the box \fakebox{an operational landline phone} is replaced with the box \fakebox{an operational mobile phone}. Would the diagram still commute?
上記のolog\eqref{dia:phone paths}において, \fakebox{an operational landline phone}を\fakebox{an operational mobile phone}で置換したと仮定する. 図式はそれでも可換だろうか?
\end{exercise}

%% Subsubsection %%

\subsubsection{Images}\label{sec:images}\index{olog!images}\index{image!in olog}

%In this section we discuss a specific kind of fact, generated by any aspect. Recall that every function has an image, meaning the subset of elements in the codomain that are ``hit" by the function. For example the function $f(x)=2*x\taking \ZZ\to\ZZ$ has as image the set of all even numbers.

この章では我々は任意の様相から生成される特殊な種類の事実について議論する. 全ての函数は像, すなわち函数が``命中''する, 終域の要素の部分集合を持つことを思いだそう. 例えば函数$f(x)=2*x\taking \ZZ\to\ZZ$は全偶数の集合を像として持つ.

%Similarly the set of mothers arises as is the image of the ``has as mother" function, as shown below 
%$$
%\xymatrix{\obox{P}{.5in}{a person}\LAL{rd}{has}\LA{rr}{$\stackrel{f\taking P\to P}{\tn{has as mother}}$}&&\obox{P}{.5in}{a person}\\
%&\obox{M=\im(f)}{.6in}{a mother}\LAL{ur}{is}\ar@{}[u]|(.6){\checkmark}
%}$$

同様に母(mother)からなる集合は, 函数``has as mother''の像として, 以下に示されるようにして生起する.
$$
\xymatrix{\obox{P}{.5in}{a person}\LAL{rd}{has}\LA{rr}{$\stackrel{f\taking P\to P}{\tn{has as mother}}$}&&\obox{P}{.5in}{a person}\\
&\obox{M=\im(f)}{.6in}{a mother}\LAL{ur}{is}\ar@{}[u]|(.6){\checkmark}
}$$

\begin{exercise}
%For each of the following types, write down a function for which it is the image, or say ``not clearly an image type" 
%\sexc \fakebox{a book}
%\next \fakebox{a material that has been fabricated by a process of type $T$}
%\next \fakebox{a bicycle owner}
%\next \fakebox{a child}
%\next \fakebox{a used book}
%\next \fakebox{an inhabited residence}
%\endsexc
以下の型それぞれについて, それぞれが像となる函数を書き下すか, あるいは``はっきりとは像としての型にならない''ことを述べよ.
\sexc \fakebox{a book}
\next \fakebox{a material that has been fabricated by a process of type $T$}
\next \fakebox{a bicycle owner}
\next \fakebox{a child}
\next \fakebox{a used book}
\next \fakebox{an inhabited residence}
\endsexc
\end{exercise}


%%%%%% Section %%%%%%

%\section{Products and coproducts}\label{sec:prods and coprods in set}
\section{積と余積}\label{sec:prods and coprods in set}

%In this section we introduce two concepts that are likely to be familiar, although perhaps not by their category-theoretic names, product and coproduct. Each is an example of a large class of ideas that exist far beyond the realm of sets.

この章で我々は, 圏論的な名前はそうでもないかもしれないが, おそらくは馴染み深いであろう二つの概念, 積と余積を導入する. それぞれは集合の領域を超えて存在しているアイデアの大きな種類の一つの例となっている.

%%%% Subsection %%%%

%\subsection{Products}\label{sec:products}\index{products!of sets}
\subsection{積}\label{sec:products}\index{products!of sets}

\begin{definition}

%Let $X$ and $Y$ be sets. The {\em product of $X$ and $Y$}, denoted $X\times Y$,\index{a symbol!$\times$} is defined as the set of ordered pairs $(x,y)$ where $x\in X$ and $y\in Y$. Symbolically, $$X\times Y=\{(x,y)\|x\in X,\;\; y\in Y\}.$$ There are two natural {\em projection functions} $\pi_1\taking X\times Y\to X$ and $\pi_2\taking X\times Y\to Y$.\index{projection functions}\index{product!projection functions}
$$\xymatrix@=15pt{&X\times Y\ar[ddr]^{\pi_2}\ar[ddl]_{\pi_1}\\\\X&&Y}$$

$X$と$Y$を集合とする. \emph{$X$と$Y$の積あるいは直積(product of $X$ and $Y$)}を, 順序付きの対の集合$(x,y)$と定義し, $X\times Y$\index{a symbol!$\times$}と書く. ここで$x\in X$および$y\in Y$である. 記号的に書くと$$X\times Y=\{(x,y)\|x\in X,\;\; y\in Y\}$$である. 二つの自然な\emph{射影函数(projection functions)} $\pi_1\taking X\times Y\to X$と$\pi_2\taking X\times Y\to Y$が存在する. \index{projection functions}\index{product!projection functions}
$$\xymatrix@=15pt{&X\times Y\ar[ddr]^{\pi_2}\ar[ddl]_{\pi_1}\\\\X&&Y}$$

\end{definition}

\begin{example}\label{ex:grid1}[Grid of dots]\index{product!as grid}

%Let $X=\{1,2,3,4,5,6\}$ and $Y=\{\clubsuit,\diamondsuit,\heartsuit,\spadesuit\}$. Then we can draw $X\times Y$ as a 6-by-4 grid of dots, and the projections as projections
$X=\{1,2,3,4,5,6\}$および$Y=\{\clubsuit,\diamondsuit,\heartsuit,\spadesuit\}$とする. $X\times Y$は$6\times4$の点の配列として書くことができ, 射影函数は以下の射影となる.
\begin{align}
\parbox{2.9in}{\begin{center}\small $X\times Y$\vspace{-.1in}\end{center}\fbox{
\xymatrix@=10pt{
\LMO{(1,\clubsuit)}&\LMO{(2,\clubsuit)}&\LMO{(3,\clubsuit)}&\LMO{(4,\clubsuit)}&\LMO{(5,\clubsuit)}&\LMO{(6,\clubsuit)}\\
\LMO{(1,\diamondsuit)}&\LMO{(2,\diamondsuit)}&\LMO{(3,\diamondsuit)}&\LMO{(4,\diamondsuit)}&\LMO{(5,\diamondsuit)}&\LMO{(6,\diamondsuit)}\\
\LMO{(1,\heartsuit)}&\LMO{(2,\heartsuit)}&\LMO{(3,\heartsuit)}&\LMO{(4,\heartsuit)}&\LMO{(5,\heartsuit)}&\LMO{(6,\heartsuit)}\\
\LMO{(1,\spadesuit)}&\LMO{(2,\spadesuit)}&\LMO{(3,\spadesuit)}&\LMO{(4,\spadesuit)}&\LMO{(5,\spadesuit)}&\LMO{(6,\spadesuit)}\\
}}}
\parbox{.9in}{
\xymatrix{~\ar[rr]^{\pi_2}&&~}
}
\parbox{.3in}{\begin{center}\small $Y$\vspace{-.1in}\end{center}\fbox{
\xymatrix@=10pt{
\LMO{\clubsuit}\\\LMO{\diamondsuit}\\\LMO{\heartsuit}\\\LMO{\spadesuit}
}}}
\\\nonumber
\parbox{1in}{\hspace{-1.95in}\xymatrix{~\ar[dd]_{\pi_1}\\\\~}}
\\\nonumber
\parbox{2.9in}{\hspace{-1.2in}\fbox{
\xymatrix@=24pt{
\LMO{1}&\LMO{2}&\LMO{3}&\LMO{4}&\LMO{5}&\LMO{6}
}}\begin{center}\hspace{-2.6in}\small$X$\end{center}}
\end{align}

\end{example}

\begin{application}
%A traditional (Mendelian) way to predict the genotype of offspring based on the genotype of its parents is by the use of \href{http://en.wikipedia.org/wiki/Punnett_square}{Punnett squares}. If $F$ is the set of possible genotypes for the female parent and $M$ is the set of possible genotypes of the male parent, then $F\times M$ is drawn as a square, called a Punnett square, in which every combination is drawn. 
親の遺伝子型からその子の遺伝子型を予言するための伝統的な(Mendel的な)方法は, \href{http://en.wikipedia.org/wiki/Punnett_square}{パンネットの方形(Punnett squares)}によるものである. もし$F$が母方の遺伝子型が取りうる集合であり$M$が父方の遺伝子型が取りうる集合であるならば, $F\times M$はパンネットの方形(Punnett squares)と呼ばれる四角形として書くことができ, これによって全ての組み合わせを書くことができる.
\end{application}

\begin{exercise}
%How many elements does the set $\{a,b,c,d\}\times\{1,2,3\}$ have?
集合$\{a,b,c,d\}\times\{1,2,3\}$の要素の数は幾つだろうか?
\end{exercise}

\begin{application}

%Suppose we are conducting experiments about the mechanical properties of materials, as in Application \ref{app:force-extension}. For each material sample we will produce multiple data points in the set $\fakebox{extension}\times\fakebox{force}\iso\RR\times\RR$.

Application \ref{app:force-extension}のような, 物質の力学特性を測定する実験を行なっていると仮定しよう. それぞれの物質サンプルに対して, 集合$\fakebox{extension}\times\fakebox{force}\iso\RR\times\RR$の中のデータ点が複数得られる.

\end{application}

\begin{remark}

%It is possible to take the product of more than two sets as well. For example, if $A,B,$ and $C$ are sets then $A\times B\times C$ is the set of triples, 
%$$A\times B\times C:=\{(a,b,c)\|a\in A, b\in B, c\in C\}.$$

二つ以上の集合の積をとることも可能である. 例えば, $A$, $B$, および$C$を集合としたとき, 
$A\times B\times C$ は三つ組の集合 
$$A\times B\times C:=\{(a,b,c)\|a\in A, b\in B, c\in C\}$$
である.

%This kind of generality is useful in understanding multiple dimensions, e.g. what physicists mean by 10-dimensional space. It comes under the heading of {\em limits}, which we will see in Section \ref{sec:lims and colims in a cat}.

この種の一般性は多次元性, e.g. 物理学者が10次元空間という言葉で意味するところのもの, を理解するのに便利である. これは\ref{sec:lims and colims in a cat}章で見る\emph{極限(limits)}の項目で表れることになる.

\end{remark}

\begin{example}\label{ex:R2}

%Let $\RR$\index{a symbol!$\RR$} be the set of real numbers. By $\RR^2$ we mean $\RR\times\RR$ (though see Exercise \ref{exc:two R2s}). Similarly, for any $n\in\NN$, we define $\RR^n$ to be the product of $n$ copies of $\RR$. 

$\RR$\index{a symbol!$\RR$}を実数の集合とする. $\RR^2$によって, $\RR\times\RR$を意味するとする(Exercise \ref{exc:two R2s}も見よ). 同様に, 任意の$n\in\NN$に対して$\RR^n$を$n$個容易した$\RR$の積であると定義する.

%According to \cite{Pen}, Aristotle seems to have conceived of space as something like $S:=\RR^3$ and of time as something like $T:=\RR$. Spacetime, had he conceived of it, would probably have been $S\times T\iso\RR^4$. He of course did not have access to this kind of abstraction, which was probably due to Descartes. 

\cite{Pen}によると, アリストテレスは空間を$S:=\RR^3$のようなもの, また時間を$T:=\RR$のようなものだと理解していたようである. アリストテレスが理解していたところの時空は, おそらく$S\times T\iso\RR^4$であったであろう. もちろんアリストテレスはこの種の抽象化を利用する手段を持たなかった. この抽象化はおそらくデカルトに帰されるものである.

\end{example}

\begin{exercise}
%Let $\ZZ$ denote the set of integers, and let $+\taking\ZZ\times\ZZ\to\ZZ$ denote the addition function and $\cdot\taking\ZZ\times\ZZ\to\ZZ$ denote the multiplication function. Which of the following diagrams commute?

$\ZZ$が整数の集合を表すとし, $+\taking\ZZ\times\ZZ\to\ZZ$は足し算の函数を, $\cdot\taking\ZZ\times\ZZ\to\ZZ$をかけ算の函数を表すとする. 以下の図式で可換なものはどれか?
\sexc $$\xymatrix{
\ZZ\times\ZZ\times\ZZ\ar[rr]^-{(a,b,c)\mapsto(a\cdot b,a\cdot c)}\ar[d]_{(a,b,c)\mapsto(a+b,c)}&\hsp&\ZZ\times\ZZ\ar[d]^{(x,y)\mapsto x+y}\\
\ZZ\times\ZZ\ar[rr]_{(x,y)\mapsto xy}&&\ZZ}
$$
\next $$
\xymatrix{
\ZZ\ar[rr]^{x\mapsto (x,0)}\ar[drr]_{\id_\ZZ}&&\ZZ\times\ZZ\ar[d]^{(a,b)\mapsto a\cdot b}\\&&\ZZ}
$$
\next$$
\xymatrix{
\ZZ\ar[rr]^{x\mapsto (x,1)}\ar[drr]_{\id_\ZZ}&&\ZZ\times\ZZ\ar[d]^{(a,b)\mapsto a\cdot b}\\&&\ZZ}
$$
\endsexc
\end{exercise}

%% Subsubsection %%

%\subsubsection{Universal property for products}\index{products!universal property of}\index{universal property!products}

\subsubsection{積における普遍的性質}\index{products!universal property of}\index{universal property!products}

%\begin{lemma}[Universal property for product]\label{lemma:up for prod}

\begin{lemma}[積における普遍的性質%
\footnote{訳注: 圏論の文脈では``\emph{universality property}''は多くの``普遍性''と訳される. 一方で自然科学の他の分野では普遍性は``universality''の訳として用いられることも多いため, ここでは普遍的性質と訳すことにした.}%
]\label{lemma:up for prod}

%Let $X$ and $Y$ be sets. For any set $A$ and functions $f\taking A\to X$ and $g\taking A\to Y$, there exists a unique function $A\to X\times Y$ such that the following diagram commutes \footnote{The symbol $\forall$ is read ``for all"; the symbol $\exists$ is read ``there exists", and the symbol $\exists!$ is read ``there exists a unique". So this diagram is intended to express the idea that for any functions $f\taking A\to X$ and $g\taking A\to Y$, there exists a unique function $A\to X\times Y$ for which the two triangles commute.}
%\begin{align}\label{dia:univ prop for products}
%\xymatrix@=15pt{&X\times Y\ar[ldd]_{\pi_1}\ar[rdd]^{\pi_2}\\\\X\ar@{}[r]|{\checkmark}&&Y\ar@{}[l]|{\checkmark}\\\\&A\ar[luu]^{\forall f}\ar[ruu]_{\forall g}\ar@{-->}[uuuu]^{\exists !}}
%\end{align}
%We might write the unique function as $$\prodmap{f}{g}\taking A\to X\times Y.$$

$X$と$Y$を集合とする. 任意の集合$A$と函数$f\taking A\to X$および$g\taking A\to Y$に対して, 以下の図式が可換となる函数$A\to X\times Y$が一意に存在する. \footnote{記号$\forall$は``for all'' (``全ての$\dots$に対して''), 記号$\exists$は``there exists'' (``存在する''), 記号$\exists!$は''there exists a unique'' (``一意に存在する'', あるいは``唯一つだけ存在する'')と読む. よってこの図式は任意の函数$f\taking A\to X$と$g\taking A\to Y$に対して, 二つの三角形が可換となる函数$A\to X\times Y$が一意に存在するというアイデアを表現している.}
\begin{align}\label{dia:univ prop for products}
\xymatrix@=15pt{&X\times Y\ar[ldd]_{\pi_1}\ar[rdd]^{\pi_2}\\\\X\ar@{}[r]|{\checkmark}&&Y\ar@{}[l]|{\checkmark}\\\\&A\ar[luu]^{\forall f}\ar[ruu]_{\forall g}\ar@{-->}[uuuu]^{\exists !}}
\end{align}
我々はこの一意に存在する函数を$$\prodmap{f}{g}\taking A\to X\times Y.$$と書くことがある.

\end{lemma}

\begin{proof}

%Suppose given $f,g$ as above. To provide a function $\ell\taking A\to X\times Y$ is equivalent to providing an element $\ell(a)\in X\times Y$ for each $a\in A$. We need such a function for which $\pi_1\circ \ell=f$ and $\pi_2\circ \ell=g$. An element of $X\times Y$ is an ordered pair $(x,y)$, and we can use $\ell(a)=(x,y)$ if and only if $x=\pi_1(x,y)=f(a)$ and $y=\pi_2(x,y)=g(a)$. So it is necessary and sufficient to define $$\prodmap{f}{g}(a):=(f(a),g(a))$$ for all $a\in A$.

$f$, $g$が上のように与えられたと仮定する. 函数$\ell\taking A\to X\times Y$を与えるということは, それぞれの$a\in A$に対して値$\ell(a)\in X\times Y$を与えることに等しい. 我々は$\pi_1\circ \ell=f$および$\pi_2\circ \ell=g$となる函数を必要としている. $X\times Y$の要素は順序付けられた対$(x,y)$であり, よって我々は, $x=\pi_1(x,y)=f(a)$および$y=\pi_2(x,y)=g(a)$の時かつその時に限り$\ell(a)=(x,y)$を使うことができる. よって全ての$a\in A$に対して$$\prodmap{f}{g}(a):=(f(a),g(a))$$を定義すれば必要かつ十分である.

\end{proof}

\begin{example}[Grid of dots, continued]\label{ex:grid2}

%We need to see the universal property of products as completely intuitive. Recall that if $X$ and $Y$ are sets, say of cardinalities $|X|=m$ and $|Y|=n$ respectively, then $X\times Y$ is an $m\times n$ grid of dots, and it comes with two canonical projections $X\From{\pi_1}X\times Y\To{\pi_2}Y$. These allow us to extract from every grid element $z\in X\times Y$ its column $\pi_1(z)\in X$ and its row $\pi_2(z)\in Y$.

我々は, 積の普遍的性質を完全に直感的に理解できるようになる必要がある. $X$と$Y$が集合であることを思い出し, 濃度をそれぞれ$|X|=m$および$|Y|=n$とすれば, $X\times Y$は$m\times n$の点の格子となり, そして標準射影$X\From{\pi_1}X\times Y\To{\pi_2}Y$が付随する. これらによって, 全ての要素$z\in X\times Y$からその列$\pi_1(z)\in X$および行$\pi_2(z)\in Y$を取り出すことができる.

%Suppose that each person in a classroom picks an element of $X$ and an element of $Y$. Thus we have functions $f\taking C\to X$ and $g\taking C\to Y$. But isn't picking a column and a row the same thing as picking an element in the grid? The two functions $f$ and $g$ induce a unique function $C\to X\times Y$. And how does this function $C\to X\times Y$ compare with the original functions $f$ and $g$? The commutative diagram (\ref{dia:univ prop for products}) sums up the obvious connection. 

教室にいる人間それぞれが$X$の要素と$Y$の要素を選び出すと仮定する. ゆえに我々は函数$f\taking C\to X$と$g\taking C\to Y$を得た. しかし列および行を選び出すのは格子の要素を選ぶのと同じことではないのではなかろうか? 二つの函数$f$および$g$は一意な函数$C\to X\times Y$を誘導する. この函数$C\to X\times Y$は元の函数$f$および$g$と比較するとどうなるだろうか? 可換図式\eqref{dia:univ prop for products}は, その明白なる関係性を要約している.

\end{example}

\begin{example}

%Let $\RR$ be the set of real numbers. The origin in $\RR$ is an element of $\RR$. As you showed in Exercise \ref{exc:generator for set}, we can view this (or any) element of $\RR$ as a function $z\taking\singleton\to\RR$, where $\singleton$ is any set with one element. Our function $z$ ``picks out the origin". Thus we can draw functions 
%$$\xymatrix@=15pt{&\singleton\ar[ddr]^z\ar[ddl]_z\\\\\RR&&\RR}
%$$
%The universal property for products guarantees a function $\singleton\to\RR\times\RR$, which will be the origin in $\RR^2.$

$\RR$を実数の集合とする. $\RR$の起源(origin)は$\RR$の要素である. Exercise \ref{exc:generator for set}で示したように, $\RR$の中のこの(あるいは任意の)要素は$z\taking\singleton\to\RR$と見ることができる. ここで$\singleton$は任意の要素が一つの集合である. 函数$z$は``起源を選び出す''. よって
$$\xymatrix@=15pt{&\singleton\ar[ddr]^z\ar[ddl]_z\\\\\RR&&\RR}
$$
などの函数を書ける. 積の普遍的性質は函数$\singleton\to\RR\times\RR$を保証する. これは$\RR^2$の起源となるだろう.

\end{example}

\begin{remark}

%Given sets $X, Y,$ and $A$, and functions $f\taking A\to X$ and $g\taking A\to Y$, there is a unique function $A\to X\times Y$ that commutes with $f$ and $g$. We call it {\em the induced function $A\to X\times Y$},\index{induced function} meaning the one that arises in light of $f$ and $g$.

集合$X$, $Y$, $A$, 函数$f\taking A\to X$, $g\taking A\to Y$が与えられたとき, $f$と$g$に可換な函数$A\to X\times Y$が一意に存在する. 我々はこの函数を\emph{誘導函数(the induced function) $A\to X\times Y$},\index{induced function}と呼ぶことにする. これが指すものは$f$と$g$を考慮したときに浮かび上がるそれである.

\end{remark}

\begin{exercise}
%For every set $A$ there is some nice relationship between the following three sets: $$\Hom_{\Set}(A,X), \hsp \Hom_\Set(A,Y), \hsp \text{and} \hsp\Hom_\Set(A,X\times Y).$$ What is it?

全ての集合$A$に対して次の三つの集合の間には素敵な関係がある. それは何か?
$$\Hom_{\Set}(A,X), \hsp \Hom_\Set(A,Y), \hsp \text{and} \hsp\Hom_\Set(A,X\times Y).$$

%Hint: Do not be alarmed: this problem is a bit ``recursive" in that you'll use products in your formula.
ヒント: 慌てないこと. この問題は, 式の中で積を使うということを少しだけ繰り返している.

\end{exercise}

\begin{exercise}~
%\sexc Let $X$ and $Y$ be sets. Construct the ``swap map" $s\taking X\times Y\to Y\times X$ using only the universal property for products. If $\pi_1\taking X\times Y\to X$ and $\pi_2\taking X\times Y\to Y$ are the projection functions, write $s$ in terms of the symbols $``\pi_1",``\pi_2", ``(\ ,\ )",$ and $``\circ"$. 
%\next Can you prove that $s$ is a isomorphism using only the universal property for product?
%\endsexc
\sexc $X$と$Y$を集合とする. ``swap map'' $s\taking X\times Y\to Y\times X$を, 積の普遍的性質のみを用いて構成せよ. $\pi_1\taking X\times Y\to X$および$\pi_2\taking X\times Y\to Y$が射影函数であるとして, $s$を記号``$\pi_1$'', ``$\pi_2$'', ``$(\ ,\ )$'', および``$\circ$''を用いて書け. 
\next $s$が同型写像であることを, 積の普遍的性質のみを用いて証明できるだろうか?
\endsexc
\end{exercise}

\begin{example}\label{ex:product to product}
%Suppose given sets $X,X', Y, Y'$ and functions $m\taking X\to X'$ and $n\taking Y\to Y'$. We can use the universal property of products to construct a function $s\taking X\times Y\to X'\times Y'$.  Here's how.

集合$X$, $X'$, $Y$, $Y'$, 函数$m\taking X\to X'$, $n\taking Y\to Y'$が与えられたと仮定する. 我々は積の普遍的性質を用いて函数$s\taking X\times Y\to X'\times Y'$を構成することができる. 以下にその方法を示す.

%The universal property (Lemma \ref{lemma:up for prod}) says that to get a function from any set $A$ to $X'\times Y'$, we need two functions, namely some $f\taking A\to X'$ and some $g\taking A\to Y'$. Here $A=X\times Y$. 

普遍的性質(Lemma \ref{lemma:up for prod})により, 任意の集合$A$から$X'\times Y'$への函数を得るためには. 我々は二種の函数, すなわちなんらかの$f\taking A\to X'$となんらかの$g\taking A\to Y'$を必要とする. ここで$A=X\times Y$である.

%What we have readily available are the two projections $\pi_1\taking X\times Y\to X$ and $\pi_2\taking X\times Y\to Y$. But we also have $m\taking X\to X'$ and $n\taking Y\to Y'$. Composing, we set $f:=m\circ \pi_1$ and $g:=n\circ\pi_2$.
%$$\xymatrix{
%&X'\times Y'\ar[dl]_{\pi_1'}\ar[dr]^{\pi_2'}\\
%X'&&Y'\\
%X\ar[u]^m&&Y\ar[u]_n\\
%&X\times Y\ar[ul]^{\pi_1}\ar[ur]_{\pi_2}\ar@{-->}[uuu]
%}
%$$
%The dotted arrow is often called the {\em product} of $m\taking X\to X'$ and $n\taking Y\to Y'$ and is denoted simply by 
%$$m\times n\taking X\times Y\to X'\times Y'.$$

我々が使用可能なのは二つの射影函数$\pi_1\taking X\times Y\to X$と$\pi_2\taking X\times Y\to Y$である. しかし我々は$m\taking X\to X'$と$n\taking Y\to Y'$も利用できる. 合成して, $f:=m\circ \pi_1$および$g:=n\circ\pi_2$と設定する.
$$\xymatrix{
&X'\times Y'\ar[dl]_{\pi_1'}\ar[dr]^{\pi_2'}\\
X'&&Y'\\
X\ar[u]^m&&Y\ar[u]_n\\
&X\times Y\ar[ul]^{\pi_1}\ar[ur]_{\pi_2}\ar@{-->}[uuu]
}
$$
点線の矢印はしばしば$m\taking X\to X'$と$n\taking Y\to Y'$の\emph{積(product)}と呼ばれ, 簡潔に
$$m\times n\taking X\times Y\to X'\times Y'.$$
と書かれる.

\end{example}

%% Subsubsection %%

%\subsubsection{Ologging products}\label{sec:ologging products}
\subsubsection{Ologと積}\label{sec:ologging products}

%Given two objects $c,d$ in an olog, there is a canonical label $\qt{c\times d}$ for their product $c\times d$, written in terms of the labels $\qt{c}$ and $\qt{d}$. Namely, $$\qt{c\times d}:=\tn{a pair }(x,y)\tn{ where }x\tn{ is }\qt{c}\tn{ and }y\tn{ is }\qt{d}.$$ The projections $c\from c\times d\to d$ can be labeled ``yields, as $x$," and ``yields, as $y$," respectively.

olog内の対象$c$, $d$が与えられたとき, その積$c\times d$に対して, 見出し$\qt{c}$および$\qt{d}$によって書かれる標準見出し(canonical label)$\qt{c\times d}$が存在する. すなわち$$\qt{c\times d}:=\tn{a pair }(x,y)\tn{ where }x\tn{ is }\qt{c}\tn{ and }y\tn{ is }\qt{d}.$$ 射影$c\from c\times d\to d$はそれぞれ``yields, as $x$''および``yields, as $y$''と見出し付けられる.

%Suppose that $e$ is another object and $p\taking e\to c$ and $q\taking e\to d$ are two arrows. By the universal property of products (Lemma \ref{lemma:up for prod}), $p$ and $q$ induce a unique arrow $e\to c\times d$ making the evident diagrams commute. This arrow can be labeled
%\begin{center}
%yields, insofar as it $\qt{p}\;\qt{c}$ and $\qt{q}\;\qt{d}$, 
%\end{center}

$e$が別の対象であり$p\taking e\to c$と$q\taking e\to d$が二本の矢印であると仮定する. 積の普遍的性質(Lemma \ref{lemma:up for prod})により, $p$と$q$は自明に得られる図式を可換にする矢印$e\to c\times d$を一意に誘導する. この矢印は以下のように見出し付けられる.
\begin{center}
yields, insofar as it $\qt{p}\;\qt{c}$ and $\qt{q}\;\qt{d}$, 
\end{center}

\begin{example}

%Every car owner owns at least one car, but there is no obvious function $\fakebox{a car owner}\to\fakebox{a car}$ because he or she may own more than one. One good choice would be the car that the person drives most often, which we'll call his or her primary car. Also, given a person and a car, an economist could ask how much utility the person would get out of the car. From all this we can put together the following olog involving products:
%$$
%\xymatrixnocompile{\obox{O}{.7in}{a car owner}\LAL{dd}{is}\ar[ddrr]_(.35){\parbox{.45in}{\scriptsize owns, as primary,}}\LA{rr}{\parbox{.8in}{\rr\scriptsize yields, insofar as it is a person and owns, as primary, a car,}}&\ar@{}[d]^(.4){\checkmark}&
%\obox{P\times C}{1in}{a pair $(x,y)$ where $x$ is a person and $y$ is a car}\ar@/^1pc/[ddll]^(.7){\tn{yields, as }x,}\LA{dd}{\tn{yields, as }y,}\LA{rr}{\parbox{.7in}{\scriptsize has as associated utility}}&&\obox{V}{.8in}{a dollar value}\\&&\\\obox{P}{.5in}{a person}&&\obox{C}{.4in}{a car}
%}
%$$

全ての自動車保有者は最低一台の自動車を保有しているが, 自明な函数$\fakebox{a car owner}\to\fakebox{a car}$は存在しない. なぜならばその人は二台以上保有しているかもしれないからだ. 一つのよい自動車の選択は, その人が最もよく運転している自動車, 我々がその人の主要な自動車と呼ぶところの自動車であろう. また, 人物と自動車が与えられたとき, その人がその車からどれだけの利便性が得られたかと, 経済学者は問うかもしれない. これら全てから, われわれは積にかかわる以下のologをまとめあげることができる.
$$
\xymatrixnocompile{\obox{O}{.7in}{a car owner}\LAL{dd}{is}\ar[ddrr]_(.35){\parbox{.45in}{\scriptsize owns, as primary,}}\LA{rr}{\parbox{.8in}{\rr\scriptsize yields, insofar as it is a person and owns, as primary, a car,}}&\ar@{}[d]^(.4){\checkmark}&
\obox{P\times C}{1in}{a pair $(x,y)$ where $x$ is a person and $y$ is a car}\ar@/^1pc/[ddll]^(.7){\tn{yields, as }x,}\LA{dd}{\tn{yields, as }y,}\LA{rr}{\parbox{.7in}{\scriptsize has as associated utility}}&&\obox{V}{.8in}{a dollar value}\\&&\\\obox{P}{.5in}{a person}&&\obox{C}{.4in}{a car}
}
$$

\end{example}

%%%% Subsection %%%%

%\subsection{Coproducts}\label{sec:coproducts}\index{coproducts!of sets}
\subsection{余積}\label{sec:coproducts}\index{coproducts!of sets}

\begin{definition}\label{def:coproduct}

%Let $X$ and $Y$ be sets. The {\em coproduct of $X$ and $Y$}, denoted $X\sqcup Y$,\index{a symbol!$\sqcup$} is defined as the ``disjoint union" of $X$ and $Y$, i.e. the set for which an element is either an element of $X$ or an element of $Y$. If something is an element of both $X$ and $Y$ then we include both copies, and distinguish between them, in $X\sqcup Y$. See Example \ref{ex:coproduct}

$X$と$Y$を集合とする. \emph{$X$と$Y$の余積(coproduct of $X$ and $Y$)}を, $X$と$Y$の``直和(disjoint union)''あるいは非交和, i.e. その要素が$X$あるいは$Y$のどちらかの要素である集合と定義し, $X\sqcup Y$,\index{a symbol!$\sqcup$}と書く. もしある要素が$X$と$Y$の両方の要素であるならば, 我々はその両方ともを, お互いを区別できるようにして, $X\sqcup Y$に含めることにする. Example \ref{ex:coproduct}を見よ.

%There are two natural inclusion functions $i_1\taking X\to X\sqcup Y$ and $i_2\taking Y\to X\sqcup Y$.\index{inclusion functions}\index{coproduct!inclusion functions}
%$$\xymatrix@=15pt{X\ar[ddr]_{i_1}&&Y\ar[ddl]^{i_2}\\\\&X\sqcup Y}$$

二つの包含函数(inclusion function) $i_1\taking X\to X\sqcup Y$および$i_2\taking Y\to X\sqcup Y$.\index{inclusion functions}\index{coproduct!inclusion functions}が存在する.
$$\xymatrix@=15pt{X\ar[ddr]_{i_1}&&Y\ar[ddl]^{i_2}\\\\&X\sqcup Y}$$

\end{definition}

\begin{example}\label{ex:coproduct}

%The coproduct of $X:=\{a,b,c,d\}$ and $Y:=\{1,2,3\}$ is $$X\sqcup Y\iso\{a,b,c,d,1,2,3\}.$$ The coproduct of $X$ and itself is $$X\sqcup X\iso\{i_1a,i_1b,i_1c,i_1d,i_2a,i_2b,i_2c,i_2d\}$$ 
%The names of the elements in $X\sqcup Y$ are not so important. What's important are the inclusion maps $i_1,i_2$, which ensure that we know where each element of $X\sqcup Y$ came from.

$X:=\{a,b,c,d\}$と$Y:=\{1,2,3\}$の余積は$$X\sqcup Y\iso\{a,b,c,d,1,2,3\}.$$である. $X$とそれ自身の余積は$$X\sqcup X\iso\{i_1a,i_1b,i_1c,i_1d,i_2a,i_2b,i_2c,i_2d\}$$である.
$X\sqcup Y$の要素の名前はそれほど重要ではない. 重要なことは, $X\sqcup Y$のそれぞれの要素がどこから来たかを知ることができることを保証する, 包含写像$i_1$, $i_2$の存在である.

\end{example}

\begin{example}[Airplane seats\footnote{訳注: ビジネスクラス等の中間的な上級客席は無視するとする.}]\label{ex:airplanes}

\begin{align}\label{dia:airplane}
\xymatrix@=15pt{
\obox{X}{.8in}{an economy-class seat in an airplane}\LAL{ddr}{is}&&\obox{Y}{.7in}{a first-class seat in an airplane}\LA{ddl}{is}\\\\
&\obox{X\sqcup Y}{.7in}{a seat in an airplane}
}
\end{align}

\end{example}

\begin{exercise}
%Would you say that \fakebox{a phone} is the coproduct of \fakebox{a cellphone} and \fakebox{a landline phone}? 
\fakebox{a phone} (電話)は\fakebox{a cellphone} (携帯電話)と\fakebox{a landline phone} (固定電話)の余積と言えるだろうか?
\end{exercise}

\begin{example}[Disjoint union of dots]\label{ex:coprod of dots}

\begin{align}
\parbox{2.4in}{\begin{center}\small $X\sqcup Y$\vspace{-.1in}\end{center}\fbox{
\xymatrix@=15pt{
\LMO{\clubsuit}&\LMO{1}&\LMO{2}&\LMO{3}&\LMO{4}&\LMO{5}&\LMO{6}\\\LMO{\diamondsuit}\\\LMO{\heartsuit}\\\LMO{\spadesuit}
}}}
\parbox{.9in}{
\xymatrix{~&&\ar[ll]_{i_2}~}
}
\parbox{.3in}{\begin{center}\small $Y$\vspace{-.1in}\end{center}\fbox{
\xymatrix@=15pt{
\LMO{\clubsuit}\\\LMO{\diamondsuit}\\\LMO{\heartsuit}\\\LMO{\spadesuit}
}}}
\\\nonumber
\parbox{1in}{\hspace{-1.4in}\xymatrix{~\\\\\ar[uu]_{i_1}}}
\\\nonumber
\parbox{2.1in}{\hspace{-1.3in}\fbox{
\xymatrix@=15pt{
\LMO{1}&\LMO{2}&\LMO{3}&\LMO{4}&\LMO{5}&\LMO{6}
}}\begin{center}\hspace{-2.6in}\small$X$\end{center}}
\end{align}

\end{example}

%% Subsubsection %%

%\subsubsection{Universal property for coproducts}\index{coproducts!universal property of}
\subsubsection{余積の普遍的性質}\index{coproducts!universal property of}

\begin{lemma}[Universal property for coproduct]\label{lemma:up for coprod}

%Let $X$ and $Y$ be sets. For any set $A$ and functions $f\taking X\to A$ and $g\taking Y\to A$, there exists a unique function $X\sqcup Y\to A$ such that the following diagram commutes
%$$
%\xymatrix@=15pt{&A\\\\X\ar[uur]^{\forall f}\ar[ddr]_{i_1}&&Y\ar[uul]_{\forall g}\ar[ddl]^{i_2}\\\\&X\sqcup Y\ar@{-->}[uuuu]^{\exists!}}
%$$
%We might write the unique function as 
%\footnote{We are about to use a two-line symbol, which is a bit unusual. In what follows a certain function $X\sqcup Y\to A$ is being denoted by the symbol $\coprodmap{f}{g}$.}
%$$\coprodmap{f}{g}\taking X\sqcup Y\to A.$$

$X$と$Y$を集合とする. 任意の集合$A$と函数$f\taking X\to A$, $g\taking Y\to A$に対して, 以下の図式を可換にするところの函数$X\sqcup Y\to A$が一意に存在する.
$$
\xymatrix@=15pt{&A\\\\X\ar[uur]^{\forall f}\ar[ddr]_{i_1}&&Y\ar[uul]_{\forall g}\ar[ddl]^{i_2}\\\\&X\sqcup Y\ar@{-->}[uuuu]^{\exists!}}
$$
我々はこの一意に存在する函数を
$$\coprodmap{f}{g}\taking X\sqcup Y\to A$$
と書くことがある\footnote{我々は二行にわたる記法を使用しようとしている. これは少しばかり通常ではない. これ以降ではある函数$X\sqcup Y\to A$は記法$\coprodmap{f}{g}$によって示されるとする.}.
\end{lemma}

\begin{proof}

%Suppose given $f,g$ as above. To provide a function $\ell\taking X\sqcup Y\to A$ is equivalent to providing an element $f(m)\in A$ is for each $m\in X\sqcup Y$. We need such a function such that $\ell\circ i_1=f$ and $\ell\circ i_2=g$. But each element $m\in X\sqcup Y$ is either of the form $i_1x$ or $i_2y$, and cannot be of both forms. So we assign 
%$$\coprodmap{f}{g}(m)=\begin{cases}f(x)&\tn{if } m=i_1x,\\ g(y) &\tn{if }m=i_2y.\end{cases}$$
%This assignment is necessary and sufficient to make all relevant diagrams commute.

$f$, $g$が上記のように与えられたとする. 函数$\ell\taking X\sqcup Y\to A$を与えるということは, それぞれの$m\in X\sqcup Y$に対して要素$f(m)\in A$を与えることに等しい. 我々は$\ell\circ i_1=f$および$\ell\circ i_2=g$となる函数を必要としている. しかしそろぞれの要素$m\in X\sqcup Y$は$i_1x$かあるいは$i_2y$のどちらかの形を取り, 両方の形を取ることはできない. よって我々は
$$\coprodmap{f}{g}(m)=\begin{cases}f(x)&\tn{if } m=i_1x,\\ g(y) &\tn{if }m=i_2y.\end{cases}$$
と割り当てる. この割り当ては全ての関連する図式を可換にするのに必要かつ十分である.

\end{proof}

\begin{example}[Airplane seats, continued]

%The universal property of coproducts says the following. Any time we have a function $X\to A$ and a function $Y\to A$, we get a unique function $X\sqcup Y\to A$. For example, every economy class seat in an airplane and every first class seat in an airplane is actually {\em in a particular airplane}. Every economy class seat has a price, as does every first class seat.
%\begin{align}
%\xymatrix{
%&\obox{A}{.9in}{a dollar figure}&\\
%\obox{X}{.8in}{an economy-class seat in an airplane}\LA{ru}{has as price}\LA{r}{is}\LAL{dr}{is in}&\obox{X\sqcup Y}{.7in}{a seat in an airplane}\ar@{-->}[d]_{\exists!}\ar@{-->}[u]^{\exists!}\ar@{}[ur]|(.35){\checkmark}\ar@{}[dl]|(.35){\checkmark}\ar@{}[dr]|(.35){\checkmark}\ar@{}[ul]|(.35){\checkmark}&\obox{Y}{.7in}{a first-class seat in an airplane}\LAL{l}{is}\LAL{lu}{has as price}\LA{dl}{is in}\\
%&\obox{B}{.7in}{an airplane}&
%}
%\end{align}
%The universal property of coproducts formalizes the following intuitively obvious fact:
%\begin{quote}
%If we know how economy class seats are priced and we know how first class seats are priced, and if we know that every seat is either economy class or first class, then we automatically know how all seats are priced.
%\end{quote}
%To say it another way (and using the other induced map):
%\begin{quote}
%If we keep track of which airplane every economy class seat is in and we keep track of which airplane every first class seat is in, and if we know that every seat is either economy class or first class, then we require no additional tracking for any airplane seat whatsoever.
%\end{quote}

余積の普遍的性質により, 以下が言える. 函数$X\to A$および$Y\to A$があるときは常に, 函数$X\sqcup Y\to A$が一意に得られる. 例えば, ある航空機の全てのエコノミークラスの座席と, ある航空機の全てのファーストクラスの座席が, 実際には\emph{同じ航空機の中にあるとする}. 全てのエコノミークラスの座席は料金が設定されているし, ファーストクラスもそうである.
\begin{align}
\xymatrix{
&\obox{A}{.9in}{a dollar figure}&\\
\obox{X}{.8in}{an economy-class seat in an airplane}\LA{ru}{has as price}\LA{r}{is}\LAL{dr}{is in}&\obox{X\sqcup Y}{.7in}{a seat in an airplane}\ar@{-->}[d]_{\exists!}\ar@{-->}[u]^{\exists!}\ar@{}[ur]|(.35){\checkmark}\ar@{}[dl]|(.35){\checkmark}\ar@{}[dr]|(.35){\checkmark}\ar@{}[ul]|(.35){\checkmark}&\obox{Y}{.7in}{a first-class seat in an airplane}\LAL{l}{is}\LAL{lu}{has as price}\LA{dl}{is in}\\
&\obox{B}{.7in}{an airplane}&
}
\end{align}
余積の普遍的性質は, 以下の直感的に自明な事実を形式化する.
\begin{quote}
もし我々が, エコノミークラスの料金がどのように設定されるかを知っており, またファーストクラスの料金がどのように設定されるかを知っており, そして全ての座席がエコノミークラスかファーストクラスかのどちらかに分類されることを知っているならば, 我々は全ての座席について料金がどのように設定されるかを自動的に知ることになる.
\end{quote}
違った言い方で(他の誘導写像を使って)表現してみよう.
\begin{quote}
もし我々が全てのエコノミークラスの座席についてその座席が存在しているところの航空機を把握しており, 全てのファーストクラスの座席についてその座席が存在しているところの航空機を把握しており, さらに全ての座席がエコノミークラスかファーストクラスのどちらかに分類されることを知っているならば, それ以上に把握する必要がある航空機の座席は一席もない.
\end{quote}

\end{example}

\begin{application}[Piecewise defined curves]

%In science, curves are often defined or considered piecewise. For example in testing the mechanical properties of a material, we might be interested in various regions of \href{http://en.wikipedia.org/wiki/Deformation_(engineering)}{deformation}, such as elastic, plastic, or post-fracture. These are three intervals on which the material displays different kinds of properties. 

科学において, 曲線はしばしばその部分部分の塊として考察されたり定義されたりする. 例えば, 物質の力学的性質を試験する際, 我々は物質が示す\href{http://en.wikipedia.org/wiki/Deformation_(engineering)}{変形(deformation)}の相, 例えば弾性的(elastic)であるか, 塑性的(plastic)であるか, あるいは破断後か(post-fracture)といったことに興味があるであろう.  これらは物質の性質が異なったふるまいを見せる3つの領域である.

%For real numbers $a<b\in\RR$, let $[a,b]:=\{x\in\RR\|a\leq x\leq b\}$ denote the closed interval. Given a function $[a,b]\to\RR$ and a function $[c,d]\to\RR$, the universal property of coproducts implies that they extend uniquely to a function $[a,b]\sqcup[c,d]\to\RR$, which will appear as a piecewise defined curve.

実数$a<b\in\RR$に対して$[a,b]:=\{x\in\RR\|a\leq x\leq b\}$は閉区間を示す. 函数$[a,b]\to\RR$と$[c,d]\to\RR$が与えられたとき, 余積の普遍的性質によって, これらの函数が函数$[a,b]\sqcup[c,d]\to\RR$に一意に拡張できることが示唆される. これらは曲線を定義する部分と見ることができるだろう.

%Often we are given a curve on $[a,b]$ and another on $[b,c]$, where the two curves agree at the point $b$. This situation is described by pushouts, which are mild generalizations of coproducts; see Section \ref{sec:pushouts}.

しばしば$[a,b]$上の曲線と別の$[b,c]$上の曲線が得られ, そしてその二つの曲線が点$b$で一致することがある. この状況は押し出し(pushout)によって表現される. これは余積のゆるやかな一般化である. \ref{sec:pushouts}章を見よ.

\end{application}

\begin{exercise}\label{exc:coprod}

%Write the universal property for coproduct in terms of a relationship between the following three sets: $$\Hom_{\Set}(X,A), \hsp \Hom_\Set(Y,A), \hsp \text{and} \hsp\Hom_\Set(X\sqcup Y,A).$$ 

以下の3つの集合の間の関係の観点で余積の普遍的性質を書き下せ. $$\Hom_{\Set}(X,A), \hsp \Hom_\Set(Y,A), \hsp \text{and} \hsp\Hom_\Set(X\sqcup Y,A).$$ 
\end{exercise}

\begin{example}\label{ex:coproduct1}

%In the following olog the types $A$ and $B$ are disjoint, so the coproduct $C=A\sqcup B$ is just the union. $$\fbox{\xymatrix{\smbox{A}{a person}\LA{r}{is}&\smbox{C=A\sqcup B}{a person or a cat}&\smbox{B}{a cat}\LAL{l}{is}}}$$

以下のologで型$A$と$B$は互いに素であり(共通部分集合を持たず), よって余積$C=A\sqcup B$は単なる合併集合である. $$\fbox{\xymatrix{\smbox{A}{a person}\LA{r}{is}&\smbox{C=A\sqcup B}{a person or a cat}&\smbox{B}{a cat}\LAL{l}{is}}}$$
\end{example}

\begin{example}\label{ex:coproduct2}

%In the following olog, $A$ and $B$ are not disjoint, so care must be taken to differentiate common elements. $$\fbox{\xymatrixnocompile{\obox{A}{.7in}{\rr an animal that can fly}\LA{rr}{labeled ``A" is}&&\obox{C=A\sqcup B}{1.3in}{an animal that can fly (labeled ``A") or an animal that can swim (labeled ``B")}&&\obox{B}{.9in}{\rr an animal that can swim}\LAL{ll}{labeled ``B" is}}}$$  Since ducks can both swim and fly, each duck is found twice in $C$, once labeled as a flyer and once labeled as a swimmer.  The types $A$ and $B$ are kept disjoint in $C$, which justifies the name ``disjoint union."

以下のologにおいて, $A$と$B$は互いに素ではなく, よって共通要素を区別して取らなければならないことに注意する. $$\fbox{\xymatrixnocompile{\obox{A}{.7in}{\rr an animal that can fly}\LA{rr}{labeled ``A" is}&&\obox{C=A\sqcup B}{1.3in}{an animal that can fly (labeled ``A") or an animal that can swim (labeled ``B")}&&\obox{B}{.9in}{\rr an animal that can swim}\LAL{ll}{labeled ``B" is}}}$$ なぜならアヒルは泳げかつ飛べるから, それぞれのアヒルは$C$において, かつて飛べるものと見出し付けられた分と, かつて泳ぐものと見出し付けられていた分とで, 計二回見出されるからである. 型$A$と型$B$は$C$でも互いに素なままであり, これは``直和(disjoint union)''という用語で正当化される.

\end{example}

\begin{exercise}

%Understand Example \ref{ex:coproduct2} and see if a similar idea would make sense for particles and waves. Make an olog, and choose your wording in accordance with Rules \ref{rules:types}. How do photons, which exhibit properties of both waves and particles, fit into the coproduct in your olog?

Example \ref{ex:coproduct2}を理解し, 同じようなアイデアが粒子と波動に対して意味を持つかどうかを見よ. ologを作り, Rules \ref{rules:types}に調和する単語を選べ. 光子は波動と粒子の双方の性質を示すが\footnote{訳注: 波動と粒子の双方の性質を示す物体は光子に限らない.}, 作成したologの余積の中に当てはめられるだろうか?

\end{exercise}

\begin{exercise}
%Following the section above, ``Ologging products" page \pageref{sec:ologging products}, come up with a naming system for coproducts, the inclusions, and the universal maps. Try it out by making an olog (involving coproducts) discussing the idea that both a .wav file and a .mp3 file can be played on a modern computer. Be careful that your arrows are valid in the sense of Section \ref{sec:invalid aspect}.

\pageref{sec:ologging products}ページの``Ologと積''に従って, 余積, 包含, および普遍写像に対する名前付けシステムを構築せよ. (余積を含む)ologとして, 現代的な計算機上で.wavファイルと.mp3ファイルの双方が再生可能であるというアイデアを議論するologを作り, そこで作成したシステムの実践を試みよ. \ref{sec:invalid aspect}章における意味で矢印が有効であるかどうかに十分注意せよ.
\end{exercise}

%%%%%% Section %%%%%%

%\section{Finite limits in $\Set$}\label{sec:finite limits}
\section{$\Set$の有限極限}\label{sec:finite limits}

%In this section we discuss what are called {\em limits} of variously-shaped diagrams of sets. We will make all this much more precise when we discuss limits in arbitrary categories in Section \ref{sec:lims and colims in a cat}.

この章で我々は, 集合の様々な形の図式の\emph{極限(limit)}と呼ばれるものについて議論する. ここでの議論は全て, \ref{sec:lims and colims in a cat}章で任意の圏における極限を議論した時に, はるかに精緻なものになるであろう.

%%%% Subsection %%%%

%\subsection{Pullbacks}
\subsection{引き戻し}

%\begin{definition}[Pullback]\label{def:pullback}\index{pullback!of sets}
\begin{definition}[引き戻し]\label{def:pullback}\index{pullback!of sets}

%Suppose given the diagram of sets and functions below.
%\begin{align}\label{dia:fp sets}
%\xymatrix{&Y\ar[d]^g\\
%X\ar[r]_f&Z}
%\end{align}
%Its {\em fiber product}\index{fiber product} is the set 
%$$X\times_ZY:=\{(x,w,y)\|f(x)=w=g(y)\}.$$ There are obvious projections $\pi_1\taking X\times_ZY\to X$ and $\pi_2\taking X\times_ZY\to Y$ (e.g. $\pi_2(x,w,y)=y$). Note that if $W=X\times_ZY$ then the diagram 
%\begin{align}\label{dia:pullback sets}
%\xymatrix{W\ullimit\ar[r]^-{\pi_2}\ar[d]_{\pi_1}&Y\ar[d]^g\\
%X\ar[r]_f&Z}
%\end{align}
%commutes. Given the setup of Diagram \ref{dia:fp sets} we define the {\em pullback of $X$ and $Y$ over $Z$} to be any set $W$ for which we have an isomorphism $W\To{\iso}X\times_ZY$. The corner symbol $\lrcorner$ in Diagram \ref{dia:pullback sets} indicates that $W$ is the pullback.\index{a symbol!$\lrcorner$}

以下のような集合の函数の図式が与えられたとする.
\begin{align}\label{dia:fp sets}
\xymatrix{&Y\ar[d]^g\\
X\ar[r]_f&Z}
\end{align}
この\emph{ファイバー積(fiber product)}\index{fiber product}は集合
$$X\times_ZY:=\{(x,w,y)\|f(x)=w=g(y)\}$$である. 自明な写像$\pi_1\taking X\times_ZY\to X$と$\pi_2\taking X\times_ZY\to Y$ (e.g. $\pi_2(x,w,y)=y$)が存在する. もし$W=X\times_ZY$ならば図式
\begin{align}\label{dia:pullback sets}
\xymatrix{W\ullimit\ar[r]^-{\pi_2}\ar[d]_{\pi_1}&Y\ar[d]^g\\
X\ar[r]_f&Z}
\end{align}
は可換であることに注意せよ. Diagram \ref{dia:fp sets}の設定が与えられたとき, \emph{$Z$上の$X$と$Y$の引き戻し(pullback of $X$ and $Y$ over $Z$)}を, 同型写像$W\To{\iso}X\times_ZY$を得ることができるところの任意の写像$W$として定義する. Diagram \ref{dia:pullback sets}での鉤記号$\lrcorner$は$W$が引き戻しであることを示す.\index{a symbol!$\lrcorner$}

\end{definition}

\begin{exercise}
%Let $X,Y,Z$ be as drawn and $f\taking X\to Z$ and $g\taking Y\to Z$ the indicated functions. 
%\begin{center}
%\includegraphics[height=2in]{setPullback}
%\end{center}
%What is the pullback of the diagram $X\Too{f}Z\Fromm{g}Y$?
$X$, $Y$, $Z$を描かれているような集合とし, $f\taking X\to Z$と$g\taking Y\to Z$を示さている函数とする. 
\begin{center}
\includegraphics[height=2in]{setPullback}
\end{center}
図式$X\Too{f}Z\Fromm{g}Y$の引き戻しは何だろうか?
\end{exercise}

\begin{exercise}~
%\sexc Draw a set $X$ with five elements and a set $Y$ with three elements. Color each element of $X$ and each element of $Y$ either red, blue, or yellow,
%\footnote{You can use shadings rather than coloring, if coloring would be annoying.}
%and do so in a ``random-looking" way. Considering your coloring of $X$ as a function $X\to C$, where $C=\{\tn{red, blue, yellow}\}$, and similarly obtaining a function $Y\to C$, draw the fiber product $X\times_CY$. Make sure it is colored appropriately.
%\next The universal property for products guarantees a function $X\times_CY\to X\times Y$, which I can tell you will be an injection. This means that the drawing you made of the fiber product can be imbedded into the $5\times 3$ grid; please draw the grid and indicate this subset.
%\endsexc
\sexc 5要素の集合$X$と3要素の集合$Y$を描け. $X$のそれぞれの要素と$Y$のそれぞれの要素を赤, 青, 黄のいづれかの色を塗り, 
\footnote{色を塗るのが面倒であるならば影を付けるだけでもよい.}
``無秩序に見える''ようなやり方をとれ. $C=\{\tn{red, blue, yellow}\}$として$X$の色の塗り方を$X\to C$とみなし, 同様に函数$Y\to C$を得, ファイバー積$X\times_CY$を描け. 適切に色が塗られていることを確認せよ.
\next 積の普遍的性質は函数$X\times_CY\to X\times Y$の存在を保証し, これは単射であると示すことができる. これが 意味するのは, $5\times 3$の格子の中に, 先程描いたファイバー積の図式を埋め込むことができるということである. よければ格子を描いてこの部分集合を示してみよう.
\endsexc
\end{exercise}

\begin{remark}

%Some may prefer to denote this fiber product by $f\times_Zg$ rather than $X\times_ZY$. The former is  mathematically better notation, but human-readability is often enhanced by the latter, which is also more common in the literature. We use whichever is more convenient.

ファイバー積を, $X\times_ZY$よりもむしろ$f\times_Zg$と書くことを好む人もいる. 後者は数学的にはよりよい記法であるが, 人間の可読性はしばしば前者の方が高められており, また前者は文献でより一般的な記法でもある. 我々はどちらかに限らずより便利な方を用いる.

\end{remark}

\begin{exercise}~
%\sexc Suppose that $Y=\emptyset$; what can you say about $X\times_ZY$? 
%\next Suppose now that $Y$ is any set but that $Z$ has exactly one element; what can you say about $X\times_ZY$?
%\endsexc
\sexc $Y=\emptyset$とする. $X\times_ZY$について何が言えるだろうか?
\next 今度は$Y$を任意の集合とするが, $Z$は要素を丁度一つだけ持つとする. $X\times_ZY$について何が言えるだろうか?
\endsexc
\end{exercise}

\begin{exercise}
%Let $S=\RR^3, T=\RR$, and think of them as (Aristotelian) space and time, with the origin in $S\times T$ given by the center of mass of MIT at the time of its founding. Let $Y=S\times T$ and let $g_1\taking Y\to S$ be one projection and $g_2\taking Y\to T$ the other projection. Let $X=\singleton$ be a set with one element and let $f_1\taking X\to S$ and $f_2\taking X\to T$ be given by the origin in both cases. 
%\sexc What are the fiber products $W_1$ and $W_2$:
%$$
%\xymatrix{W_1\ar[r]\ar[d]\ullimit&Y\ar[d]^{g_1}\\X\ar[r]_{f_1}&S}\hspace{1in}
%\xymatrix{W_2\ar[r]\ar[d]\ullimit&Y\ar[d]^{g_2}\\X\ar[r]_{f_2}&T}
%$$
%\next Interpret these sets in terms of the center of mass of MIT at the time of its founding.
%\endsexc
$S=\RR^3$, $T=\RR$とし, これらを(アリストテレス的な)空間と時間とみなし, $S\times T$の原点を創立時のマサチューセッツ工科大学(MIT)の重心によって与えるとする. $Y=S\times T$とし, $g_1\taking Y\to S$を一つ目の射影, $g_2\taking Y\to T$をもう一つの射影とする. $X=\singleton$を要素が一つだけの集合とし, $f_1\taking X\to S$および$f_2\taking X\to T$が両者とも原点によって与えられるとする. 
\sexc $W_1$と$W_2$のファイバー積は何だろうか?
$$
\xymatrix{W_1\ar[r]\ar[d]\ullimit&Y\ar[d]^{g_1}\\X\ar[r]_{f_1}&S}\hspace{1in}
\xymatrix{W_2\ar[r]\ar[d]\ullimit&Y\ar[d]^{g_2}\\X\ar[r]_{f_2}&T}
$$
\next これらの集合を創立時のMITの重心という観点で解釈せよ.
\endsexc
\end{exercise}

%% Subsubsection %%

%\subsubsection{Using pullbacks to define new ideas from old}
\subsubsection{既存のアイデアから新しいアイデアを定義するための引き戻しの使用}

%In this section we will see that the fiber product of a diagram can serve to define a new concept. For example, in (\ref{dia:bad battery}) we define what it means for a cellphone to have a bad battery, in terms of the length of time for which it remains charged. By being explicit, we reduce the chance of misunderstandings between different groups of people. This can be useful in situations like audits and those in which one is trying to reuse or understand data gathered by others.

この章では, 我々は図式のファイバー積が新しい概念の定義を提供するのに役立つことを見る. 例えば, \eqref{dia:bad battery}では充電器の調子が悪い携帯電話を意味するものを, 十分に充電されている時間の長さという観点から定義する. 概念を明示的にすることで, 我々は異なった集団に属する人々の間で誤解がしょうじる機会を減らす. これは監査や, あるいは他者によって集められたデータを理解や再利用しようと試みるといった状況において有用になりうる.

\begin{example}

%Consider the following two ologs. The one on the right is the pullback of the one on the left. 
%\begin{align}\label{dia:wealthy and loyal}
%\fbox{\xymatrixnocompile{&\obox{C}{.7in}{\rr a loyal customer}\LA{d}{is}\\\obox{B}{.7in}{\rr a wealthy customer}\LA{r}{is}&\smbox{D}{a customer}}}\hsp&\fbox{\xymatrix{\obox{A=B\times_DC}{.9in}{\rr a customer that is wealthy and loyal}\LAL{d}{is}\LA{r}{is}&\obox{C}{.7in}{\rr a loyal customer}\LA{d}{is}\\\obox{B}{.7in}{\rr a wealthy customer}\LA{r}{is}&\smbox{D}{a customer}}}
%\end{align}
%Check from Definition \ref{def:pullback} that the label, ``a customer that is wealthy and loyal", is fair and straightforward as a label for the fiber product $A=B\times_DC$, given the labels on $B,C$, and $D$.

以下の二つのologを考える. 右側のものは左側のものの引き戻しである.
\begin{align}\label{dia:wealthy and loyal}
\fbox{\xymatrixnocompile{&\obox{C}{.7in}{\rr a loyal customer}\LA{d}{is}\\\obox{B}{.7in}{\rr a wealthy customer}\LA{r}{is}&\smbox{D}{a customer}}}\hsp&\fbox{\xymatrix{\obox{A=B\times_DC}{.9in}{\rr a customer that is wealthy and loyal}\LAL{d}{is}\LA{r}{is}&\obox{C}{.7in}{\rr a loyal customer}\LA{d}{is}\\\obox{B}{.7in}{\rr a wealthy customer}\LA{r}{is}&\smbox{D}{a customer}}}
\end{align}
Definition \ref{def:pullback}から, $B$, $C$, $D$の上に与えられた見出しに対して, ファイバー積$A=B\times_DC$についての見出しとして, 見出し``a customer that is wealthy and loyal''が妥当かつ直接的であることを確認せよ.

\end{example}

\begin{remark}\label{rem:defining using pullbacks}

%Note that in Diagram (\ref{dia:wealthy and loyal}) the top-left box could have been (non-canonically named) \fakebox{a good customer}. If it was taken to be the fiber product, then the author would be effectively {\em defining} a good customer to be one that is wealthy and loyal. 

Diagram \eqref{dia:wealthy and loyal}において, 左上の箱は(非標準的な名前として)\fakebox{a good customer}であったであろうことに注意せよ. これがファイバー積であるとされているのならば, ologの作者はよき顧客(a good customer)は裕福(wealthy)で義理堅い(loyal)顧客であると効果的に\emph{定義}していることになるであろう.

\end{remark}

\begin{exercise}
%For each of the following, an author has proposed that the diagram on the right is a pullback. Do you think their labels are appropriate or misleading; that is, is the label on the upper-left box reasonable given the rest of the olog, or is it suspect in some way?
以下のそれぞれのologにおいて, その作者は右側の図式は引き戻しであると提案している. これらの見出しをどう思うだろうか? 適切かあるいは誤解を招かねないだろうか? つまり, 左上の箱の見出しは与えられたologの残り部分に対して妥当だろうか, それともなんらかの点で疑問だろうか?
\sexc\begin{align*}\footnotesize\fbox{\xymatrix{&&\smbox{C}{blue}\LA{d}{is}\\\smbox{B}{a person}\LA{rr}{\parbox{.7in}{\rr has as favorite color}}&&\smbox{D}{a color}}}\hsp&
\footnotesize\fbox{\xymatrixnocompile{\obox{A=B\times_DC}{1.1in}{\rr a person whose favorite color is blue}\LAL{d}{is}\LA{rr}{\parbox{.7in}{\rr has as favorite color}}&&\smbox{C}{blue}\LA{d}{is}\\\smbox{B}{a person}\LA{rr}{\parbox{.7in}{\rr has as favorite color}}&&\smbox{D}{a color}}}
\end{align*}
\next\begin{align*}
\footnotesize\fbox{\xymatrixnocompile{&&\smbox{C}{a woman}\LA{d}{is}\\\smbox{B}{a dog}\LA{rr}{\parbox{.7in}{\rr has as owner}}&&\smbox{D}{a person}}}\hsp&
\footnotesize\fbox{\xymatrixnocompile{\obox{A=B\times_DC}{1in}{\rr a dog whose owner is a woman}\LAL{d}{is}\LA{rr}{\parbox{.7in}{\rr has as owner}}&&\smbox{C}{a woman}\LA{d}{is}\\\smbox{B}{a dog}\LA{rr}{\parbox{.7in}{\rr has as owner}}&&\smbox{D}{a person}}}
\end{align*}
\next\begin{align*}
\footnotesize\fbox{\xymatrixnocompile{&\obox{C}{.5in}{\rr a piece of furniture}\LA{d}{has}\\\obox{B}{.6in}{\rr a space in our house}\LA{r}{has}&\smbox{D}{a width}}}\hsp&
\footnotesize\fbox{\xymatrixnocompile{\obox{A=B\times_DC}{.5in}{\rr a good fit}\LAL{d}{$s$}\LA{r}{$f$}&\obox{C}{.5in}{\rr a piece of furniture}\LA{d}{has}\\\obox{B}{.6in}{\rr a space in our house}\LA{r}{has}&\smbox{D}{a width}}}
\end{align*}
\endsexc
\end{exercise}

\begin{exercise}~
%\sexc Consider your olog from Exercise \ref{exc:family olog}. Are any of the commutative squares there actually pullback squares? 
%\next Now use ologs with products and pullbacks to define what a brother is and what a sister is (again in a human biological nuclear family), in terms of types such as \fakebox{an offspring of mating pair $(a,b)$}, \fakebox{a person}, \fakebox{a male person}, \fakebox{a female person}, and so on.
%\endsexc
\sexc Exercise \ref{exc:family olog}で作ったologを考える. そこにある任意の可換四角形は実際に引き戻しの四角形だろうか?
\next (同様に人間の生物学的核家族において)男兄弟(brother)とは何かと女兄弟(sister)とは何かを定義するために積と引き戻しを含むologを使え. 例えば\fakebox{an offspring of mating pair $(a,b)$}, \fakebox{a person}, \fakebox{a male person}, \fakebox{a female person}, などといった型によって表現せよ.
\endsexc
\end{exercise}

\begin{definition}[Preimage]\label{def:preimage}

%Let $f\taking X\to Y$ be a function and $y\in Y$ an element. The {\em preimage of y under $f$}\index{preimage}, denoted $f^\m1(y)$,\index{a symbol!$f^\m1$} is  the subset $f^\m1(y):=\{x\in X\|f(x)=y\}$. If $Y'\ss Y$ is any subset, the {\em preimage of $Y'$ under $f$}, denoted $f^\m1(Y')$, is the subset $f^\m1(Y')=\{x\in X\|f(x)\in Y'\}$.

$f\taking X\to Y$を函数とし, $y\in Y$を集合の要素とする. \emph{$f$による$y$の原像(preimage of $y$ under $f$)}\index{preimage}は部分集合$f^\m1(y):=\{x\in X\|f(x)=y\}$であり, $f^\m1(y)$,\index{a symbol!$f^\m1$}と書く. $Y'\ss Y$を任意の部分集合とすると, \emph{$f$による$Y'$の原像(preimage of $Y'$ under $f$)}は部分集合$f^\m1(Y')=\{x\in X\|f(x)\in Y'\}$であり, $f^\m1(Y')$と書かれる.

\end{definition}

\begin{exercise}
%Let $f\taking X\to Y$ be a function and $y\in Y$ an element. Draw a pullback diagram in which the fiber product is isomorphic to the preimage $f^\m1(y)$.
$f\taking X\to Y$を函数とし$y\in Y$を集合の要素とする. 含まれるファイバー積が原像$f^\m1(y)$と同型であるような引き戻しの図式を描け.
\end{exercise}

\begin{lemma}[Universal property for pullback]\label{lemma:up for fp}

%Suppose given the diagram of sets and functions as below.
%\begin{align*}
%\xymatrix{&Y\ar[d]^u\\
%X\ar[r]_t&Z}
%\end{align*}
%For any set $A$ and commutative solid arrow diagram as below (i.e. functions $f\taking A\to X$ and $g\taking A\to Y$ such that $t\circ f=u\circ g$), 
%\begin{align}\label{dia:universal property of fp}
%\xymatrix{
%&X\times_ZY\ar@/_1pc/[lddd]_{\pi_1}\ar@/^1pc/[rddd]^{\pi_2}\\\\
%&A\ar@{-->}[uu]^{\exists!}\ar[dl]_{\forall f}\ar[dr]^{\forall g}&\\
%X\ar[rd]_t&&Y\ar[ld]^u\\
%&Z&}
%\end{align}
%there exists a unique arrow $\pb{f}{g}{Z}\taking A\to X\times_ZY$ making everything commute, i.e. 
%$$f=\pi_1\circ \pb{f}{g}{Z}\hsp\text{and}\hsp g=\pi_2\circ\pb{f}{g}{Z}.$$

以下の集合と函数の図式が与えられたとする.
\begin{align*}
\xymatrix{&Y\ar[d]^u\\
X\ar[r]_t&Z}
\end{align*}
任意の集合$A$と, 以下のような可換な実線の矢印の図式(i.e. $t\circ f=u\circ g$となるところの函数$f\taking A\to X$と$g\taking A\to Y$)に対して,
\begin{align}\label{dia:universal property of fp}
\xymatrix{
&X\times_ZY\ar@/_1pc/[lddd]_{\pi_1}\ar@/^1pc/[rddd]^{\pi_2}\\\\
&A\ar@{-->}[uu]^{\exists!}\ar[dl]_{\forall f}\ar[dr]^{\forall g}&\\
X\ar[rd]_t&&Y\ar[ld]^u\\
&Z&}
\end{align}
全てを可換にする一意な矢印
$\pb{f}{g}{Z}\taking A\to X\times_ZY$が存在する\footnote{訳注: 原文の$\pb{f}{f}{Z}$を修正.}. すなわち
$$f=\pi_1\circ \pb{f}{g}{Z}\hsp\text{および}\hsp g=\pi_2\circ\pb{f}{g}{Z}.$$

\end{lemma}

\begin{exercise}
%Create an olog whose underlying shape is a commutative square. Now add the fiber product so that the shape is the same as that of Diagram (\ref{dia:universal property of fp}). Assign English labels to the projections $\pi_1,\pi_2$ and to the dotted map $A\To{\pb{f}{g}{Z}}X\times_ZY$, such that these labels are as canonical as possible.
骨組が可換四角形であるologを作成せよ. 次に\eqref{dia:universal property of fp}と同じ形になるようにファイバー積を追加せよ. 射影$\pi_1$, $\pi_2$および点線の写像$A\To{\pb{f}{g}{Z}}X\times_ZY$に英語の見出しを割り当て, 可能な限りそれらの見出しがcananicalであるようにせよ.
\end{exercise}

%% Subsubsection %%

\subsubsection{Pasting diagrams for pullback}

%Consider the diagram drawn below, which includes a left-hand square, a right-hand square, and a big rectangle.
%$$
%\xymatrix{
%A'\ar[r]^{f'}\ar[d]_i\ullimit&B'\ar[r]^{g'}\ar[d]_j\ullimit&C'\ar[d]^k\\
%A\ar[r]_f&B\ar[r]_g&C}
%$$
%The right-hand square has a corner symbol indicating that $B'\iso B\times_CC'$ is a pullback. But the corner symbol on the left is ambiguous; it might be indicating that the left-hand square is a pullback, or it might be indicating that the big rectangle is a pullback. It turns out that if $B'\iso B\times_CC'$ then it is not ambiguous because the left-hand square is a pullback if and only if the big rectangle is.

以下の図式を考える. ここには左側の四角形, 右側の四角形, そし全体の四角形が含まれる.
$$
\xymatrix{
A'\ar[r]^{f'}\ar[d]_i\ullimit&B'\ar[r]^{g'}\ar[d]_j\ullimit&C'\ar[d]^k\\
A\ar[r]_f&B\ar[r]_g&C}
$$
右側の四角形には$B'\iso B\times_CC'$が引き戻しであることを示す鉤記号がある. しかし左側の鉤記号は曖昧である. これは左側の四角形が引き戻しであることを示しているのかもしれないし, 全体の四角形が引き戻しであることを示しているのかもしれない. しかし, もし$B'\iso B\times_CC'$ならば曖昧でないことが分かる. なぜならば左側の四角形が可換である時かつその時に限り全体の四角形が可換であるからである.

\begin{proposition}\label{prop:pasting}

%Consider the diagram drawn below
%$$
%\xymatrix{
%&B'\ar[r]^{g'}\ar[d]_j\ullimit&C'\ar[d]^k\\
%A\ar[r]_f&B\ar[r]_g&C}
%$$
%where $B'\iso B\times_CC'$ is a pullback. Then there is an isomorphism $A\times_BB'\iso A\times_CC'$. Said another way, $$A\times_B(B\times_CC')\iso A\times_CC'.$$

以下に描かれた図式を考える.
$$
\xymatrix{
&B'\ar[r]^{g'}\ar[d]_j\ullimit&C'\ar[d]^k\\
A\ar[r]_f&B\ar[r]_g&C}
$$
ここで$B'\iso B\times_CC'$は引き戻しである. このとき同型写像$A\times_BB'\iso A\times_CC'$が存在する. 別の言い方をすれば$$A\times_B(B\times_CC')\iso A\times_CC'.$$である.

\end{proposition}

\begin{proof}

%We first provide a map $\phi\taking A\times_B(B\times_CC')\to A\times_CC'$. An element of $A\times_B(B\times_CC')$ is of the form $(a,b,(b,c,c'))$ such that $f(a)=b, g(b)=c$ and $k(c')=c$. But this implies that $g\circ f(a)=c=k(c')$ so we put $\phi(a,b,(b,c,c')):=(a,c,c')\in A\times_CC'$. Now we provide a proposed inverse, $\psi\taking A\times_CC'\to A\times_B(B\times_CC')$. Given $(a,c,c')$ with $g\circ f(a)=c=k(c')$, let $b=f(a)$ and note that $(b,c,c')$ is an element of $B\times_CC'$. So we can define $\psi(a,c,c')=(a,b,(b,c,c'))$. It is easy to see that $\phi$ and $\psi$ are inverse.
 
最初に写像$\phi\taking A\times_B(B\times_CC')\to A\times_CC'$を与える. $A\times_B(B\times_CC')$の要素は, $f(a)=b$, $g(b)=c$, $k(c')=c$として$(a,b,(b,c,c'))$の形を持つ. しかしこれは$g\circ f(a)=c=k(c')$を暗に意味し, よって$\phi(a,b,(b,c,c')):=(a,c,c')\in A\times_CC'$と置ける. さて, 次は逆写像$\psi\taking A\times_CC'\to A\times_B(B\times_CC')$を与えよう. $g\circ f(a)=c=k(c')$なる$(a,c,c')$が与えられたとき, $b=f(a)$として, また$(b,c,c')$が$B\times_CC'$の要素であることに注意しよう. よって我々は$\psi(a,c,c')=(a,b,(b,c,c'))$と定義できる. $\phi$と$\psi$が逆写像の関係であることは簡単に分かる.
\end{proof}

%Proposition \ref{prop:pasting} can be useful in authoring ologs. For example, the type \fakebox{a cellphone that has a bad battery} is vague, but we can lay out precisely what it means using pullbacks:
%\small
%\begin{align}\label{dia:bad battery}
%\fbox{\xymatrixnocompile{\obox{A\iso B\times_DC}{1in}{a cellphone that has a bad battery}\ar[r]\ar[d]&\smbox{C\iso D\times_FE}{a bad battery}\ar[r]\ar[d]&\obox{E\iso F\times_HG}{.5in}{less than 1 hour}\ar[r]\ar[d]&\obox{G}{.5in}{between 0 and 1}\ar[d]\\\smbox{B}{a cellphone}\LA{r}{has}&\smbox{D}{a battery}\LA{r}{\parbox{.4in}{\rr remains charged for}}&\obox{F}{.6in}{a duration of time}\LA{r}{\hspace{.07in}\parbox{.4in}{\rr in hours yields}}&\obox{H}{.6in}{a range of numbers}}}
%\end{align}\normalsize

Proposition \ref{prop:pasting}はologを正当化するのに役に立つ. 例えば\fakebox{a cellphone that has a bad battery}は明確ではない. しかし我々は引き戻しを使ってそれが意味するところを正確に展開できる.
\small
\begin{align}\label{dia:bad battery}
\fbox{\xymatrixnocompile{\obox{A\iso B\times_DC}{1in}{a cellphone that has a bad battery}\ar[r]\ar[d]&\smbox{C\iso D\times_FE}{a bad battery}\ar[r]\ar[d]&\obox{E\iso F\times_HG}{.5in}{less than 1 hour}\ar[r]\ar[d]&\obox{G}{.5in}{between 0 and 1}\ar[d]\\\smbox{B}{a cellphone}\LA{r}{has}&\smbox{D}{a battery}\LA{r}{\parbox{.4in}{\rr remains charged for}}&\obox{F}{.6in}{a duration of time}\LA{r}{\hspace{.07in}\parbox{.4in}{\rr in hours yields}}&\obox{H}{.6in}{a range of numbers}}}
\end{align}\normalsize

%The category-theoretic fact described above says that since $A\iso B\times_DC$ and $C\iso D\times_FE$, it follows that $A\iso B\times_FE$.  That is, we can deduce the definition ``a cellphone that has a bad battery is defined as a cellphone that has a battery which remains charged for less than one hour."  

上記の圏論的な事実の記述は, $A\iso B\times_DC$および$C\iso D\times_FE$であることから$A\iso B\times_FE$が従うということを述べている. これは, 定義``調子が悪い充電池を持つ携帯電話は, 一時間未満しか充電が持たない充電池を持つ携帯電話として定義される''\footnote{英文では``a cellphone that has a bad battery is defined as a cellphone that has a battery which remains charged for less than one hour.''}ことが推論できたということである.


\begin{exercise}~
%\sexc Create an olog that defines two people to be ``of approximately the same height" if and only if their height difference is less than half an inch, using a pullback. Your olog can include the box \fakebox{a real number $x$ such that $-.5<x<.5$}. 
%\next In the same olog, make a box for those people whose height is approximately the same as a person named ``The Virgin Mary". You may need to use images, as in Section \ref{sec:images}.
%\endsexc
\sexc 二人の人間が``ほぼ同じ身長である(of approximately the same height)''時かつその時に限り身長差が3cm以下である, ということをを定義するologを引き戻しを使って定義せよ. 作成したologには箱\fakebox{a real number $x$ such that $-1.5<x<1.5$}が含まれていること.
\next 同じolog内に, ``The Virgin Mary''という名前の人物とほほおなじ身長を持つ人間の箱を作れ. Section \ref{sec:images}のように像を使う必要があるかもしれない.
\endsexc
\end{exercise}

\begin{exercise}\label{exc:pointwise map of fp}
%Consider the diagram on the left below, where both squares commute. 
左下の図式を考える. ここで両方の四角形か可換とする.
$$
\xymatrix@=15pt{
&&&Y'\ar[dd]\\
&&Y\ar[ru]\ar[dd]\\
&X'\ar'[r][rr]&&Z'\\
X\ar[rr]\ar[ru]&&Z\ar[ru]
}
\hspace{1in}
\xymatrix@=15pt{
&W'\ar[rr]\ar'[d][dd]\ullimit&&Y'\ar[dd]\\
W\ar[rr]\ar[dd]\ullimit&&Y\ar[ru]\ar[dd]\\
&X'\ar'[r][rr]&&Z'\\
X\ar[rr]\ar[ru]&&Z\ar[ru]
}
$$
%Let $W=X\times_ZY$ and $W'=X'\times_{Z'}Y'$, and form the diagram to the right. Use the universal property of fiber products to construct a map $W\to W'$ such that all squares commute.
$W=X\times_ZY$, $W'=X'\times_{Z'}Y'$として, これらが右側の図式をなしているとする. ファイバー積の普遍的性質を用いて, 全ての四角形を可換にする写像$W\to W'$を構成せよ.
\end{exercise}

%%%% Subsection %%%%

%\subsection{Spans, experiments, and matrices}
\subsection{スパン, 実験, 行列}

\begin{definition}\label{def:span}\index{span}

%Given sets $A$ and $B$, a {\em span on $A$ and $B$} is a set $R$ together with functions $f\taking R\to A$ and $g\taking R\to B$. 
%$$\xymatrix@=15pt{&R\ar[ddl]_f\ar[ddr]^g\\\\A&&B}$$

集合$A$, $B$が与えられた時, \emph{$A$と$B$のスパン(span on $A$ and $B$)}は, 函数$f\taking R\to A$ and $g\taking R\to B$を伴う集合$R$である.
$$\xymatrix@=15pt{&R\ar[ddl]_f\ar[ddr]^g\\\\A&&B}$$

\end{definition}

\begin{application}\label{app:exp temp press}

%Think of $A$ and $B$ as observables and $R$ as a set of experiments performed on these two variables. For example, let's say $T$ is the set of possible temperatures of a \href{http://en.wikipedia.org/wiki/Ideal_gas_law}{\text gas} in a fixed container and let's say $P$ is the set of possible pressures of the gas. We perform 1000 experiments in which we change and record the temperature and we simultaneously also record the pressure; this is a span $T\From{f}E\To{g}P$. The results might look like this:

$A$と$B$を可観測量とし, $R$をこれら二つの変数を対象として実行される実験とする. 例えば$T$を, 固定サイズの容器のなかで, \href{http://en.wikipedia.org/wiki/Ideal_gas_law}{気体}がとれる温度とし, $P$をその気体がとれる圧力とする. 1000回温度を変えて実験を実行し, 同時に圧力を記録する. これはスパン$T\From{f}E\To{g}P$である. 結果は以下のようになるだろう.
$$
\begin{tabular}{| l || l | l |}
\bhline
\multicolumn{3}{| c |}{Experiment}\\\bhline
{\bf ID}&{\bf Temperature}&{\bf Pressure}\\\bbhline
1&100& 72\\\hline
2&100&73\\\hline
3&100&72\\\hline
4&200&140\\\hline
5&200&138\\\hline
6&200&141\\\hline
\vdots&\vdots&\vdots\\\bhline
\end{tabular}
$$
%TODO: 有効数字の指摘

\end{application}

\begin{definition}\label{def:composite span}

%Let $A,B,$ and $C$ be sets, and let $A\From{f}R\To{g}B$ and $B\From{f'}R'\To{g'}C$ be spans. Their {\em composite span}\index{span!composite} is given by the fiber product $R\times_BR'$ as in the diagram below:
$A$, $B$, $C$を集合とし, $A\From{f}R\To{g}B$, $B\From{f'}R'\To{g'}C$をスパンとする. これらの\emph{合成スパン(composite span)}\index{span!composite}はファイバー積$R\times_BR'$によって与えられ, 下の図式のようになる.
$$
\xymatrix@=10pt{&&R\times_BR'\ar[ldd]\ar[rdd]\\\\&R\ar[ddl]_f\ar[ddr]^g&&R'\ar[ddl]_{f'}\ar[ddr]^{g'}\\\\A&&B&&C
}$$

\end{definition}

\begin{application}\label{app:exp temp press 2}

%Let's look back at our lab's experiment from Application \ref{app:exp temp press}, which resulted in a span $T\From{f}E\To{g}P$. Suppose we notice that something looks a little wrong. The pressure should be linear in the temperature but it doesn't appear to be. We hypothesize that the volume of the container is increasing under pressure. We look up this container online and see that experiments have been done to measure the volume as the interior pressure changes. The data has generously been made available online, which gives us a span $P\From{f'}E'\To{g'}V$. 

Application \ref{app:exp temp press}で行なわれた, 我々の研究室の実験を振り返ってみよう. 実験結果は$T\From{f}E\To{g}P$である. 我々は何かが少々おかしく見えることに気が付いたと仮定する. 圧力は温度に比例すべきはずだが, そのようには見えない. 我々は容器の体積が圧力下で増加するという仮説を立てる. 我々はこの容器をインターネットで調べ, そして内部圧力の変化に伴って体積を測定する実験が行われていたということを知る. 気前よいことにデータはインターネット上で取得可能であり, これによってスパン$P\From{f'}E'\To{g'}V$が与えられる.

%The composite of our lab's span with the online data span yields a span $T\from E''\to V$, where $E'':=E\times_PE'$. What information does this span give us? In explaining it, one might say ``whenever an experiment in our lab yielded the same pressure as one they recorded, let's call that a data point. Every data point has an associated temperature (from our lab) and an associated volume (from their experiment). This is the best we can do." 

我々の研究室ではのスパンとインターネット上のデータのスパンの合成によってスパン$T\from E''\to V$がもたらされる. ここで$E'':=E\times_PE'$である. このスパンから何の情報が得られるだろうか? これを説明するのにあたって, 次のようなことが言えるだろう. ``彼らが記録した圧力と同じ圧力が我々の研究室での実験から得られているならば, それをデータ点と呼ぶことにしよう. 全てのデータ点は(我々の実験によって)温度と, (彼らの実験からによって)体積と結びついている. これが我々ができる精一杯のことである.''

%The information we get this way might be seen by some as unscientific, but it certainly is the kind of information people use in business and in every day life calculation---we get our data from multiple sources and put it together. Moreover, it is scientific in the sense that it is reproducible. The way we obtained our $T$-$V$ data is completely transparent.

この方法で我々が得た情報は非科学的に見えるかもしれない. しかしこれは確かに仕事や日常生活での計算で使う情報の類である---我々は複数の情報源からデータを取得しそれを結合する. 加えて, 再現可能という点ではこれは科学的でもある. 我々が$T$-$V$データを得た方法は完全に透過的である.


\end{application}

%We can relate spans to matrices of natural numbers, and see a natural ``categorification" of matrix addition and matrix multiplication. If our spans come from experiments as in Applications \ref{app:exp temp press} and \ref{app:exp temp press 2} the matrices involved will look like huge but sparse matrices. Let's go through that.

我々はスパンを自然数の行列に関連付けることができ, そして行列の足し算とかけ算を自然に``categorification''できることが分かる. Applications \ref{app:exp temp press}や\ref{app:exp temp press 2}でのような実験からスパンが得られたのならば, 関連する行列は巨大でかつ疎な行列のようになるだろう. それでは検討してみよう.

%Let $A$ and $B$ be sets and let $A\from R\to B$ be a span. By the universal property of products, we have a unique map $R\To{p}A\times B$. 

$A$と$B$を集合とし$A\from R\to B$をスパンとする. 積の普遍的性質により, 一意な写像$R\To{p}A\times B$を得ることができる.

%We make a matrix of natural numbers out of this data as follows. The set of rows is $A$, the set of columns is $B$. For elements $a\in A$ and $b\in B$, the $(a,b)$-entry is the cardinality of its preimage, $|p^\m1(a,b)|$, i.e. the number of elements in $R$ that are sent by $p$ to $(a,b)$. 

我々は以下のようにしてこのデータから自然数の行列を作ることができる. 行の集合は$A$であり, 列の集合は$B$である. 要素$a\in A$および$b\in B$に対して, 行列要素$(a,b)$はその原像$|p^\m1(a,b)|$の濃度, i.e. $p$によって$(a,b)$に送られた$R$の要素の数である.

%Suppose we are given two $(A,B)$-spans, i.e. $A\from R\to B$ and $A\from R'\to B$; we might think of these has having the same {\em dimensions}, i.e. they are both $|A|\times|B|$-matrices. We can take the disjoint union $R\sqcup R'$ and by the universal property of coproducts we have a unique span $A\from R\sqcup R'\to B$ making the requisite diagram commute.
%\footnote{
%$$\xymatrix{
%&R\ar[dl]\ar[dr]\ar[d]\\
%A&R\sqcup R'\ar[l]\ar[r]&B\\
%&R'\ar[ur]\ar[ul]\ar[u]}
%$$
%}
%The matrix corresponding to this new span will be the sum of the matrices corresponding to the two previous spans out of which it was made.

$(A,B)$のスパンが二つ与えられたと仮定する, i.e. $A\from R\to B$ and $A\from R'\to B$. 二つが同じ\emph{次元(dimension)}を持つときを考えたいかもしれない, i.e. 両者は共に$|A|\times|B|$-行列であるとする. 我々は直和$R\sqcup R'$をとることができ, 余積の普遍性によって我々は一意なスパン$A\from R\sqcup R'\to B$を得ることができ, これは必要とされる図式を可換にする.
\footnote{
$$\xymatrix{
&R\ar[dl]\ar[dr]\ar[d]\\
A&R\sqcup R'\ar[l]\ar[r]&B\\
&R'\ar[ur]\ar[ul]\ar[u]}
$$
}
新しいスパンに対応する行列は, そのスパンが生成される元となった二つのスパンに対応する行列の和に相当することになる.

%Given a span $A\from R\to B$ and a span $B\from S\to C$, the composite span can be formed as in Definition \ref{def:composite span}. It will correspond to the usual multiplication of matrices.

スパン$A\from R\to B$およびスパン$B\from S\to C$が与えられたとき, 合成スパンはDefinition \ref{def:composite span}の形で得られる. これは通常の行列の積に対応することになる.

\begin{construction}\label{const:bipartite}\index{graph!bipartite}

%Given a span $A\From{f} R\To{g} B$, one can draw a {\em bipartite graph} with each element of $A$ drawn as a dot on the left, each element of $B$ drawn as a dot on the right, and each element $r\in R$ drawn as an arrow connecting vertex $f(r)$ on the left to vertex $g(r)$ on the right.

スパン$A\From{f} R\To{g} B$が与えられたとき, $A$のそれぞれの要素を左側の点として, $B$のそれぞれの要素を右側の点として, そして要素$r\in R$のそれぞれを左側の頂点$f(r)$と右側の頂点$g(r)$を結ぶ矢印として描くことにより, \emph{二部グラフ(bipartite graph)}を描くことができる.

\end{construction}

\begin{exercise}~
%\sexc Draw the bipartite graph (as in Construction \ref{const:bipartite}) corresponding to the span $T\From{f}E\To{g}P$ in Application \ref{app:exp temp press}.
%\next Now make up your own span $P\From{f'}E'\To{g'}V$ and draw it. Finally, draw the composite span below. 
%\next Can you say how the composite span graph relates to the graphs of its factors?
%\endsexc
\sexc (Construction \ref{const:bipartite}のように) Application \ref{app:exp temp press}のスパン$T\From{f}E\To{g}P$に対応する二部グラフを描け.
\next 今度は自作のスパン$P\From{f'}E'\To{g'}V$を作ってみよう. 最後にその下に合成スパンを描け.
\next 合成スパンのグラフとその部分要素のグラフの関係について何か言えるだろうか?
\endsexc
\end{exercise}

%%%% Subsection %%%%

%\subsection{Equalizers and terminal objects}
\subsection{等価子と終対象}

\begin{definition}\label{def:equalizer}\index{equalizer}

%Suppose given two parallel arrows 
%\begin{align}\label{dia:equalizer}
%\xymatrix{X\ar@<.5ex>[r]^f\ar@<-.5ex>[r]_g&Y.}\hspace{1in}\xymatrix{Eq(f,g)\ar[r]^-p&X\ar@<.5ex>[r]^f\ar@<-.5ex>[r]_g&Y}
%\end{align}
%The {\em equalizer of $f$ and $g$} is the commutative diagram as to the right in (\ref{dia:equalizer}), where we define $$Eq(f,g):=\{x\in X\|f(x)=g(x)\}$$ and where $p$ is the canonical inclusion.

二本の平行な矢印が与えられたと仮定する. 
\begin{align}\label{dia:equalizer}
\xymatrix{X\ar@<.5ex>[r]^f\ar@<-.5ex>[r]_g&Y.}\hspace{1in}\xymatrix{Eq(f,g)\ar[r]^-p&X\ar@<.5ex>[r]^f\ar@<-.5ex>[r]_g&Y}
\end{align}
\emph{$f$と$g$の等価子(equalizer of $f$ and $g$)}は\eqref{dia:equalizer}の右側のような可換図式である. ここで$$Eq(f,g):=\{x\in X\|f(x)=g(x)\}$$と定義し, また$p$はcanonical inclusionである.

\end{definition}

\begin{example}

%Suppose one has designed an experiment to test a theoretical prediction. The question becomes, ``when does the theory match the experiment?" The answer is given by the equalizer of the following diagram:
%$$\xymatrix{
%\obox{}{.5in}{an input}\ar@<1ex>[rr]^{\tn{should, according to theory, yield}}\ar@<-1ex>[rr]_{\tn{according to experiment yields}}&\hspace{1in}&\obox{}{.6in}{an output}
%}$$
%The equalizer is the set of all inputs for which the theory and the experiment yield the same output.

理論的予想を検証するための実験を立案したと仮定しよう. 問題は``どんな時に理論は実験と整合するか?''になる. その答えは以下の図式の等価子によって与えられる.
$$\xymatrix{
\obox{}{.5in}{an input}\ar@<1ex>[rr]^{\tn{should, according to theory, yield}}\ar@<-1ex>[rr]_{\tn{according to experiment yields}}&\hspace{1in}&\obox{}{.6in}{an output}
}$$
等価子は, 理論と実験が同じ出力をもたらすところの入力全てからなる集合である.

\end{example}

\begin{exercise}
%Come up with an olog that uses equalizers in a reasonably interesting way. Alternatively, use an equalizer to specify those published authors who have published exactly one paper. Hint: find a function from authors to papers; then find another.
等価子を筋道だっていて興味深い方法で用いているologを思い付け. あるいはその代わりに, 論文をちょうど一本だけ出版した著者を特徴づけるために等価子を使用せよ. ヒント: 著者から論文への函数を見出せ. 次にもう一つ別の函数を見出せ.
\end{exercise}

\begin{exercise}
%Find a universal property enjoyed by the equalizer of two arrows, and present it in the style of Lemmas \ref{lemma:up for prod}, \ref{lemma:up for coprod}, and \ref{lemma:up for fp}.
二つの矢印の等価子が持っている普遍的性質を見出し, Lemmas \ref{lemma:up for prod}, \ref{lemma:up for coprod}, および\ref{lemma:up for fp}の様式で表示せよ.
\end{exercise}

\begin{exercise}[終対象(terminal object)]\index{terminal object!in $\Set$}~
%\sexc A terminal set is a set $S$ such that for every set $X$, there exists a unique function $X\to S$. Find a terminal set. 
%\next Do you think that the notion {\em terminal set} belongs in this section (Section \ref{sec:finite limits})? How so? If products, pullbacks, and equalizers are all limits, what do limits have in common?
%\endsexc
\sexc 終集合は, 全ての集合$X$に対して函数$X\to S$が一意に存在するところの集合$S$である. 終集合を見出せ.
\next この章(Section \ref{sec:finite limits})における\emph{終集合}の概念についてなにか思っただろうか? どのように思っただろうか? もし積, 引き戻し, 等価子を全て極限(limit)と呼ぶならば, 極限が共通して持つものはなんだろうか?
\endsexc
\end{exercise}


%%%%%% Section %%%%%%

%\section{Finite colimits in $\Set$}\label{sec:finite colimits}
\section{$\Set$の有限余極限}\label{sec:finite colimits}

%This section will parallel Section \ref{sec:finite limits}---I will introduce several types of finite colimits and hope that this gives the reader some intuition about them, without formally defining them yet. Before doing so, I must define equivalence relations and quotients.

この章はSection \ref{sec:finite limits}と並立する章となる---著者はいくつかの種類の有限余極限を紹介し, それによって読者がそれらに対するなんらかの直感を, 形式的な定義を抜きにして得ることを期待する. ただしその前にまず, 我々は同値関係と商を定義しなければならない.

%%%% Subsection %%%%

%\subsection{Background: equivalence relations}\index{equivalence relation}\index{relation!equivalence}
\subsection{背景: 同値関係}\index{equivalence relation}\index{relation!equivalence}

\begin{definition}[Equivalence relations and equivalence classes]

%Let $X$ be a set. An {\em equivalence relation on $X$} is a subset $R\ss X\times X$ satisfying the following properties for all $x,y,z\in X$:
%\begin{description}
%\item[Reflexivity:] $(x,x)\in R$;
%\item[Symmetry:] $(x,y)\in R$ if and only if $(y,x)\in R$; and
%\item[Transitivity:] if $(x,y)\in R$ and $(y,z)\in R$ then $(x,z)\in R$.
%\end{description}
%If $R$ is an equivalence relation, we often write $x\sim_R y$, or simply $x\sim y$, to mean $(x,y)\in R$. For convenience we may refer to the equivalence relation by the symbol $\sim$, saying that $\sim$ is an equivalence relation on $X$.\index{a symbol!$\sim$}

$X$を集合とする. \emph{$X$上の同値関係(equivalence relation on $X$)}とは全ての$x,y,z\in X$に対して以下の性質を満たす部分集合$R\ss X\times X$である.
\begin{description}
\item[反射性(Reflexivity):] $(x,x)\in R$.
\item[対称性(Symmetry):] $(x,y)\in R$のときかつそのときに限り$(y,x)\in R$.
\item[推移性(Transitivity):] もし$(x,y)\in R$でかつ$(y,z)\in R$ならば$(x,z)\in R$.
\end{description}
もし$R$が同値関係ならば, $(x,y)\in R$を示すために我々はしばしば$x\sim_R y$, あるいはもっと簡単に$x\sim y$と書く. 便利のため, 同値関係を記号$\sim$によって参照し, $\sim$は$X$上の同値関係と言うこともあるだろう.\index{a symbol!$\sim$}

%An {\em equivalence class of $\sim$}\index{equivalence relation!equivalence classes} is a subset $A\ss X$ such that
%\begin{itemize}
%\item $A$ is nonempty, $A\neq\emptyset$;
%\item if $x\in A$ and $x'\in A$, then $x\sim x'$; and 
%\item if $x\in A$ and $x\sim y$, then $y\in A$.
%\end{itemize}
%Suppose that $\sim$ is an equivalence relation on $X$. The {\em quotient of $X$ by $\sim$}\index{equivalence relation!quotient by}, denoted $X/\sim$\index{a symbol!$X/\sim$} is the set of equivalence classes of $\sim$.

\emph{$\sim$の同値類(equivalence class of $\sim$)}\index{equivalence relation!equivalence classes}とは以下を満たす部分集合$A\ss X$である.
\begin{itemize}
\item $A$は空集合ではない, $A\neq\emptyset$.
\item もし$x\in A$であり$x'\in A$ならば$x\sim x'$. 
\item もし$x\in A$であり$x\sim y$ならば$y\in A$.
\end{itemize}
$\sim$が$X$上の同値関係だと仮定する. \emph{$X$の$\sim$による商(quotient of $X$ by $\sim$)}\index{equivalence relation!quotient by}とは, $\sim$による同値類の集合であり, $X/\sim$\index{a symbol!$X/\sim$}と書く.

\end{definition}

\begin{example}

%Let $\ZZ$ denote the set of integers. Define a relation $R\ss\ZZ\times\ZZ$ by $$R=\{(x,y)\|\exists n\in\ZZ \tn{ such that } x+7n=y\}.$$ Then $R$ is an equivalence relation because $x+7*0=x$ (reflexivity); $x+7*n=y$ if and only if $y+7*(-n)= x$ (symmetry); and $x+7n=y$ and $y+7m=z$ together imply that $x+7(m+n)=z$ (transitivity).

$\ZZ$が整数の集合を示すとする. $$R=\{(x,y)\|\exists n\in\ZZ \tn{ such that } x+7n=y\}$$によって関係$R\ss\ZZ\times\ZZ$を定義する. この時$R$は同値関係となる. なぜなら$x+7*0=x$ (反射性), $x+7*n=y$のときかつそのときに限り$y+7*(-n)= x$であり(対称性), $x+7n=y$と$y+7m=z$は$x+7(m+n)=z$を伴う(推移性).

\end{example}

\begin{exercise}
%Let $X$ be the set of people on earth; define a binary relation $R\ss X\times X$ on $X$ as follows. For a pair $(x,y)$ of people, say $(x,y)\in R$ if $x$ spends a lot of time thinking about $y$. 
%\sexc Is this relation reflexive? 
%\next Is it symmetric? 
%\next Is it transitive?
%\endsexc
$X$を地球上の人間の集合とする. $X$上の二項関係$R\ss X\times X$を次のように定義する. 人間の対$(x,y)$に対して, もし$x$が$y$について考えることに多くの時間を費やしているならば$(x,y)\in R$とする.
\sexc この関係は反射的か? 
\next 対称的か?
\next 推移的か?
\endsexc
\end{exercise}

\begin{example}[Partitions]\label{ex:partition}

%An equivalence relation on a set $X$ can be thought of as a way of partitioning $X$. A {\em partition of $X$}\index{equivalence relation!as partition} consists of a set $I$, called {\em the set of parts}, and for every element $i\in I$ a subset $X_i\ss X$ such that two properties hold:
%\begin{itemize}
%\item every element $x\in X$ is in some part (i.e. for all $x\in X$ there exists $i\in I$ such that $x\in X_i$); and
%\item no element can be found in two different parts (i.e. if $x\in X_i$ and $x\in X_j$ then $i=j$).
%\end{itemize}

%Given a partition of $X$, we define an equivalence relation $\sim$ on $X$ by saying $x\sim x'$ if $x$ and $x'$ are in the same part (i.e. if there exists $i\in I$ such that $x,x'\in X_i$). The parts become the equivalence classes of this relation. Conversely, given an equivalence relation, one makes a partition on $X$ by taking $I$ to be the set of equivalence classes and for each $i\in I$ letting $X_i$ be the elements in that equivalence class.

集合$X$の上の同値関係は$X$の分配の方法と考えることができる. \emph{partition of $X$}\index{equivalence relation!as partition}は, \emph{the set of parts}と呼ばれる集合$I$と, 全ての要素$i\in I$に対する部分集合$X_i\ss X$からなり, これらは以下の二つの性質を持つ.
\begin{itemize}
\item それぞれの要素$x\in X$はどれかの部分に属している (i.e. 全ての要素$x\in X$に対して$x\in X_i$なるところの$i\in I$が存在している).
\item 二つの異なった部分に属する要素はない (i.e. もし$x\in X_i$かつ$x\in X_j$ならば$i=j$).
\end{itemize}

partition of $X$が与えられたとき, 我々は$X$上の同値関係$\sim$を, もし$x$と$x'$が同じ部分に属しているならば(i.e. もし$x,x'\in X_i$なるところの$i\in I$が存在しているならば) $x\sim x'$ として定義できる. これらの部分はこの関係の同値類になる. 逆に, 同値関係が与えられたとき, $I$を同値類の集合, それぞれの$i\in I$に対して$X_i$を同値類の要素となるようにすることによって, $X$上の部分を作ることができる.

\end{example}

\begin{exercise}
%Let $X$ and $B$ be sets and let $f\taking X\to B$ be a function. Define a subset $R\ss X\times X$ by $$R=\{(x,y)\|f(x)=f(y)\}.$$ 
%\sexc Is $R$ an equivalence relation? 
%\next Are all equivalence relations on $X$ obtainable in this way (as the fibers of some function having domain $X$)?
%\next Does this viewpoint on equivalence classes relate to that of Example \ref{ex:partition}?
%\endsexc
$X$と$B$を集合とし, $f\taking X\to B$を函数とする. 部分集合$R\ss X\times X$を$$R=\{(x,y)\|f(x)=f(y)\}$$によって定義する.
\sexc $R$は同値関係だろうか? 
\next $X$上の全ての同値関係をこの方法で(始域$X$を持つある函数のファイバーとして)得ることができるだろうか?
\next 同値関係に対するこの観点はExample \ref{ex:partition}でのそれと関係しているだろうか?
\endsexc
\end{exercise}

\begin{exercise}
%Take a set $I$ of sets; i.e. suppose that for each element $i\in I$ you are given a set $X_i$. For every two elements $i,j\in I$ say that $i\sim j$ if $X_i$ and $X_j$ are isomorphic. Is this relation an equivalence relation on $I$?
ある集合に対して集合$I$を取る. i.e. それぞれの要素$i\in I$に対して集合$X_i$が与えられると仮定する. 全ての二つの要素$i,j\in I$に対して$X_i$と$X_j$が同型ならば$i\sim j$であるとする. この関係は$I$上の同値関係だろうか?
\end{exercise}

\begin{lemma}[Generating equivalence relations]\label{lemma:generating ERs}

%Let $X$ be a set and $R\ss X\times X$ a subset. There exists a relation $S\ss X\times X$ such that
%\begin{itemize}
%\item $S$ is an equivalence relation,
%\item $R\ss S$, and
%\item for any equivalence relation $S'$ such that $R\ss S'$, we have $S\ss S'$.
%\end{itemize}
%The relation $S'$ will be called {\em the equivalence relation generated by $R$}.\index{equivalence relation!generated}

$X$を集合, $R\ss X\times X$を部分集合とする. 以下を満たすところの関係$S\ss X\times X$が存在する.
\begin{itemize}
\item $S$は同値関係であるる
\item $R\ss S$.
\item $R\ss S'$なる任意の同値関係$S'$に対して$S\ss S'$.
\end{itemize}

\end{lemma}

\begin{proof}

%Let $L_R$ be the set of all equivalence relations on $X$ that contain $R$; in other words, each element $\ell\in L_R$ is an equivalence relation, $\ell\in X\times X$. The set $L_R$ is non-empty because $X\times X\ss X\times X$ is an equivalence relation. Let $S$ denote the set of pairs $(x_1,x_2)\in X\times X$ that appear in every element of $L_R$. Note that $R\ss S$ by definition. We need only show that $S$ is an equivalence relation.

$L_R$を, $R$を含む$X$上の全ての同値関係の集合だと仮定する. 別の言い方をすれば, それぞれの要素$\ell\in L_R$は同値関係であり, $\ell\in X\times X$である. 集合$L_R$は空ではない. なぜならば$X\times X\ss X\times X$は同値関係だからである. $S$は$L_R$の全ての要素の中に現われる対$(x_1,x_2)\in X\times X$の集合を表示するものとする. 定義より$R\ss S$である. 我々は$S$が同値関係であることさえ示せばよい.

%It is clearly reflexive, because $R$ is. If $(x,y)\in S$ then $(x,y)\in\ell$ for all $\ell\in L_R$. But since each $\ell$ is an equivalence relation, $(y,x)\in\ell$ too, so $(y,x)\in S$. This shows that $S$ is symmetric. The proof that it is transitive is similar: if $(x,y)\in S$ and $(y,z)\in S$ then they are both in each $\ell$ which puts $(x,z)$ in each $\ell$, which puts it in $S$.

これは明らかに反射的である. なぜなら$R$がそうだからである. もし$(x,y)\in S$ならば全ての$\ell\in L_R$に対して$(x,y)\in\ell$である. しかし$\ell$は同値関係だから, $(y,x)\in\ell$でもあり, よって$(y,x)\in S$である. これは$S$が対称的であることを示している. 推移的であることの証明も同様である. もし$(x,y)\in S$かつ$(y,z)\in S$ならば, 両者はともに$\ell$に含まれ, これは$(x,z)$がそれぞれの$\ell$にあることを意味し, これは$(x,z)$が$S$に含まれることを意味する.

\end{proof}

\begin{remark}

%Let $X$ be a set and $R\ss X\times X$ a relation. The proof of Lemma \ref{lemma:generating ERs} has the benefit of working even if $|X|\geq\infty$, but it has the cost that it is not very intuitive, nor useful in practice when $X$ is finite. The intuitive way to think about the idea of equivalence relation generated by $R$ is as follows.
%\begin{enumerate}
%\item First add to $R$ what is demanded by reflexivity, $R_1:=R\cup\{(x,x)\|x\in X\}$.
%\item Then add to $R$ what is demanded by symmetry, $R_2:=R_1\cup\{(x,y)\|(y,x)\in R_1\}.$
%\item Finally, add to $R$ what is demanded by transitivity, $$S=R_2\cup\{(x,z)\|(x,y)\in R_2, \tn{ and } (y,z)\in R_2\}.$$
%\end{enumerate}

$X$を集合とし$R\ss X\times X$を関係とする. Lemma \ref{lemma:generating ERs}の証明は$|X|\geq\infty$のときでさえうまくいくという利点を持つが, その代わりにそれほど直感的でなくまた$X$が有限集合のときにはそれほど便利ではないという犠牲を払っている. $R$によって生成される同値関係というアイデアを考える直感的な道は以下である.
\begin{enumerate}
\item 最初に反射性に必要なものを$R$に加える, $R_1:=R\cup\{(x,x)\|x\in X\}$.
\item 次に対称性に必要なものを$R$に加える, $R_2:=R_1\cup\{(x,y)\|(y,x)\in R_1\}.$
\item 最後に推移性に必要なものを$R$に加える, $$S=R_2\cup\{(x,z)\|(x,y)\in R_2, \tn{ and } (y,z)\in R_2\}.$$
\end{enumerate}

\end{remark}

\begin{exercise}
%Consider the set $\RR$ of real numbers. Draw the coordinate plane $\RR\times\RR$, give it coordinates $x$ and $y$. A binary relation on $\RR$ is a subset $S\ss\RR\times\RR$, which can be drawn as a set of points in the plane. 
%\sexc Draw the relation $\{(x,y)\|y=x^2\}$. 
%\next Draw the relation $\{(x,y)\|y\geq x^2\}.$
%\next Let $S_0$ be the equivalence relation on $\RR$ generated (in the sense of Lemma \ref{lemma:generating ERs}) by the empty set. Draw $S$ as a subset of the plane.
%\next Consider the equivalence relation $S_1$ generated by $\{(1,2),(1,3)\}$. Draw $S_1$ in the plane. Highlight the equivalence class containing $(1,2)$.
%\next The reflexivity property and the symmetry property have pleasing visualizations in $\RR\times\RR$; what are they? 
%\next Is there a nice heuristic for visualizing the transitivity property?
%\endsexc
実数の集合$\RR$を考える. 座標平面$\RR\times\RR$を描き, 座標を$x$と$y$とする. $\RR$上の二項関係は$S\ss\RR\times\RR$の部分集合であり, これは平面上の点の集合として書くことができる.
\sexc 関係$\{(x,y)\|y=x^2\}$を描け.
\next 関係$\{(x,y)\|y\geq x^2\}$を描け.
\next $S_0$を, 空集合から(Lemma \ref{lemma:generating ERs}の意味で)生成された$\RR$上の同値関係とする. $S$を平面の分集合として描け. 
\next $\{(1,2),(1,3)\}$によって生成される同値関係$S_1$について考える $S_1$を平面上に描け. $(1,2)$を含む同値類を強調せよ.
\next 反射性と対称性は$\RR\times\RR$上で気持ちよく視覚化できる性質がある. それはなにか?
\next 推移性の視覚化に対してはよい発見的方法はあるだろうか?
\endsexc
\end{exercise}

\begin{exercise}
%Consider the binary relation $R=\{(n,n+1)\|n\in\ZZ\}\ss\ZZ\times\ZZ$. 
%\sexc What is the equivalence relation generated by $R$? 
%\next How many equivalence classes are there?
%\endsexc
二項関係$R=\{(n,n+1)\|n\in\ZZ\}\ss\ZZ\times\ZZ$を考える. 
\sexc $R$によって生成される同値関係は何か? 
\next 同値類の数はどれだけあるか?
\endsexc
\end{exercise}

\begin{exercise}
%Suppose $N$ is a network (or graph). Let $X$ be the nodes of the network, and let $R\ss X\times X$ denote the relation such that $(x,y)\in R$ iff there exists an arrow connecting $x$ to $y$.
%\footnote{The word {\em iff} means ``if and only if". In this case we are saying that the pair $(x,y)$ is in $R$ if and only if there exists an arrow connecting $x$ and $y$.\index{iff}}
%\sexc What is the equivalence relation $\sim$ generated by $R$? 
%\next What is the quotient $X/\sim$?
%\endsexc
$N$をネットワーク(あるいはグラフ)と仮定する. $X$をネットワークのノードとし, $R\ss X\times X$を関係とし, $(x,y)\in R$なのは$x$と$y$を結んでいる矢印が存在しているときかつその時に限るとする. 
\footnote{原注: 単語\emph{iff}は``if and only if''を意味する. この場合は, 対$(x,y)$が$R$に存在するのは$x$と$y$を結ぶ矢が存在するときかつその時に限るということを言っている.\index{iff}}
\sexc $R$によって生成される同値関係$\sim$は何か?
\next 商$X/\sim$は何か?
\endsexc
\end{exercise}

%%%% Subsection %%%%

%\subsection{Pushouts}\label{sec:pushouts}
\subsection{押し出し}\label{sec:pushouts}

%\begin{definition}[Pushout]\label{def:pushout}
\begin{definition}[押し出し]\label{def:pushout}

%Suppose given the diagram of sets and functions below:
%\begin{align}\label{dia:pushout}
%\xymatrix{W\ar[r]^f\ar[d]_g&X\\Y}
%\end{align}
%Its {\em fiber sum},\index{fiber sum} denoted $X\sqcup_WY$, is defined as the quotient of $X\sqcup W\sqcup Y$ by the equivalence relation $\sim$ generated by $w\sim f(w)$ and $w\sim g(w)$ for all $w\in W$.
%$$X\sqcup_WY:=(X\sqcup W\sqcup Y)/\sim \hsp\tn{where } \forall w\in W,\;\;  w\sim f(w)\;\;\tn{ and }\;\; w\sim g(w).$$ 
%There are obvious inclusions $i_1\taking X\to X\sqcup_WY$ and $i_2\taking Y\to X\sqcup_WY$.
%\footnote{Note that our term inclusions is not too good, because it seems to suggest that $i_1$ and $i_2$ are injective (see Definition \ref{def:inj,surj,bij}) and this is not always the case.}
%Note that if $Z=X\sqcup_WY$ then the diagram
%\begin{align}\label{dia:pushout sets}
%\xymatrix{W\ar[r]^g\ar[d]_f&Y\ar[d]^{i_2}\\X\ar[r]_-{i_1}&Z\lrlimit}
%\end{align} 
%commutes. Given the setup of Diagram \ref{dia:pushout} we define the {\em pushout of $X$ and $Y$ over $W$} to be any set $Z$ for which we have an isomorphism $Z\To{\iso}X\sqcup_WY$. The corner symbol $\ulcorner$ in Diagram \ref{dia:pushout sets} indicates that $Z$ is the pushout.\index{a symbol!$\ulcorner$}

以下の集合と函数の図式が与えられたとする.
\begin{align}\label{dia:pushout}
\xymatrix{W\ar[r]^f\ar[d]_g&X\\Y}
\end{align}
\emph{ファイバー和(fiber sum)}\index{fiber sum}は, 全ての$w\in W$に対して$w\sim f(w)$および$w\sim g(w)$によって生成される同値関係$\sim$による$X\sqcup W\sqcup Y$の商によって定義され, $X\sqcup_WY$と表記される.
$$X\sqcup_WY:=(X\sqcup W\sqcup Y)/\sim \hsp\tn{where } \forall w\in W,\;\;  w\sim f(w)\;\;\tn{ and }\;\; w\sim g(w).$$ 
明らかな包含(inclusion) $i_1\taking X\to X\sqcup_WY$および$i_2\taking Y\to X\sqcup_WY$が存在する.
\footnote{我々が用語として使った包含はそれほどよいものではない. なぜならこの用語は$i_1$と$i_2$が単射(Definition \ref{def:inj,surj,bij}を見よ)であることを示唆しているようにみえるが, これは常にはなりたたないからだ.}
もし$Z=X\sqcup_WY$ならば, 図式
\begin{align}\label{dia:pushout sets}
\xymatrix{W\ar[r]^g\ar[d]_f&Y\ar[d]^{i_2}\\X\ar[r]_-{i_1}&Z\lrlimit}
\end{align} 
が可換であることに注意せよ. Diagram \ref{dia:pushout}の設定が与えられたとき, 我々は\emph{$Z$上の$X$と$Y$の押し出し(pushout of $X$ and $Y$ over $W$)}を, 同型写像$Z\To{\iso}X\sqcup_WY$があるところの任意の集合$Z$として定義することができる. Diagram \ref{dia:pushout sets}の鉤記号$\ulcorner$は$Z$が押し出しであることを示す.\index{a symbol!$\ulcorner$}

\end{definition}

\begin{example}

%Let $X=\{x\in\RR\|0\leq x\leq1\}$ be the set of numbers between 0 and 1, inclusive, let $Y=\{y\in\RR\|1\leq y\leq 2\}$ by the set of numbers between 1 and 2, inclusive, and let $W=\{1\}$. Then the pushout $X\From{f} W\To{g} Y$, where $f$ and $g$ are the ``obvious" functions ($1\mapsto 1$) is $X\sqcup_WY\iso\{z\in\RR\|0\leq z\leq 2\}$, as expected. When we eventually get to general colimits, one can check that the whole real line can be made by patching together intervals in this way.

$X=\{x\in\RR\|0\leq x\leq1\}$を0と1の間の数の閉集合とし, $Y=\{y\in\RR\|1\leq y\leq 2\}$を1と2の間の数の閉集合とし, $W=\{1\}$とする. このとき押し出し$X\From{f} W\To{g} Y$は, 予想される通り$X\sqcup_WY\iso\{z\in\RR\|0\leq z\leq 2\}$である. ここで$f$と$g$は``自明な''函数($1\mapsto 1$)である. 最終的に一般的な余極限をとる際には, この方法による区間の切り貼りによって全実軸が作れることを確かめることができる.

\end{example}

\begin{example}[Pushout]\label{ex:pushout}

%In each example below, the diagram to the right is intended to be a pushout of the diagram to the left.  The new object, $D$, is the union of $B$ and $C$, but instances of $A$ are equated to their $B$ and $C$ aspects.  This will be discussed after the two diagrams.

以下のそれぞれの例では, 右側の図式は左側の図式の押し出しであることを意図している. 新しい対象$D$は$B$と$C$の合併であるが, $A$の実例はその$B$と$C$の様相と同等に扱われる. これに関しては以下の二つの図式の後に議論することにする.

\begin{align}
\label{dia:po1}\fbox{\xymatrixnocompile{\obox{A}{.7in}{a cell in the shoulder}\LA{r}{is}\LAL{d}{is}&\obox{C}{.6in}{a cell in the arm}\\\obox{B}{.7in}{a cell in the torso}}}\hsp&\fbox{\xymatrix{\obox{A}{.7in}{a cell in the shoulder}\LA{r}{is}\LAL{d}{is}&\obox{C}{.6in}{a cell in the arm}\LA{d}{}\\\obox{B}{.7in}{a cell in the torso}\LA{r}{}&\obox{D=B\sqcup_AC}{.8in}{a cell in the torso or arm}}}
\end{align}
%In the left-hand olog (\ref{dia:po1}, the two arrows are inclusions: the author considers every cell in the shoulder to be both in the arm and in the torso. The pushout is then just the union, where cells in the shoulder are not double-counted.
左手側のolog \eqref{dia:po1}では, 二つの矢印は単射である. すなわちologの作者は肩の全ての細胞は腕と胴体の両方にあると考えてる. このとき押し出しは単純に合併であり, 肩の細胞は二重に数えられてはいない.

\begin{align}\label{dia:po2}\fbox{\xymatrixnocompile@=18pt{\obox{A}{.8in}{\rr a college mathematics course}\LA{r}{yields}\LAL{d}{is}&\obox{C}{.8in}{an utterance of the phrase ``too hard"}\\\obox{B}{.6in}{\rr a college course}}}\hsp&\fbox{\xymatrixnocompile@=18pt{\obox{A}{.8in}{\rr a college mathematics course}\LA{r}{yields}\LAL{d}{is}&\obox{C}{.8in}{an utterance of the phrase ``too hard"}\LA{d}{}\\\obox{B}{.6in}{\rr a college course}\LA{r}{}&\obox{\parbox{.6in}{\vspace{.1in}\tiny$D=B\!\sqcup_A\!C$}}{1in}{\rr a college course, where every mathematics course is replaced by an utterance of the phrase ``too hard"}}}
\end{align}

%In Olog (\ref{dia:po1}), the shoulder is seen as part of the arm and part of the torso.  When taking the union of these two parts, we do not want to ``double-count" the shoulder (as would be done in the coproduct $B\sqcup C$, see Example \ref{ex:coproduct2}).  Thus we create a new type $A$ for cells in the shoulder, which are considered the same whether viewed as cells in the arm or cells in the torso.  In general, if one wishes to take two things and glue them together, with $A$ as the glue and with $B$ and $C$ as the two things to be glued, the union is the pushout $B\sqcup_AC$. (A nice image of this can be seen in the setting of topological spaces, see Example \ref{ex:pushout in Top}.)

olog \eqref{dia:po1}では, 肩は腕の一部部分でありまた胴体の一部分であるようである. この時はこれら二つの合併をとる際に(余積$B\sqcup C$を取った時のように)肩を二重に数えたくない(Example \ref{ex:coproduct2}も見よ). よって我々は肩の細胞に対して新しい型$A$を作り, それを腕の細胞か胴体の細胞かのどちらかとみなすことにする. 一般的に, もし二つのものを取ってきてそれをのり付けし一緒にしたいならば, $A$はのりとして$B$と$C$はそれによってのり付けられる二つのものとして, その合併は押し出し$B\sqcup_AC$である. (これについのよいイメージが位相空間の設定で見ることができる. Example \ref{ex:pushout in Top}を見よ.)

%In Olog (\ref{dia:po2}), if every mathematics course is simply ``too hard," then when reading off a list of courses, each math course will not be read aloud but simply read as ``too hard."  To form $D$ we begin by taking the union of $B$ and $C$, and then we consider everything in $A$ to be the same whether one looks at it as a course or as the phrase ``too hard."  The math courses are all blurred together as one thing.  Thus we see that the power to equate different things can be exercised with pushouts.

olog \eqref{dia:po2}で, もし全ての数学コースが単純に``難しすぎる''ならば, その時はコースの一覧を読み上げる際, それぞれの数学のコースは声に出して読みあげる必要はなく単に``難しすぎる''と読めばよいだろう. $D$を形成するのにはまず$B$と$C$の合併をとり, 次に$A$の全てがコースか単語``too hard''で表現できるかのどちらかであるものは全て同じものとみなす. 数学コースはすべて一緒になって一つのものにぼやかされる. よって異なるもの同等視する力は押し出しによって行使可能であることが分かる.

\end{example}

\begin{exercise}
%Let $W,X,Y$ be as drawn and $f\taking W\to X$ and $g\taking W\to Y$ the indicated functions. 
$W$, $X$, $Y$が図のようであるとし, $f\taking W\to X$および$g\taking W\to Y$が図示された函数とする. 
\begin{center}
\includegraphics[height=2in]{setPushout}
\end{center}
%The pushout of the diagram $X\Fromm{f}W\Too{g}Y$ is a set $P$. Write down the cardinality of $P\iso\ul{n}$ as a natural number $n\in\NN$.
図式の押し出し$X\Fromm{f}W\Too{g}Y$は集合$P$である. $P\iso\ul{n}$の濃度を自然数$n\in\NN$として書き下せ.
\end{exercise}

\begin{exercise}
%Suppose that $W=\emptyset$; what can you say about $X\sqcup_WZ$? 
$W=\emptyset$と仮定する. $X\sqcup_WZ$について何が言えるだろうか?
\end{exercise}

\begin{exercise}
%Let $W:=\NN=\{0,1,2,\ldots\}$ denote the set of natural numbers, let $X=\ZZ$ denote the set of integers, and let $Y=\singleton$ denote a one-element set. Define $f\taking W\to X$ by $f(w)= -(w+1)$, and define $g\taking W\to Y$ to be the unique map. Describe the set $X\sqcup_WY$.
$W:=\NN=\{0,1,2,\ldots\}$は自然数を示しているとし, $X=\ZZ$は整数を示しているとし, $Y=\singleton$は一要素集合を示しているとする. $f\taking W\to X$を$f(w)= -(w+1)$によって定義し, また$\taking W\to Y$を一意な写像になるように定義せよ. $X\sqcup_WY$を表現せよ.
\end{exercise}

\begin{exercise}
%Let $i\taking R\ss X\times X$ be an equivalence relation (see Example \ref{ex:subset as function} for notation). Composing with the projections $\pi_1,\pi_2\taking X\times X\to X$, we have two maps $\pi_1\circ i,\taking R\to X$ and $\pi_2\circ i\taking R\to X$. 
%\sexc What is the pushout $$X\From{\pi_1\circ i}R\To{\pi_2\circ i}X?$$ 
%\next If $i\taking R\ss X\times X$ is not assumed to be an equivalence relation, we can still define the pushout above. Is there a relationship between the pushout $X\From{\pi_1\circ i}R\To{\pi_2\circ i}X$ and the equivalence relation generated by $R\ss X\times X$?
%\endsexc
$i\taking R\ss X\times X$を同値関係とする(記法に関してはExample \ref{ex:subset as function}を見よ). 射影$\pi_1,\pi_2\taking X\times X\to X$を合成することにより, 二つの写像$\pi_1\circ i,\taking R\to X$と$\pi_2\circ i\taking R\to X$が得られる.
\sexc $X\From{\pi_1\circ i}R\To{\pi_2\circ i}X$の押し出しは何か?
\next $i\taking R\ss X\times X$が同値関係と仮定できない場合も, 上記の押し出しを定義することはできる. 押し出し$X\From{\pi_1\circ i}R\To{\pi_2\circ i}X$と$R\ss X\times X$によって生成される同値関係との間に何か関係があるだろうか?
\endsexc
\end{exercise}


%\begin{lemma}[Universal property for pushout]\label{lemma:up for po}
\begin{lemma}[押し出しの普遍的性質]\label{lemma:up for po}

%Suppose given the diagram of sets and functions as below.
以下のように集合と函数の図式が与えられたとする.
\begin{align*}
\xymatrix{W\ar[r]^u\ar[d]_t&Y\\
X}
\end{align*}
%For any set $A$ and commutative solid arrow diagram as below (i.e. functions $f\taking X\to A$ and $g\taking Y\to A$ such that $f\circ t=g\circ u$), 
任意の集合$A$と, 以下のような可換な実線の矢印の図式(i.e. $f\circ t=g\circ u$であるところの函数$f\taking X\to A$および$g\taking Y\to A$)に対して, 
\begin{align}\label{dia:universal property of po}
\xymatrix{
&W\ar[dr]^u\ar[dl]_t\\
X\ar@/_1pc/[dddr]_{i_1}\ar[rd]_f&&Y\ar@/^1pc/[dddl]^{i_2}\ar[dl]^g\\
&A\\\\
&X\sqcup_WY\ar@{-->}[uu]^{\exists!}
}
\end{align}
%there exists a unique arrow $\po{f}{g}{W}\taking X\sqcup_WY\to A$ making everything commute, $$f=\po{f}{g}{W}\circ i_1\hsp\text{and}\hsp g=\po{f}{g}{W}\circ i_2.$$
全てを可換にする矢印$\po{f}{g}{W}\taking X\sqcup_WY\to A$が一意に存在する.
$$f=\po{f}{g}{W}\circ i_1\hsp\text{and}\hsp g=\po{f}{g}{W}\circ i_2.$$
\end{lemma}

%%%% Subsection %%%%

%\subsection{Other finite colimits}
\subsection{他の有限余極限}

%\begin{definition}\label{def:coequalizer}[Coequalizer]\index{coequalizer}
\begin{definition}[余等価子]\label{def:coequalizer}\index{coequalizer}

%Suppose given two parallel arrows 
二本の平行な矢印が与えられたとする.
\begin{align}\label{dia:coequalizer}
\xymatrix{X\ar@<.5ex>[r]^f\ar@<-.5ex>[r]_g&Y.}\hspace{1in}\xymatrix{X\ar@<.5ex>[r]^f\ar@<-.5ex>[r]_g&Y\ar[r]^-q&Coeq(f,g)}
\end{align}
%The {\em coequalizer of $f$ and $g$} is the commutative diagram as to the right in (\ref{dia:coequalizer}), where we define $$Coeq(f,g):=Y\;/\;f(x)\sim g(x)$$ i.e. the coequalizer of $f$ and $g$ is the quotient of $Y$ by the equivalence relation generated by $\{(f(x),g(x))\|x\in X\}\ss Y\times Y$
\emph{$f$と$g$の余等価子(coequalizer of $f$ and $g$)}は\eqref{dia:coequalizer}の右側のような可換図式である. ここで$$Coeq(f,g):=Y\;/\;f(x)\sim g(x)$$と定義した. i.e. $f$と$g$の余等価子は, $\{(f(x),g(x))\|x\in X\}\ss Y\times Y$によって生成される同値関係による, $Y$の商である.

\end{definition}

\begin{exercise}
%Let $X=\RR$ be the set of real numbers. What is the coequalizer of the two maps $X\to X$ given by $x\mapsto x$ and $x\mapsto (x+1)$ respectively?
$X=\RR$を実数の集合とする. $x\mapsto x$と$x\mapsto (x+1)$によって与えられる二つの写像$X\to X$の余等価子は何だろうか?
\end{exercise}

\begin{exercise}
%Find a universal property enjoyed by the coequalizer of two arrows.
二つの矢印の余等価子が持っている普遍的性質を見出せ.
\end{exercise}

%\begin{exercise}[Initial object]\label{exc:initial set}
\begin{exercise}[始対象(initial object)]\label{exc:initial set}\index{initial object!in $\Set$}
%An initial set is a set $S$ such that for every set $A$, there exists a unique function $S\to A$. 
%\sexc Find an initial set. 
%\next Do you think that the notion {\em initial set} belongs in this section (Section \ref{sec:finite colimits})? How so? If coproducts, pushouts, and coequalizers are all colimits, what do colimits have in common?
%\endsexc
始集合は, 全ての集合$A$に対して函数$S\to A$が一意に存在するところの集合$S$である.
\sexc 始集合を見出せ.
\next この章(Section \ref{sec:finite colimits})における始集合の概念についてなにか思っただろうか? もし余積, 押し出し, 余等価子を全て余極限(colimit)と呼ぶならば, 余極限が共通して持つものはなんだろうか?
\endsexc
\end{exercise}


%%%%%% Section %%%%%%

%\section{Other notions in $\Set$}
\section{$\Set$におけるその他の様々な概念}

%In this section we discuss some left-over notions in the category of Sets.
この章では, 我々はまだ触れられていない集合の圏における様々な概念について議論する.

%%%% Subsection %%%%

\subsection{Retractions}

\begin{definition}

%Suppose we have a function $f\taking X\to Y$ and a function $g\taking Y\to X$ such that $g\circ f=\id_X$. In this case we call $f$ a {\em retract section} and we call $g$ a {\em retract projection}. \index{retraction}

$g\circ f=\id_X$であるところの函数$f\taking X\to Y$と函数$g\taking Y\to X$があるとする. この場合, $f$を\emph{retract section}と呼び, $g$を\emph{retract projection}と呼ぶ. \index{retraction}

\end{definition}

\begin{exercise}
%Create an olog that includes sets $X$ and $Y$, and functions $f\taking X\to Y$ and $g\taking Y\to X$ such that $g\circ f=\id_X$ but such that $f\circ g\neq\id_Y$; that is, such that $f$ is a retract section but not an isomorphism.
集合$X$, $Y$と, 函数$f\taking X\to Y$, $g\taking Y\to X$を含み, $g\circ f=\id_X$であるが$f\circ g\neq\id_Y$であるologを作成せよ. これは, $f$はretract sectionであるが同型写像でないことを意味している.
\end{exercise}

%%%% Subsection %%%%

\subsection{Curry化}\label{sec:currying}\index{currying}\index{materials!force extension curves}

%Currying is the idea that when a function takes many inputs, we can input them one at a time or all at once. For example, consider the function that takes a material $M$ and an extension $E$ and returns the force transmitted through the material when it is pulled to that extension. This is a function $e\taking \fakebox{a material}\times\fakebox{an extension}\to\fakebox{a force}$. This function takes two inputs at once, but it is convenient to ``curry" the second input. Recall that $\Hom_\Set(\fakebox{an extension},\fakebox{a force})$ is the set of theoretical force-extension curves. Currying transforms $e$ into a function $$e'\taking\fakebox{a material}\to\Hom_\Set(\fakebox{an extension},\fakebox{a force}).$$ This is a more convenient way to package the same information. 

Curry化(currying)は, 函数が複数の入力を取るときに, 一回につき一つ入力するか一度に全部入力するかのどちらかが可能である, というアイデアである. 例えば, 物質$M$と伸び$E$を取り, その伸びを得るまで物質をひっぱったときに物質が生む力を返す函数を考える. これは函数$e\taking \fakebox{a material}\times\fakebox{an extension}\to\fakebox{a force}$である. この函数は二つの入力を一度にとるが, 二番目の入力を``curry化''するのもまた便利である. $\Hom_\Set(\fakebox{an extension},\fakebox{a force})$は理論的な応力-ひずみ曲線の集合であることを思い出そう. Curry化は$e$を函数$$e'\taking\fakebox{a material}\to\Hom_\Set(\fakebox{an extension},\fakebox{a force})$$に変換する. これは同じ情報をパッケージ化するのにあたってより便利な方法である.

%In fact, it may be convenient to repackage this information another way. For any extension, we may want the function that takes a material and returns how much force it can transmit at that extension. This is a function $$e''\taking\fakebox{an extension}\to\Hom_\Set(\fakebox{a material},\fakebox{a force}).$$ 

実際のところ, この情報はまた別の方法で再パッケージ化するのが便利かもしれない. 任意の伸びに対して, なんらかの物質を受け取ってその伸びに対応して生み出された力を返す函数が欲しいかもしれない. これは函数$$e''\taking\fakebox{an extension}\to\Hom_\Set(\fakebox{a material},\fakebox{a force})$$である.

\begin{notation}\index{exponentials ! in $\Set$}
%Let $A$ and $B$ be sets. We sometimes denote the set of functions from $A$ to $B$ by 
$A$と$B$を集合とする. 我々はしばしば$A$から$B$への函数の集合を以下のように表記する.
\begin{align}\label{dia:exponential sets}
B^A:=\Hom_\Set(A,B).
\end{align}
\end{notation}

\begin{exercise}
%For a finite set $A$, let $|A|\in\NN$ denote the cardinality of (number of elements in) $A$. If $A$ and $B$ are both finite (including the possibility that one or both are empty), is it always true that $|B^A|=|B|^{|A|}$?
有限集合$A$に対し, $|A|\in\NN$は$A$の濃度(要素数)を表すとする. $A$と$B$がともに有限であるとき(どちらか一方あるいは両方が空集合である場合を含む), $|B^A|=|B|^{|A|}$は常に真だろうか?
\end{exercise}

\begin{proposition}[Currying]\label{prop:curry}

%Let $A$ denote a set. For any sets $X,Y$ there is a bijection 
%\begin{align}\label{dia:curry bijection}
%\phi\taking\Hom_\Set(X\times A,Y)\To{\iso}\Hom_\Set(X,Y^A).
%\end{align}

$A$は集合を表すとする. 任意の集合$X$, $Y$に対し, 全単射
\begin{align}\label{dia:curry bijection}
\phi\taking\Hom_\Set(X\times A,Y)\To{\iso}\Hom_\Set(X,Y^A).
\end{align}
が存在する.

\end{proposition}

\begin{proof}

%Suppose given $f\taking X\times A\to Y$. Define $\phi(f)\taking X\to Y^A$ as follows: for any $x\in X$ let $\phi(f)(x)\taking A\to Y$ be defined as follows: for any $a\in A$, let $\phi(f)(x)(a):=f(x,a)$. 

$f\taking X\times A\to Y$が与えられたとする. $\phi(f)\taking X\to Y^A$を以下のように定義する. 任意の$x\in X$に対して$\phi(f)(x)\taking A\to Y$を以下のように定義する. 任意の$a\in A$に対して$\phi(f)(x)(a):=f(x,a)$.

%We now construct the inverse, $\psi\taking\Hom_\Set(X,Y^A)\to\Hom_\Set(X\times A,Y)$. Suppose given $g\taking X\to Y^A$. Define $\psi(g)\taking X\times A\to Y$ as follows: for any pair $(x,a)\in X\times A$ let $\psi(g)(x,a):=g(x)(a)$. 

今度は逆写像, $\psi\taking\Hom_\Set(X,Y^A)\to\Hom_\Set(X\times A,Y)$を構成しよう. $g\taking X\to Y^A$が与えられたとする. $\psi(g)\taking X\times A\to Y$を以下のように定義する. 任意の対$(x,a)\in X\times A$に対して$\psi(g)(x,a):=g(x)(a)$.

%Then for any $f\in\Hom_\Set(X\times A,Y)$ we have $\psi\circ\phi(f)(x,a)=\phi(f)(x)(a)=f(x,a)$, and for any $g\in\Hom_\Set(X,Y^A)$ we have $\phi\circ\psi(g)(x)(a)=\psi(g)(x,a)=g(x)(a)$, Thus we see that $\phi$ is an isomorphism as desired.

この時, 任意の$f\in\Hom_\Set(X\times A,Y)$に対して$\psi\circ\phi(f)(x,a)=\phi(f)(x)(a)=f(x,a)$が得られ, 任意の$g\in\Hom_\Set(X,Y^A)$に対して$\phi\circ\psi(g)(x)(a)=\psi(g)(x,a)=g(x)(a)$が得られる. これによって$\phi$は期待した通り同型写像であることが分かる.

\end{proof}

\begin{exercise}
%Let $X=\{1,2\}, A=\{a,b\}$, and $Y=\{x,y\}$. 
%\sexc\label{part:three distinct} Write down three distinct elements of $L:=\Hom_\Set(X\times A,Y)$. 
%\next Write down all the elements of $M:=\Hom_\Set(A,Y)$. 
%\next For each of the three elements $\ell\in L$ you chose in part (\ref{part:three distinct}), write down the corresponding function $\phi(\ell)\taking X\to M$ guaranteed by Proposition \ref{prop:curry}.
%\endsexc
$X=\{1,2\}, A=\{a,b\}$, $Y=\{x,y\}$とする.
\sexc\label{part:three distinct} $L:=\Hom_\Set(X\times A,Y)$の異なる要素を三つ書き下せ.
\next $M:=\Hom_\Set(A,Y)$の要素を全て書き下せ.
\next \eqref{part:three distinct}で選んだ三要素$\ell\in L$のそれぞれについて, Proposition \ref{prop:curry}によって存在が保証されているところの対応する函数$\phi(\ell)\taking X\to M$を書き下せ.
\endsexc
\end{exercise}

\begin{exercise}\label{exc:evaluation}\index{exponentials!evaluation of}
%Let $A$ and $B$ be sets. We know that $\Hom_\Set(A,B)=B^A$, so we have a function $\id_{B^A}\taking\Hom_\Set(A,B)\to B^A$. Look at Proposition \ref{prop:curry}, making the substitutions $X=\Hom_\Set(A,B)$, $Y=B$, and  $A=A$. Consider the function $$\phi^\m1\taking\Hom_\Set(\Hom_\Set(A,B),B^A)\to\Hom_\Set(\Hom_\Set(A,B)\times A,B)$$ obtained as the inverse of (\ref{dia:curry bijection}). We have a canonical element $\id_{B^A}$ in the domain of $\phi^\m1$. We can apply the function $\phi^\m1$ and obtain an element $ev=\phi^\m1(\id_{B^A})\in\Hom_\Set(\Hom_\Set(A,B)\times A,B)$, which is itself a function, $$ev\taking\Hom_\Set(A,B)\times A\to B.$$ 
%\sexc Describe the function $ev$ in terms of how it operates on elements in its domain. 
%\next Why might one be tempted to denote this function by $ev$?
%\endsexc
%
$A$と$B$を集合とする. 我々は$\Hom_\Set(A,B)=B^A$であることを知っている. よって函数$\id_{B^A}\taking\Hom_\Set(A,B)\to B^A$が得られる. Proposition \ref{prop:curry}において, $X=\Hom_\Set(A,B)$, $Y=B$, $A=A$の代入を行なってみよう. \eqref{dia:curry bijection}の逆として得られる函数$$\phi^\m1\taking\Hom_\Set(\Hom_\Set(A,B),B^A)\to\Hom_\Set(\Hom_\Set(A,B)\times A,B)$$を考える. $\phi^\m1$の始域にはcanonicalな要素$\id_{B^A}$がある. 函数$\phi^\m1$を適用すれば要素$ev=\phi^\m1(\id_{B^A})\in\Hom_\Set(\Hom_\Set(A,B)\times A,B)$を得ることができる. この要素はそれ自体が函数である. $$ev\taking\Hom_\Set(A,B)\times A\to B.$$ 
\sexc 函数$ev$を, その始域の要素に対してどのように演算が行なわれるかという観点で記述せよ.
\next $ev$によってこの函数を記述するのが魅力的だと考えられるのはなぜだろうか?
\endsexc
\end{exercise}

%If $n\in\NN$ is a natural number, recall from (\ref{dia:underline n}) that there is a nice set $\ul{n}=\{1,2,\ldots,n\}$. If $A$ is a set, we often make the abbreviation 
$n\in\NN$を自然数とする. \eqref{dia:underline n}から, よい性質を持つ集合$\ul{n}=\{1,2,\ldots,n\}$が存在することを思いだそう. もし$A$が集合ならば, 我々はしばしば以下の略記を使用する.
\begin{align}\label{dia:exponential abbrev}
A^n:=A^{\ul{n}}.
\end{align}

\begin{exercise}\label{exc:two R2s}
%
%In Example \ref{ex:R2} we said that $\RR^2$ is an abbreviation for $\RR\times\RR$, but in (\ref{dia:exponential abbrev}) we say that $\RR^2$ is an abbreviation for $\RR^{\ul{2}}$. Use Exercise \ref{exc:generator for set}, Proposition \ref{prop:curry}, Exercise \ref{exc:coprod}, and the fact that 1+1=2, to prove that these are isomorphic, $\RR^{\ul{2}}\iso\RR\times\RR$.
%
Example \ref{ex:R2}では$\RR^2$は$\RR\times\RR$の略記と言ったが, しかし\eqref{dia:exponential abbrev}では$\RR^2$は$\RR^{\ul{2}}$の略記と言った. Exercise \ref{exc:generator for set}, Proposition \ref{prop:curry}, Exercise \ref{exc:coprod}, そして$1+1=2$という事実を用い, 同型写像$\RR^{\ul{2}}\iso\RR\times\RR$が存在することを証明せよ.

%(The answer to Exercise \ref{exc:generator for set} was $A=\singleton$: i.e. $\Hom_\Set(\singleton,X)\iso X$ for all $X$.)
%
(Exercise \ref{exc:generator for set}の答えは$A=\singleton$だった. i.e. 全ての$X$に対し$\Hom_\Set(\singleton,X)\iso X$.)
%
\end{exercise}

%%%% Subsection %%%%

%\subsection{Arithmetic of sets}\label{sec:arithmetic of sets}\index{set!arithmetic of}
\subsection{集合の算術}\label{sec:arithmetic of sets}\index{set!arithmetic of}

%Proposition \ref{prop:arithmetic of sets} summarizes the properties of products, coproducts, and exponentials, and shows them all in a familiar light, namely that of arithmetic. In fact, one can think of the natural numbers as literally being the isomorphism classes of finite sets---that's what they are used for in counting. Consider the standard procedure for counting the elements of a set $S$, say cows in a field: one points to an element in $S$ and simultaneously says ``1", points to another element in $S$ and simultaneously says ``2", and so on until finished. This procedure amounts to nothing more than creating an isomorphism (one-to-one mapping) between $S$ and some set $\ul{n}$. 

Proposition \ref{prop:arithmetic of sets}は積, 余積, 指数の性質をまとめ, そしてそれら全てを身近な観点, すなわち集合の算術という観点の下で提示する. 事実, 自然数は有限集合に対する同型写像の類まさにそのものとして考えることができる---これは数え上げに使っていることそのものだ. 集合$S$, 例えば牧場にいる牛の数え上げに使う標準的な手続きを考える. 数え上げる人は$S$内のある要素を指差して同時に``1''と言い, $S$の別の要素を指差して同時に``2''と言い, そして終了するまで続ける. この手続きは$S$とある集合$\ul{n}$の間の同型写像(一対一写像)がそれ以上作れなくなるところまで続く. 

%Again, the natural numbers are the isomorphism classes of finite sets. Their behavior, i.e. the arithmetic of natural numbers, reflects the behavior of sets. For example the fact that multiplication distributes over addition is a fact about grids of dots as in Example \ref{ex:grid1}. The following proposition lays out such arithmetic properties of sets.

繰り返すと, 自然数は有限集合の同型写像の類である. これらのふるまい, i.e. 自然数の算術は, 集合のふるまいを反映している. 例えば乗算の加算への分配則はExample \ref{ex:grid1}での点の格子に関する事実である. 以下のpropositionは, 集合のこれらの算術的性質を列挙したものである.

%In this proposition, we denote the coproduct of two sets $A$ and $B$ by the notation $A+B$ rather than $A\sqcup B$. It is a reasonable notation in general, and one that is often used. 

このpropositionでは, われわれは二つの集合$A$および$B$の余積を$A\sqcup B$ではなく$A+B$によって表記する. これは一般的に読みやすく, しばしば使われる記法である.

\begin{proposition}\label{prop:arithmetic of sets}

%The following isomorphisms exist for any sets $A,B,$ and $C$ (except for one caveat, see Exercise \ref{exc:0 to the 0}). 
以下の同型写像は任意の集合$A$, $B$, $C$に対して存在する(一点の注意事項を例外として. Exercise \ref{exc:0 to the 0}を見よ.).
\begin{itemize}
\item $A+\ul{0}\iso A$
\item $A + B\iso B + A$
\item $(A + B) + C \iso A + (B + C)$
\item $A\times\ul{0}\iso\ul{0}$
\item $A\times\ul{1}\iso A$
\item $A\times B\iso B\times A$
\item $(A\times B)\times C \iso A\times (B\times C)$
\item $A\times(B+C)\iso (A\times B)+(A\times C)$
\item $A^{\ul{0}}\iso \ul{1}$
\item $A^{\ul{1}}\iso A$
\item $\ul{0}^A\iso\ul{0}$
\item $\ul{1}^A\iso\ul{1}$
\item $A^{B+C}\iso A^B\times A^C$
\item $(A^B)^C\iso A^{B\times C}$
\end{itemize}

\end{proposition}

\begin{exercise}\label{exc:0 to the 0}
%Everything in Proposition \ref{prop:arithmetic of sets} is true except in one case, namely that of $$\ul{0}^{\ul{0}}.$$ In this case, we get conflicting answers, because for any set $A$, including $A=\emptyset=\ul{0}$, we have claimed both that $A^{\ul{0}}\iso\ul{1}$ and that $\ul{0}^A\iso\ul{0}.$ 
Proposition \ref{prop:arithmetic of sets}は一つの例外を除いて全て真である. その例外とはすなわち$$\ul{0}^{\ul{0}}$$である. この場合, 我々は矛盾した答えを得る. なぜなら$A=\emptyset=\ul{0}$も含めた任意の集合$A$に対して, $A^{\ul{0}}\iso\ul{1}$と$\ul{0}^A\iso\ul{0}$の両方を主張できるからである.

%What is the correct answer for $\ul{0}^{\ul{0}}$, based on the definitions of $\ul{0}$ and $\ul{1}$, given in (\ref{dia:underline n}), and of $A^B$, given in (\ref{dia:exponential sets})?
\eqref{dia:underline n}で与えられた$\ul{0}$ and $\ul{1}$の定義と, \eqref{dia:exponential sets}で与えられた$A^B$の定義に基くと, $\ul{0}^{\ul{0}}$の正しい答はどうなるだろうか?
\end{exercise}

\begin{exercise}
%It is also true of natural numbers that if $a,b\in\NN$ and $ab=0$ then either $a=0$ or $b=0$. Is the analogous statement true of all sets?
もし$a,b\in\NN$かつ$ab=0$ならば$a=0$あるいは$b=0$であるということもまた自然数では真である. 全ての集合で類似した言明は真だろうか?
\end{exercise}

%Proposition \ref{prop:arithmetic of sets} is in some sense about isomorphisms. It says that understanding isomorphisms of sets reduces to understanding natural numbers. But note that there is much more going on in $\Set$ than isomorphisms; in particular there are functions that are not invertible. 

Proposition \ref{prop:arithmetic of sets}はある意味では同型写像に関するpropositionである. このpropositionは集合の同型写像を理解することは自然数を理解することに還元できると言っている. しかし$\Set$においては同型写像よりも先に進むべき場所があることに注意しよう. 特に, 可逆ではない函数の存在がある.

%In grade school you probably never saw anything that looked like this:
%$$5^3\times 3\too 5$$
%And yet in Exercise \ref{exc:evaluation} we found a function $ev\taking B^A\times A\to B$ that exists for any sets $A,B$. This function $ev$ is not an isomorphism so it somehow does not show up as an equation of natural numbers. But it still has important meaning.
%\footnote{Roughly, the existence of $ev\taking\ul{5}^{\ul{3}}\times\ul{3}\too \ul{5}$ says that given a dot in a $5\times 5\times 5$ grid of dots, and given one of the three axes, you can tell me the coordinate of that dot along that axis.} In terms of mere number, it looks like we are being told of an important function $\ul{575}\to\ul{5}$, which is bizarre. The issue here is precisely the one you confronted in Exercise \ref{exc:functions are not iso invariant}.

大学院では, おそらく以下のようなものは決して見ることはないだろう.
$$5^3\times 3\too 5$$
それにもかからわず, 我々はExercise \ref{exc:evaluation}では任意の集合$A$, $B$に対して函数$ev\taking B^A\times A\to B$の存在を見出した. この函数$ev$は同型写像ばなく, よって自然数の等式としてなんとか表現するということはできない. しかし, それでもこれには重要な意味がある.
\footnote{大雑把には, $ev\taking\ul{5}^{\ul{3}}\times\ul{3}\too \ul{5}$の存在は,  says that given a dot in $5\times 5\times 5$の点の格子から点が与えられ, また三つの軸のうちの一つが与えられたとき, 軸に沿った点の座標を示すことができる, ということを言っている.} 単なる数の観点からは, 重要な函数$\ul{575}\to\ul{5}$について語ろうとしているのと同じに見えるが, この函数は奇妙である. ここでの問題はまさにExercise \ref{exc:functions are not iso invariant}で向き合うものである.

\begin{exercise}
%Explain why there is a canonical function $\ul{5}^{\ul{3}}\times\ul{3}\too \ul{5}$ but not a canonical function $\ul{575}\to\ul{5}$.
canonicalな函数$\ul{5}^{\ul{3}}\times\ul{3}\too \ul{5}$は存在するのにcanonicalな函数$\ul{575}\to\ul{5}$は存在しないのはなぜかを説明せよ.
\end{exercise}

\begin{slogan}
%It is true that a set is isomorphic to any other set with the same number of elements, but don't be fooled into thinking that the study of sets reduces to the study of numbers. Functions that are not isomorphisms cannot be captured within the framework of numbers. 
ある集合が, その集合と同じ数の要素を持つ他の任意の集合と同型である, というのは真である. しかし, 集合の研究は自然数の研究に還元できるという考えに陥ってはならない. 同型写像でない函数は自然数の枠組みの内部では捉えることはできない.
\end{slogan}

%%%% Subsection %%%%

\subsection{Subobjects and characteristic functions}

\begin{definition}\label{def:power set}

For any set $B$, define the {\em power set of $B$}\index{power set}, denoted $\PP(B)$,\index{a symbol!$\PP$} to be the set of subsets of $B$.

\end{definition}

\begin{exercise}\label{exc:size of power sets}~
\sexc How many elements does $\PP(\emptyset)$ have? 
\next How many elements does $\PP(\singleton)$ have? 
\next How many elements does $\PP(\{1,2,3,4,5,6\})$ have? 
\next Any idea why they may have named it ``power set"?
\endsexc
\end{exercise}

%% Subsubsection %%

\subsubsection{Simplicial complexes}\label{sec:simplicial complex}

\begin{definition}\label{def:simplicial complex}\index{simplicial complex}

Let $V$ be a set and let $\PP(V)$ be its powerset. A subset $X\ss\PP(V)$ is called {\em downward-closed} if, for every $u\in X$ and every $u'\ss u$, we have $u'\in X$. We say that $X$ {\em contains all atoms} if for every $v\in V$ the singleton set $\{v\}$ is an element of $X$. 

A {\em simplicial complex} is a pair $(V,X)$ where $V$ is a set and $X\ss\PP(V)$ is a downward-closed subset that contains all atoms. The elements of $X$ are called {\em simplices} (singular: {\em simplex}).\index{simplex} Any subset $u\ss V$ has a cardinality $|u|$, so we have a function $X\to\NN$ sending each simplex to its cardinality. The set of simplices with cardinality $n+1$ is denoted $X_n$ and each element $x\in X_n$ is called an {\em $n$-simplex}.
\footnote{It is annoying at first that the set of subsets with cardinality 1 is denoted $X_0$, etc. But this is standard convention because as we will see, $X_n$ will be $n$-dimensional.}
Since $X$ contains all atoms (subsets of cardinality 1), we have $X_0\iso V$, and we may also call the 0-simplices {\em vertices}. We sometimes call the 1-simplices {\em edges}.
\footnote{The reason we wrote $X_0\iso V$ rather than $X_0=V$ is that $X_0$ is the set of 1-element subsets of $V$. So if $V=\{a,b,c\}$ then $X_0=\{\{a\},\{b\},\{c\}\}$. This is really just pedantry.}

Since $X_0\iso V$, we may denote a simplicial complex $(V,X)$ simply by $X$.

\end{definition}

\begin{example}

Let $n\in\NN$ be a natural number and let $V=\ul{n+1}$. Define {\em the $n$-simplex}, denoted $\Delta^n$, to be the simplicial complex $\PP(V)\ss\PP(V)$, i.e. the whole power set, which indeed is downward-closed and contains all atoms. 

\end{example}


We can draw a simplicial complex $X$ by first putting all the vertices on the page as dots. Then for every $x\in X_1$, we see that $x=\{v,v'\}$ consists of 2 vertices, so we draw an edge connecting $v$ and $v'$. For every $y\in X_2$ we see that $y=\{w,w',w''\}$ consists of 3 vertices, so we draw a (filled-in) triangle connecting them. All three edges will be drawn too because $X$ is assumed to be downward closed.

Thus, the 0-simplex $\Delta^0$, the 1-simplex $\Delta^1$, the 2-simplex $\Delta^2$, and the 3-simplex $\Delta^3$ are drawn here:
\begin{center}
\includegraphics[height=1.1in]{simplices}
\end{center} 

The $n$-simplices for various $n$'s are in no way all of the simplicial complexes. In general a simplicial complex is a union or ``gluing together" of simplices in a prescribed manner. For example, consider the simplicial complex $X$ with vertices $X_0=\{1,2,3,4\},$ edges $X_1=\{\{1,2\},\{2,3\},\{2,4\}\},$ and no higher simplices $X_2=X_3=\cdots=\emptyset$. We might draw $X$ as follows:
$$\xymatrix{\LMO{1}\ar@{-}[r]&\LMO{2}\ar@{-}[r]\ar@{-}[d]&\LMO{3}\\&\LMO{4}}$$

\begin{exercise}
Let $X$ be the following simplicial complex, so that $X_0=\{A,B,\ldots,M\}$. 
\begin{center}
\includegraphics[height=3in]{OlogNetwork5}
\end{center} 
In this case $X_1$ consists of elements like $\{A,B\}$ and $\{D,K\}$ but not $\{D,J\}$. 

Write out $X_2$ and $X_3$ (hint: the drawing of $X$ indicates that $X_3$ should have one element).
\end{exercise}

\begin{exercise}
The 2-simplex $\Delta^2$ is drawn as a filled-in triangle with vertices $V=\{1,2,3\}$. There is a simplicial complex $X=\partial\Delta^2$ that would be drawn as an empty triangle with the same set of vertices. 
\sexc Draw $\Delta^2$ and $X$ side by side and make clear the difference.
\next Write down the data for $X$ as a simplicial complex. In other words what are the sets $X_0, X_1, X_2, X_3,\ldots$?
\endsexc
\end{exercise}

%% Subsubsection %%

\subsubsection{Subobject classifier}

\begin{definition}\label{def:subobject classifier}\index{subobject classifier!in $\Set$}

Define the {\em subobject classifier} for $\Set$, denoted $\Omega$\index{a symbol!$\Omega$}, to be the set $\Omega:=\{True,False\}$, together with the function $\singleton\to\Omega$ sending the unique element to $True$.

\end{definition}


\begin{proposition}\label{prop:characteristic function}

Let $B$ be a set. There is an isomorphism $$\phi\taking\Hom_\Set(B,\Omega)\To{\iso}\PP(B).$$

\end{proposition}

\begin{proof}

Given a function $f\taking B\to\Omega$, let $\phi(f)=\{b\in B\|f(b)=True\}\ss B$. We now construct a function $\psi\taking\PP(B)\to\Hom_\Set(B,\Omega)$ to serve as the inverse of $\phi$. Given a subset $B'\ss B$, define $\psi(B')\taking B\to\Omega$ as follows: 
$$\psi(i)(b)=\begin{cases}
True&\tn{ if } b\in B',\\
False&\tn{ if } b\not\in B'.
\end{cases}
$$
One checks easily that $\phi$ and $\psi$ are mutually inverse.

\end{proof}

\begin{definition}[Characteristic function]\index{characteristic function}\index{subset!characteristic function of}

Given a subset $B'\ss B$, we call the corresponding function $B\to\Omega$ the {\em characteristic function of $B'$ in $B$.}

\end{definition}

Let $B$ be any set and let $\PP(B)$ be its power set. By Proposition \ref{prop:characteristic function} there is a bijection between $\PP(B)$ and $\Omega^B$. Since $\Omega$ has cardinality 2, the cardinality of $\PP(B)$ is $2^{|B|}$, which explains the correct answer to Exercise \ref{exc:size of power sets}.

\begin{exercise}
Let $f\taking A\to\Omega$ denote the characteristic function of some $A'\ss A$, and define $A''\ss A$ to be its complement, $A'':=A-A'$ (i.e. $a\in A''$ if and only if $a\not\in A'$). 
\sexc What is the characteristic function of $A''\ss A$? 
\next Can you phrase it in terms of some function $\Omega\to\Omega$?
\endsexc
\end{exercise}

%%%% Subsection %%%%

\subsection{Surjections, injections}

The classical definition of injections and surjections involves elements, which we give now. But a more robust notion involves all maps and will be given in Proposition \ref{prop:inj and surj}.

\begin{definition}\label{def:inj,surj,bij}\index{function!injection}\index{function!surjection}\index{function!bijection}

Let $f\taking X\to Y$ be a function. We say that $f$ is {\em surjective} if, for all $y\in Y$ there exists some $x\in X$ such that $f(x)=y$. We say that $f$ is {\em injective} if, for all $x\in X$ and all $x'\in X$ with $f(x)=f(x')$ we have $x=x'$.

A function that is both injective and surjective is called {\em bijective}.

\end{definition}

\begin{remark}

It turns out that a function that is bijective is always an isomorphism and that all isomorphisms are bijective. We will not show that here, but it is not too hard; see for example \cite[Theorem 5.4]{Big}.

\end{remark}

\begin{definition}[Monomorphisms, epimorphisms]\label{def:mono, epi in set}\index{epimorphism!in $\Set$}\index{monomorphism!in $\Set$}

Let $f\taking X\to Y$ be a function. 

We say that $f$ is a {\em monomorphism} if for all sets $A$ and pairs of functions $g,g'\taking A\to X$,
$$
\xymatrix{A\ar@/^1pc/[r]^g\ar@/_1pc/[r]_{g'}&X\ar[r]^f&Y}
$$
if $f\circ g=f\circ g'$ then $g=g'$.

We say that $f$ is an {\em epimorphism} if for all sets $B$ and pairs of functions $h,h'\taking Y\to B$, 
$$
\xymatrix{X\ar[r]^f&Y\ar@/^1pc/[r]^h\ar@/_1pc/[r]_{h'}&B}
$$
if $h\circ f=h'\circ f$ then $h=h'$.

\end{definition}

\begin{proposition}\label{prop:inj and surj}

Let $f\taking X\to Y$ be a function. Then $f$ is injective if and only if it is a monomorphism; $f$ is surjective if and only if it is an epimorphism.

\end{proposition}

\begin{proof}

If $f$ is a monomorphism it is clearly injective by putting $A=\singleton$. Suppose that $f$ is injective and let $g,g'\taking A\to X$ be functions such that $f\circ g=f\circ g'$, but suppose for contradiction that $g\neq g'$. Then there is some element $a\in A$ such $g(a)\neq g'(a)\in X$. But by injectivity $f(g(a))\neq f(g'(a))$, contradicting $f\circ g=f\circ g'$.

Suppose that $f\taking X\to Y$ is an epimorphism and choose some $y_0\in Y$ (noting that if $Y$ is empty then the claim is vacuously true). Let $h\taking Y\to\Omega$ denote the characteristic function of the subset $\{y_0\}\ss Y$ and let $h'\taking Y\to\Omega$ denote the characteristic function of $\emptyset\ss Y$; note that $h(y)=h'(y)$ for all $y\neq y_0$. Then since $f$ is an epimorphism and $h\neq h'$, we must have $h\circ f\neq h'\circ f$, so there exists $x\in X$ with $h(f(x))\neq h'(f(x))$, which implies that $f(x)=y_0$. This proves that $f$ is surjective.

Finally, suppose that $f$ is surjective, and let $h,h'\taking Y\to B$ be functions with $h\circ f=h'\circ f$. For any $y\in Y$, there exists some $x\in X$ with $f(x)=y$, so $h(y)=h(f(x))=h'(f(x))=h'(y)$. This proves that $f$ is an epimorphism.

\end{proof}

\begin{proposition}\label{prop:pb preserve mono}

Let $f\taking X\to Y$ be a monomorphism. Then for any function $g\taking A\to Y$, the top map $f'\taking X\times_YA\to A$ in the diagram
$$
\xymatrix{X\times_YA\ar[r]^-{f'}\ar[d]_{g'}\ullimit&A\ar[d]^g\\X\ar[r]_f&Y}
$$
is a monomorphism.

\end{proposition}

\begin{proof}

To show that $f'$ is a monomorphism, we take an arbitrary set $B$ and two maps $m,n\taking B\to X\times_YA$ such that $f'\circ m=f'\circ n$, denote that function by $p:=f'\circ m\taking B\to A$. Now let $q=g'\circ m$ and $r=g'\circ n$. The diagram looks like this:
$$
\xymatrix{B\ar@<.5ex>[rr]^(.4)m\ar@<-.5ex>[rr]_(.4)n\ar@/^2pc/[rrr]^p\ar@<.5ex>[drr]^(.6)q\ar@<-.5ex>[drr]_(.6)r&&X\times_YA\ar[r]^{f'}\ar[d]_{g'}\ullimit&A\ar[d]^g\\&&X\ar[r]_f&Y}
$$
We have that 
\begin{align*}f\circ q=f\circ g'\circ m=g\circ f'\circ m=g\circ f'\circ n=f\circ g'\circ n=f\circ r\end{align*} 
But we assumed that $f$ is a monomorphism so this implies that $q=r$. By the universal property of pullbacks, Lemma \ref{lemma:up for fp}, we have $m=n$.

\end{proof}

\begin{exercise}
Show, in analogy to Proposition \ref{prop:pb preserve mono}, that pushouts preserve epimorphisms.
\end{exercise}

\begin{example}\label{exc:olog pullbacks}

Suppose an olog has a fiber product square
$$\xymatrix{X\times_ZY\ar[r]^-{g'}\ar[d]_{f'}&Y\ar[d]^f\\X\ar[r]_g&Z}$$ such that $f$ is intended to be an injection and $g$ is any map.
\footnote{Of course, this diagram is symmetrical, so the same ideas hold if $g$ is an injection and $f$ is any map.} 
In this case, there are nice labeling systems for $f', g'$, and $X\times_ZY$. Namely:
\begin{itemize}
\item ``is" is an appropriate label for $f'$, 
\item the label for $g$ is an appropriate label for $g'$,
\item (the label for $X$, then ``which", then the label for $g$, then the label for $Y$) is an appropriate label for $X\times_ZY$.
\end{itemize}

To give an explicit example, 
$$\xymatrix{
\obox{X\times_ZY}{.9in}{a rib which is made by a cow}\LA{rr}{is made by}\LAL{d}{is}&&\obox{Y}{.4in}{a cow}\LA{d}{is}\\
\obox{X}{.3in}{a rib}\LAL{rr}{is made by}&&\obox{Z}{.6in}{an animal}
}
$$

\end{example}

\begin{corollary}\label{cor:monos are pullbacks of true}

Let $i\taking A\to X$ be a monomorphism. Then there is a fiber product square of the form 
\begin{align}\label{dia:monos are pbs of true}
\xymatrix{A\ar[r]^{f'}\ar[d]_i\ullimit&\singleton\ar[d]^{True}\\X\ar[r]_f&\Omega.}
\end{align}

\end{corollary}

\begin{proof}

Let $X'\ss X$ denote the image of $i$ and let $f\taking X\to\Omega$ denote the characteristic function of $X'\ss X$. Then it is easy to check that Diagram \ref{dia:monos are pbs of true} is a pullback.

\end{proof}

\begin{exercise}
Consider the subobject classifier $\Omega$, the singleton $\singleton$ and the map $\singleton\To{True}\Omega$ from Definition \ref{def:subobject classifier}. Look at diagram \ref{dia:monos are pbs of true} and in the spirit of Exercise \ref{exc:olog pullbacks}, come up with a label for $\Omega$, a label for $\singleton$, and a label for $True$. Given a label for $X$ and a label for $f$, come up with a label for $A$, a label for $i$ and a label for $f'$, such that the English smoothly fits the mathematics.
\end{exercise}

%%%% Subsection %%%%

\subsection{Multisets, relative sets, and set-indexed sets}

In this section we prepare ourselves for considering categories other than $\Set$, by looking at some categories related to $\Set$. 

%% Subsubsection %%

\subsubsection{Multisets}\index{multiset}

Consider the set $X$ of words in a given document. If $WC(X)$ is the wordcount of the document, we will not generally have $WC(X)=|X|$. The reason is that a set cannot contain the same element more than once, so words like ``the" might be undercounted in $|X|$. A {\em multiset} is a set in which elements can be assigned a multiplicity, i.e. a number of times they are to be counted. 

But if $X$ and $Y$ are multisets, what is the appropriate type of mapping from $X$ to $Y$? Since every set is a multiset (in which each element has multiplicity 1), let's restrict ourselves to notions of mapping that agree with the usual one on sets. That is, if multisets $X$ and $Y$ happen to be sets then our mappings $X\to Y$ should just be functions.

\begin{exercise}\label{exc:multiset 1}~
\sexc Come up with some notion of mapping for multisets that generalizes functions when the notion is restricted to sets. 
\next Suppose that $X=(1,1,2,3)$ and $Y=(a,b,b,b)$, i.e. $X=\{1,2,3\}$ with $1$ having multiplicity 2, and $Y=\{a,b\}$ with $b$ having multiplicity 3. What are all the maps $X\to Y$ in your notion?
\endsexc
\end{exercise}

In Chapter \ref{chap:categories} we will be getting to the definition of category, and you can test whether your notion of mapping in fact defines a category. Here is my definition of mapping for multisets.

\begin{definition}\label{def:multiset}

A {\em multiset} is a sequence $X:=(E,B,\pi)$ where $E$ and $B$ are sets and $\pi\taking E\to B$ is a surjective function. We refer to $E$ as the set of {\em element instances of $X$}, we refer to $B$ as the set of {\em element names of $X$}, and we refer to $\pi$ as the {\em naming function for $X$}. Given an element name $x\in B$, let $\pi^\m1(x)\ss E$ be the preimage; the number of elements in $\pi^\m1(x)$ is called the {\em multiplicity of $x$}.

Suppose that $X=(E,B,\pi)$ and $X'=(E',B',\pi')$ are multisets. A {\em mapping from $X$ to $Y$}, denoted $f\taking X\to Y$, consists of a pair $(f_1,f_0)$ such that $f_1\taking E\to E'$ and $f_0\taking B\to B'$ are functions and such that the following diagram commutes:
\begin{align}\label{dia:multiset map}
\xymatrix{E\ar[r]^{f_1}\ar[d]_{\pi}&E'\ar[d]^{\pi'}\\B\ar[r]_{f_0}&B'.}
\end{align}

\end{definition}

\begin{exercise}
Suppose that a pseudo-multiset is defined to be almost the same as a multiset, except that $\pi$ is not required to be surjective. 
\sexc Write down a pseudo-multiset that is not a multi-set. 
\next Describe the difference between the two notions in terms of multiplicities. 
\next Complexity of names aside, which do you think is a more useful notion: multiset or pseudo-multisets? 
\endsexc
\end{exercise}

\begin{exercise}
Consider the multisets described in Exercise \ref{exc:multiset 1}. 
\sexc Write each of them in the form $(E,B,\pi)$, as in Definition \ref{def:multiset}. 
\next In terms of the same definition, what are the mappings $X\to Y$? 
\next If we remove the restriction that diagram \ref{dia:multiset map} must commute, how many mappings $X\to Y$ are there?
\endsexc
\end{exercise}

%\begin{example}[Using multisets to approach probability]
%
%Let $S=\{a,b,c,d\}$, and call each element of $S$ a {\em suit}. Let $R=\{1,2,\ldots,13\}$, and call each element of $R$ a {\em rank}. Let $C=S\times R$, and call each element of $C$ a {\em card}. For each $n\in\NN$, let $$A_n=\{f\taking \{1,2,\ldots,n\}\to C\|f \tn{ is injective}\}$$ and call each element of $A_n$ an {\em $n$-card arrangement}. So $A_{52}$ has $52!:=52*51*\cdots*1$ elements and $A_1$ has 52 elements.
%
%The {\em 4-handed poker deal} is the function $A_{52}\to A_5\times A_5\times A_5\times A_5$ given as follows. For each $i\in\{1,2,3,4\}$, let $p_i\taking\{1,2,3,4,5\}\to\{1,2,\ldots,52\}$ be the (injective) function given by the following matrix
%\begin{align}
%\begin{array}{l || l | l | l | l | l}
%i&p_i(1)&p_i(2)&p_i(3)&p_i(4)&p_i(5)\\\hline
%p_1&1&5&9&13&17\\
%p_2&2&6&10&14&18\\
%p_3&3&7&11&15&19\\
%p_4&4&8&12&16&20
%\end{array}
%\end{align}
%Then if $f\taking\{1,2,\ldots,52\}\to C$ is a 52-card arrangement, then $f\circ p_i\taking\{1,2,3,4,5\}\to C$ is a 5-card arrangement, and putting them together we get our 4-handed poker deal.
%
%We could similarly define a $k$-handed poker deal for any $1\leq k\leq 10$. We focus here on $1$-handed poker deals. For any $n\leq 52$, let $\sim_n$ denote the equivalence relation on $A_n$ for which two arrangements are equivalent if one is a permutation (reordering) of the other. Let $H_n=A_n/\sim_n$ be the quotient; we call its elements {\em $n$-card hands}. 
%
%In ``5-card poker", the 5-card hands are classified by patterns of suits and ranks in the cards. More precisely, given a 5-card arrangement $f\taking \{1,2,3,4,5\}\to C$, we consider the compositions with $\pi_1\taking C\to S$ and $\pi_2\taking C\to R$, which we denote $f_S:=\pi_1\circ f$ and $f_R:=\pi_2\circ f$. We are concerned only with the cardinalities of the fibers of $f_S$ and $f_R$. For example if some suit $s\in S$ has $|f_S^\m1(s)|=5$ we say that $f$ (or its equivalence class in $H_5$) is a {\em flush}. If for ranks $r_1,r_2$ we have $|f_R^\m1(r_1)|=2$ and $|f_R^\m1(r_2)|=3$, we call it a {\em full house}. 
%
%\end{example}

%% Subsubsection %%

\subsubsection{Relative sets}\label{sec:relative sets}\index{relative set}

Let's continue with our ideas from multisets, but now suppose that we have a fixed set $B$ of names that we want to keep once and for all. Whenever someone discusses a set, each element must have a name in $B$. And whenever someone discusses a mapping, it must preserve the names. For example, if $B$ is the set of English words, then every document consists of an ordered set mapping to $B$ (e.g. $1\mapsto \tn{Suppose}, 2\mapsto\tn{that}, 3\mapsto\tn{we},$ etc.) A mapping from document $A$ to document $B$ would send each word found somewhere in $A$ to the same word found somewhere in $B$. This notion is defined carefully below.

\begin{definition}[Relative set]\label{def:relative sets}\index{relative set}

Let $B$ be a set. A {\em relative set over $B$}, or simply a {\em set over $B$}, is a pair $(E,\pi)$ such that $E$ is a set and $\pi\taking E\to B$ is a function. A {\em mapping of relative sets over $B$}, denoted $f\taking (E,\pi)\to(E',\pi')$, is a function $f\taking E\to E'$ such that the triangle below commutes, i.e. $\pi=\pi'\circ f$,
$$
\xymatrix@=10pt{E\ar[rr]^f\ar[rdd]_{\pi}&&E'\ar[ldd]^{\pi'}\\\\&B
}
$$

\end{definition}

\begin{exercise}
Given sets $X,Y,Z$ and functions $f\taking X\to Y$ and $g\taking Y\to Z$, we can compose them to get a function $X\to Z$. If $B$ is a set, if $(X,p), (Y,q),$ and $(Z,r)$ are relative sets over $B$, and if $f\taking (X,p)\to (Y,q)$ and $g\taking (Y,q)\to (Z,r)$ are mappings, is there a reasonable notion of composition such that we get a mapping of relative sets $(X,p)\to (Z,r)$? Hint: draw diagrams.
\end{exercise}

\begin{exercise}~
\sexc Let $\singleton$ denote a set with one element. What is the difference between sets over $\singleton$ and simply sets?
\next Describe the sets relative to $\emptyset$. How many are there?
\endsexc
\end{exercise}

%% Subsubsection %%

\subsubsection{Indexed sets}\label{sec:indexed sets}\index{indexed set}

Let $A$ be a set. Suppose we want to assign to each element $a\in A$ a set $S_a$. This is called an $A$-indexed set. In category theory we are always interested in the legal mappings between two different structures of the same sort, so we need a notion of $A$-indexed mappings; we do the ``obvious thing".

\begin{example}\label{ex:classroom seats}

Let $C$ be a set of classrooms. For each $c\in C$ let $P_c$ denote the set of people in classroom $c$, and let $S_c$ denote the set of seats (chairs) in classroom $c$. Then $P$ and $S$ are $C$-indexed sets. The appropriate kind of mapping between them respects the indexes. That is, a mapping of multi-sets $P\to S$ should, for each classroom $c\in C$, be a function $P_c\to S_c$.\footnote{If we wanted to allow people from any classroom to choose a chair from just any classroom, category theory would tell us to reconsider $P$ and $S$ as sets, forgetting their indices. See Section \ref{sec:left push}.}

\end{example}

\begin{definition}\label{def:indexed sets}\index{indexed set}

Let $A$ be a set. An {\em $A$-indexed set} is a collection of sets $S_a$, one for each element $a\in A$; for now we denote this by $(S_a)_{a\in A}$. If $(S'_a)_{a\in A}$ is another $A$-indexed set, a {\em mapping of $A$-indexed sets from $(S_a)_{a\in A}$ to $(S'_a)_{a\in A}$}, denoted $$(f_a)_{a\in A}\taking(S_a)_{a\in A}\to (S'_a)_{a\in A}$$ is a collection of functions $f_a\taking S_a\to S'_a$, one for each element $a\in A$.

\end{definition}

\begin{exercise}
Let $\singleton$ denote a one element set. What are $\singleton$-indexed sets and mappings between them?
\end{exercise}

\begin{exercise}
There is a strong relationship between $A$-indexed sets and relative sets over $A$. What is it? 
\end{exercise}



